{
  "version": 3,
  "sources": ["../node_modules/smoothie/smoothie.js", "../node_modules/fili/dist/fili.min.js", "../src/PolarH10VisualizerRow.ts", "../src/CustomSmoothie.ts", "../../polar-h10/src/consts.ts", "../../polar-h10/src/PolarH10.ts", "../src/consts.ts", "../src/index.ts"],
  "sourcesContent": [";(function(exports) {\r\n\r\n/**\r\n * @license\r\n * MIT License:\r\n *\r\n * Copyright (c) 2010-2013, Joe Walnes\r\n *               2013-2018, Drew Noakes\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n\r\n/**\r\n * Smoothie Charts - http://smoothiecharts.org/\r\n * (c) 2010-2013, Joe Walnes\r\n *     2013-2018, Drew Noakes\r\n *\r\n * v1.0: Main charting library, by Joe Walnes\r\n * v1.1: Auto scaling of axis, by Neil Dunn\r\n * v1.2: fps (frames per second) option, by Mathias Petterson\r\n * v1.3: Fix for divide by zero, by Paul Nikitochkin\r\n * v1.4: Set minimum, top-scale padding, remove timeseries, add optional timer to reset bounds, by Kelley Reynolds\r\n * v1.5: Set default frames per second to 50... smoother.\r\n *       .start(), .stop() methods for conserving CPU, by Dmitry Vyal\r\n *       options.interpolation = 'bezier' or 'line', by Dmitry Vyal\r\n *       options.maxValue to fix scale, by Dmitry Vyal\r\n * v1.6: minValue/maxValue will always get converted to floats, by Przemek Matylla\r\n * v1.7: options.grid.fillStyle may be a transparent color, by Dmitry A. Shashkin\r\n *       Smooth rescaling, by Kostas Michalopoulos\r\n * v1.8: Set max length to customize number of live points in the dataset with options.maxDataSetLength, by Krishna Narni\r\n * v1.9: Display timestamps along the bottom, by Nick and Stev-io\r\n *       (https://groups.google.com/forum/?fromgroups#!topic/smoothie-charts/-Ywse8FCpKI%5B1-25%5D)\r\n *       Refactored by Krishna Narni, to support timestamp formatting function\r\n * v1.10: Switch to requestAnimationFrame, removed the now obsoleted options.fps, by Gergely Imreh\r\n * v1.11: options.grid.sharpLines option added, by @drewnoakes\r\n *        Addressed warning seen in Firefox when seriesOption.fillStyle undefined, by @drewnoakes\r\n * v1.12: Support for horizontalLines added, by @drewnoakes\r\n *        Support for yRangeFunction callback added, by @drewnoakes\r\n * v1.13: Fixed typo (#32), by @alnikitich\r\n * v1.14: Timer cleared when last TimeSeries removed (#23), by @davidgaleano\r\n *        Fixed diagonal line on chart at start/end of data stream, by @drewnoakes\r\n * v1.15: Support for npm package (#18), by @dominictarr\r\n *        Fixed broken removeTimeSeries function (#24) by @davidgaleano\r\n *        Minor performance and tidying, by @drewnoakes\r\n * v1.16: Bug fix introduced in v1.14 relating to timer creation/clearance (#23), by @drewnoakes\r\n *        TimeSeries.append now deals with out-of-order timestamps, and can merge duplicates, by @zacwitte (#12)\r\n *        Documentation and some local variable renaming for clarity, by @drewnoakes\r\n * v1.17: Allow control over font size (#10), by @drewnoakes\r\n *        Timestamp text won't overlap, by @drewnoakes\r\n * v1.18: Allow control of max/min label precision, by @drewnoakes\r\n *        Added 'borderVisible' chart option, by @drewnoakes\r\n *        Allow drawing series with fill but no stroke (line), by @drewnoakes\r\n * v1.19: Avoid unnecessary repaints, and fixed flicker in old browsers having multiple charts in document (#40), by @asbai\r\n * v1.20: Add SmoothieChart.getTimeSeriesOptions and SmoothieChart.bringToFront functions, by @drewnoakes\r\n * v1.21: Add 'step' interpolation mode, by @drewnoakes\r\n * v1.22: Add support for different pixel ratios. Also add optional y limit formatters, by @copacetic\r\n * v1.23: Fix bug introduced in v1.22 (#44), by @drewnoakes\r\n * v1.24: Fix bug introduced in v1.23, re-adding parseFloat to y-axis formatter defaults, by @siggy_sf\r\n * v1.25: Fix bug seen when adding a data point to TimeSeries which is older than the current data, by @Nking92\r\n *        Draw time labels on top of series, by @comolosabia\r\n *        Add TimeSeries.clear function, by @drewnoakes\r\n * v1.26: Add support for resizing on high device pixel ratio screens, by @copacetic\r\n * v1.27: Fix bug introduced in v1.26 for non whole number devicePixelRatio values, by @zmbush\r\n * v1.28: Add 'minValueScale' option, by @megawac\r\n *        Fix 'labelPos' for different size of 'minValueString' 'maxValueString', by @henryn\r\n * v1.29: Support responsive sizing, by @drewnoakes\r\n * v1.29.1: Include types in package, and make property optional, by @TrentHouliston\r\n * v1.30: Fix inverted logic in devicePixelRatio support, by @scanlime\r\n * v1.31: Support tooltips, by @Sly1024 and @drewnoakes\r\n * v1.32: Support frame rate limit, by @dpuyosa\r\n * v1.33: Use Date static method instead of instance, by @nnnoel\r\n *        Fix bug with tooltips when multiple charts on a page, by @jpmbiz70\r\n * v1.34: Add disabled option to TimeSeries, by @TechGuard (#91)\r\n *        Add nonRealtimeData option, by @annazhelt (#92, #93)\r\n *        Add showIntermediateLabels option, by @annazhelt (#94)\r\n *        Add displayDataFromPercentile option, by @annazhelt (#95)\r\n *        Fix bug when hiding tooltip element, by @ralphwetzel (#96)\r\n *        Support intermediate y-axis labels, by @beikeland (#99)\r\n * v1.35: Fix issue with responsive mode at high DPI, by @drewnoakes (#101)\r\n * v1.36: Add tooltipLabel to ITimeSeriesPresentationOptions.\r\n *        If tooltipLabel is present, tooltipLabel displays inside tooltip\r\n *        next to value, by @jackdesert (#102)\r\n *        Fix bug rendering issue in series fill when using scroll backwards, by @olssonfredrik\r\n *        Add title option, by @mesca\r\n *        Fix data drop stoppage by rejecting NaNs in append(), by @timdrysdale\r\n *        Allow setting interpolation per time series, by @WofWca (#123)\r\n *        Fix chart constantly jumping in 1-2 pixel steps, by @WofWca (#131)\r\n *        Fix a memory leak appearing when some `timeSeries.disabled === true`, by @WofWca (#132)\r\n *        Fix: make all lines sharp, remove the `grid.sharpLines` option by @WofWca (#134)\r\n *        Improve performance, by @WofWca (#135)\r\n *        Fix `this.delay` not being respected with `nonRealtimeData: true`, by @WofWca (#137)\r\n *        Fix series fill & stroke being inconsistent for last data time < render time, by @WofWca (#138)\r\n * v1.36.1: Fix a potential XSS when `tooltipLabel` or `strokeStyle` are controlled by users, by @WofWca\r\n */\r\n\r\n  // Date.now polyfill\r\n  Date.now = Date.now || function() { return new Date().getTime(); };\r\n\r\n  var Util = {\r\n    extend: function() {\r\n      arguments[0] = arguments[0] || {};\r\n      for (var i = 1; i < arguments.length; i++)\r\n      {\r\n        for (var key in arguments[i])\r\n        {\r\n          if (arguments[i].hasOwnProperty(key))\r\n          {\r\n            if (typeof(arguments[i][key]) === 'object') {\r\n              if (arguments[i][key] instanceof Array) {\r\n                arguments[0][key] = arguments[i][key];\r\n              } else {\r\n                arguments[0][key] = Util.extend(arguments[0][key], arguments[i][key]);\r\n              }\r\n            } else {\r\n              arguments[0][key] = arguments[i][key];\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return arguments[0];\r\n    },\r\n    binarySearch: function(data, value) {\r\n      var low = 0,\r\n          high = data.length;\r\n      while (low < high) {\r\n        var mid = (low + high) >> 1;\r\n        if (value < data[mid][0])\r\n          high = mid;\r\n        else\r\n          low = mid + 1;\r\n      }\r\n      return low;\r\n    },\r\n    // So lines (especially vertical and horizontal) look a) consistent along their length and b) sharp.\r\n    pixelSnap: function(position, lineWidth) {\r\n      if (lineWidth % 2 === 0) {\r\n        // Closest pixel edge.\r\n        return Math.round(position);\r\n      } else {\r\n        // Closest pixel center.\r\n        return Math.floor(position) + 0.5;\r\n      }\r\n    },\r\n  };\r\n\r\n  /**\r\n   * Initialises a new <code>TimeSeries</code> with optional data options.\r\n   *\r\n   * Options are of the form (defaults shown):\r\n   *\r\n   * <pre>\r\n   * {\r\n   *   resetBounds: true,        // enables/disables automatic scaling of the y-axis\r\n   *   resetBoundsInterval: 3000 // the period between scaling calculations, in millis\r\n   * }\r\n   * </pre>\r\n   *\r\n   * Presentation options for TimeSeries are specified as an argument to <code>SmoothieChart.addTimeSeries</code>.\r\n   *\r\n   * @constructor\r\n   */\r\n  function TimeSeries(options) {\r\n    this.options = Util.extend({}, TimeSeries.defaultOptions, options);\r\n    this.disabled = false;\r\n    this.clear();\r\n  }\r\n\r\n  TimeSeries.defaultOptions = {\r\n    resetBoundsInterval: 3000,\r\n    resetBounds: true\r\n  };\r\n\r\n  /**\r\n   * Clears all data and state from this TimeSeries object.\r\n   */\r\n  TimeSeries.prototype.clear = function() {\r\n    this.data = [];\r\n    this.maxValue = Number.NaN; // The maximum value ever seen in this TimeSeries.\r\n    this.minValue = Number.NaN; // The minimum value ever seen in this TimeSeries.\r\n  };\r\n\r\n  /**\r\n   * Recalculate the min/max values for this <code>TimeSeries</code> object.\r\n   *\r\n   * This causes the graph to scale itself in the y-axis.\r\n   */\r\n  TimeSeries.prototype.resetBounds = function() {\r\n    if (this.data.length) {\r\n      // Walk through all data points, finding the min/max value\r\n      this.maxValue = this.data[0][1];\r\n      this.minValue = this.data[0][1];\r\n      for (var i = 1; i < this.data.length; i++) {\r\n        var value = this.data[i][1];\r\n        if (value > this.maxValue) {\r\n          this.maxValue = value;\r\n        }\r\n        if (value < this.minValue) {\r\n          this.minValue = value;\r\n        }\r\n      }\r\n    } else {\r\n      // No data exists, so set min/max to NaN\r\n      this.maxValue = Number.NaN;\r\n      this.minValue = Number.NaN;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Adds a new data point to the <code>TimeSeries</code>, preserving chronological order.\r\n   *\r\n   * @param timestamp the position, in time, of this data point\r\n   * @param value the value of this data point\r\n   * @param sumRepeatedTimeStampValues if <code>timestamp</code> has an exact match in the series, this flag controls\r\n   * whether it is replaced, or the values summed (defaults to false.)\r\n   */\r\n  TimeSeries.prototype.append = function(timestamp, value, sumRepeatedTimeStampValues) {\r\n\t// Reject NaN\r\n\tif (isNaN(timestamp) || isNaN(value)){\r\n\t\treturn\r\n\t}  \r\n\r\n    var lastI = this.data.length - 1;\r\n    if (lastI >= 0) {\r\n      // Rewind until we find the place for the new data\r\n      var i = lastI;\r\n      while (true) {\r\n        var iThData = this.data[i];\r\n        if (timestamp >= iThData[0]) {\r\n          if (timestamp === iThData[0]) {\r\n            // Update existing values in the array\r\n            if (sumRepeatedTimeStampValues) {\r\n              // Sum this value into the existing 'bucket'\r\n              iThData[1] += value;\r\n              value = iThData[1];\r\n            } else {\r\n              // Replace the previous value\r\n              iThData[1] = value;\r\n            }\r\n          } else {\r\n            // Splice into the correct position to keep timestamps in order\r\n            this.data.splice(i + 1, 0, [timestamp, value]);\r\n          }\r\n\r\n          break;\r\n        }\r\n\r\n        i--;\r\n        if (i < 0) {\r\n          // This new item is the oldest data\r\n          this.data.splice(0, 0, [timestamp, value]);\r\n\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      // It's the first element\r\n      this.data.push([timestamp, value]);\r\n    }\r\n\r\n    this.maxValue = isNaN(this.maxValue) ? value : Math.max(this.maxValue, value);\r\n    this.minValue = isNaN(this.minValue) ? value : Math.min(this.minValue, value);\r\n  };\r\n\r\n  TimeSeries.prototype.dropOldData = function(oldestValidTime, maxDataSetLength) {\r\n    // We must always keep one expired data point as we need this to draw the\r\n    // line that comes into the chart from the left, but any points prior to that can be removed.\r\n    var removeCount = 0;\r\n    while (this.data.length - removeCount >= maxDataSetLength && this.data[removeCount + 1][0] < oldestValidTime) {\r\n      removeCount++;\r\n    }\r\n    if (removeCount !== 0) {\r\n      this.data.splice(0, removeCount);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Initialises a new <code>SmoothieChart</code>.\r\n   *\r\n   * Options are optional, and should be of the form below. Just specify the values you\r\n   * need and the rest will be given sensible defaults as shown:\r\n   *\r\n   * <pre>\r\n   * {\r\n   *   minValue: undefined,                      // specify to clamp the lower y-axis to a given value\r\n   *   maxValue: undefined,                      // specify to clamp the upper y-axis to a given value\r\n   *   maxValueScale: 1,                         // allows proportional padding to be added above the chart. for 10% padding, specify 1.1.\r\n   *   minValueScale: 1,                         // allows proportional padding to be added below the chart. for 10% padding, specify 1.1.\r\n   *   yRangeFunction: undefined,                // function({min: , max: }) { return {min: , max: }; }\r\n   *   scaleSmoothing: 0.125,                    // controls the rate at which y-value zoom animation occurs\r\n   *   millisPerPixel: 20,                       // sets the speed at which the chart pans by\r\n   *   enableDpiScaling: true,                   // support rendering at different DPI depending on the device\r\n   *   yMinFormatter: function(min, precision) { // callback function that formats the min y value label\r\n   *     return parseFloat(min).toFixed(precision);\r\n   *   },\r\n   *   yMaxFormatter: function(max, precision) { // callback function that formats the max y value label\r\n   *     return parseFloat(max).toFixed(precision);\r\n   *   },\r\n   *   yIntermediateFormatter: function(intermediate, precision) { // callback function that formats the intermediate y value labels\r\n   *     return parseFloat(intermediate).toFixed(precision);\r\n   *   },\r\n   *   maxDataSetLength: 2,\r\n   *   interpolation: 'bezier'                   // one of 'bezier', 'linear', or 'step'\r\n   *   timestampFormatter: null,                 // optional function to format time stamps for bottom of chart\r\n   *                                             // you may use SmoothieChart.timeFormatter, or your own: function(date) { return ''; }\r\n   *   scrollBackwards: false,                   // reverse the scroll direction of the chart\r\n   *   horizontalLines: [],                      // [ { value: 0, color: '#ffffff', lineWidth: 1 } ]\r\n   *   grid:\r\n   *   {\r\n   *     fillStyle: '#000000',                   // the background colour of the chart\r\n   *     lineWidth: 1,                           // the pixel width of grid lines\r\n   *     strokeStyle: '#777777',                 // colour of grid lines\r\n   *     millisPerLine: 1000,                    // distance between vertical grid lines\r\n   *     verticalSections: 2,                    // number of vertical sections marked out by horizontal grid lines\r\n   *     borderVisible: true                     // whether the grid lines trace the border of the chart or not\r\n   *   },\r\n   *   labels\r\n   *   {\r\n   *     disabled: false,                        // enables/disables labels showing the min/max values\r\n   *     fillStyle: '#ffffff',                   // colour for text of labels,\r\n   *     fontSize: 15,\r\n   *     fontFamily: 'sans-serif',\r\n   *     precision: 2,\r\n   *     showIntermediateLabels: false,          // shows intermediate labels between min and max values along y axis\r\n   *     intermediateLabelSameAxis: true,\r\n   *   },\r\n   *   title\r\n   *   {\r\n   *     text: '',                               // the text to display on the left side of the chart\r\n   *     fillStyle: '#ffffff',                   // colour for text\r\n   *     fontSize: 15,\r\n   *     fontFamily: 'sans-serif',\r\n   *     verticalAlign: 'middle'                 // one of 'top', 'middle', or 'bottom'\r\n   *   },\r\n   *   tooltip: false                            // show tooltip when mouse is over the chart\r\n   *   tooltipLine: {                            // properties for a vertical line at the cursor position\r\n   *     lineWidth: 1,\r\n   *     strokeStyle: '#BBBBBB'\r\n   *   },\r\n   *   tooltipFormatter: SmoothieChart.tooltipFormatter, // formatter function for tooltip text\r\n   *   nonRealtimeData: false,                   // use time of latest data as current time\r\n   *   displayDataFromPercentile: 1,             // display not latest data, but data from the given percentile\r\n   *                                             // useful when trying to see old data saved by setting a high value for maxDataSetLength\r\n   *                                             // should be a value between 0 and 1\r\n   *   responsive: false,                        // whether the chart should adapt to the size of the canvas\r\n   *   limitFPS: 0                               // maximum frame rate the chart will render at, in FPS (zero means no limit)\r\n   * }\r\n   * </pre>\r\n   *\r\n   * @constructor\r\n   */\r\n  function SmoothieChart(options) {\r\n    this.options = Util.extend({}, SmoothieChart.defaultChartOptions, options);\r\n    this.seriesSet = [];\r\n    this.currentValueRange = 1;\r\n    this.currentVisMinValue = 0;\r\n    this.lastRenderTimeMillis = 0;\r\n    this.lastChartTimestamp = 0;\r\n\r\n    this.mousemove = this.mousemove.bind(this);\r\n    this.mouseout = this.mouseout.bind(this);\r\n  }\r\n\r\n  /** Formats the HTML string content of the tooltip. */\r\n  SmoothieChart.tooltipFormatter = function (timestamp, data) {\r\n      var timestampFormatter = this.options.timestampFormatter || SmoothieChart.timeFormatter,\r\n          // A dummy element to hold children. Maybe there's a better way.\r\n          elements = document.createElement('div'),\r\n          label;\r\n      elements.appendChild(document.createTextNode(\r\n        timestampFormatter(new Date(timestamp))\r\n      ));\r\n\r\n      for (var i = 0; i < data.length; ++i) {\r\n        label = data[i].series.options.tooltipLabel || ''\r\n        if (label !== ''){\r\n            label = label + ' ';\r\n        }\r\n        var dataEl = document.createElement('span');\r\n        dataEl.style.color = data[i].series.options.strokeStyle;\r\n        dataEl.appendChild(document.createTextNode(\r\n          label + this.options.yMaxFormatter(data[i].value, this.options.labels.precision)\r\n        ));\r\n        elements.appendChild(document.createElement('br'));\r\n        elements.appendChild(dataEl);\r\n      }\r\n\r\n      return elements.innerHTML;\r\n  };\r\n\r\n  SmoothieChart.defaultChartOptions = {\r\n    millisPerPixel: 20,\r\n    enableDpiScaling: true,\r\n    yMinFormatter: function(min, precision) {\r\n      return parseFloat(min).toFixed(precision);\r\n    },\r\n    yMaxFormatter: function(max, precision) {\r\n      return parseFloat(max).toFixed(precision);\r\n    },\r\n    yIntermediateFormatter: function(intermediate, precision) {\r\n      return parseFloat(intermediate).toFixed(precision);\r\n    },\r\n    maxValueScale: 1,\r\n    minValueScale: 1,\r\n    interpolation: 'bezier',\r\n    scaleSmoothing: 0.125,\r\n    maxDataSetLength: 2,\r\n    scrollBackwards: false,\r\n    displayDataFromPercentile: 1,\r\n    grid: {\r\n      fillStyle: '#000000',\r\n      strokeStyle: '#777777',\r\n      lineWidth: 2,\r\n      millisPerLine: 1000,\r\n      verticalSections: 2,\r\n      borderVisible: true\r\n    },\r\n    labels: {\r\n      fillStyle: '#ffffff',\r\n      disabled: false,\r\n      fontSize: 10,\r\n      fontFamily: 'monospace',\r\n      precision: 2,\r\n      showIntermediateLabels: false,\r\n      intermediateLabelSameAxis: true,\r\n    },\r\n    title: {\r\n      text: '',\r\n      fillStyle: '#ffffff',\r\n      fontSize: 15,\r\n      fontFamily: 'monospace',\r\n      verticalAlign: 'middle'\r\n    },\r\n    horizontalLines: [],\r\n    tooltip: false,\r\n    tooltipLine: {\r\n      lineWidth: 1,\r\n      strokeStyle: '#BBBBBB'\r\n    },\r\n    tooltipFormatter: SmoothieChart.tooltipFormatter,\r\n    nonRealtimeData: false,\r\n    responsive: false,\r\n    limitFPS: 0\r\n  };\r\n\r\n  // Based on http://inspirit.github.com/jsfeat/js/compatibility.js\r\n  SmoothieChart.AnimateCompatibility = (function() {\r\n    var requestAnimationFrame = function(callback, element) {\r\n          var requestAnimationFrame =\r\n            window.requestAnimationFrame        ||\r\n            window.webkitRequestAnimationFrame  ||\r\n            window.mozRequestAnimationFrame     ||\r\n            window.oRequestAnimationFrame       ||\r\n            window.msRequestAnimationFrame      ||\r\n            function(callback) {\r\n              return window.setTimeout(function() {\r\n                callback(Date.now());\r\n              }, 16);\r\n            };\r\n          return requestAnimationFrame.call(window, callback, element);\r\n        },\r\n        cancelAnimationFrame = function(id) {\r\n          var cancelAnimationFrame =\r\n            window.cancelAnimationFrame ||\r\n            function(id) {\r\n              clearTimeout(id);\r\n            };\r\n          return cancelAnimationFrame.call(window, id);\r\n        };\r\n\r\n    return {\r\n      requestAnimationFrame: requestAnimationFrame,\r\n      cancelAnimationFrame: cancelAnimationFrame\r\n    };\r\n  })();\r\n\r\n  SmoothieChart.defaultSeriesPresentationOptions = {\r\n    lineWidth: 1,\r\n    strokeStyle: '#ffffff'\r\n  };\r\n\r\n  /**\r\n   * Adds a <code>TimeSeries</code> to this chart, with optional presentation options.\r\n   *\r\n   * Presentation options should be of the form (defaults shown):\r\n   *\r\n   * <pre>\r\n   * {\r\n   *   lineWidth: 1,\r\n   *   strokeStyle: '#ffffff',\r\n   *   fillStyle: undefined,\r\n   *   interpolation: undefined;\r\n   *   tooltipLabel: undefined\r\n   * }\r\n   * </pre>\r\n   */\r\n  SmoothieChart.prototype.addTimeSeries = function(timeSeries, options) {\r\n    this.seriesSet.push({timeSeries: timeSeries, options: Util.extend({}, SmoothieChart.defaultSeriesPresentationOptions, options)});\r\n    if (timeSeries.options.resetBounds && timeSeries.options.resetBoundsInterval > 0) {\r\n      timeSeries.resetBoundsTimerId = setInterval(\r\n        function() {\r\n          timeSeries.resetBounds();\r\n        },\r\n        timeSeries.options.resetBoundsInterval\r\n      );\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Removes the specified <code>TimeSeries</code> from the chart.\r\n   */\r\n  SmoothieChart.prototype.removeTimeSeries = function(timeSeries) {\r\n    // Find the correct timeseries to remove, and remove it\r\n    var numSeries = this.seriesSet.length;\r\n    for (var i = 0; i < numSeries; i++) {\r\n      if (this.seriesSet[i].timeSeries === timeSeries) {\r\n        this.seriesSet.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    // If a timer was operating for that timeseries, remove it\r\n    if (timeSeries.resetBoundsTimerId) {\r\n      // Stop resetting the bounds, if we were\r\n      clearInterval(timeSeries.resetBoundsTimerId);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Gets render options for the specified <code>TimeSeries</code>.\r\n   *\r\n   * As you may use a single <code>TimeSeries</code> in multiple charts with different formatting in each usage,\r\n   * these settings are stored in the chart.\r\n   */\r\n  SmoothieChart.prototype.getTimeSeriesOptions = function(timeSeries) {\r\n    // Find the correct timeseries to remove, and remove it\r\n    var numSeries = this.seriesSet.length;\r\n    for (var i = 0; i < numSeries; i++) {\r\n      if (this.seriesSet[i].timeSeries === timeSeries) {\r\n        return this.seriesSet[i].options;\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Brings the specified <code>TimeSeries</code> to the top of the chart. It will be rendered last.\r\n   */\r\n  SmoothieChart.prototype.bringToFront = function(timeSeries) {\r\n    // Find the correct timeseries to remove, and remove it\r\n    var numSeries = this.seriesSet.length;\r\n    for (var i = 0; i < numSeries; i++) {\r\n      if (this.seriesSet[i].timeSeries === timeSeries) {\r\n        var set = this.seriesSet.splice(i, 1);\r\n        this.seriesSet.push(set[0]);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Instructs the <code>SmoothieChart</code> to start rendering to the provided canvas, with specified delay.\r\n   *\r\n   * @param canvas the target canvas element\r\n   * @param delayMillis an amount of time to wait before a data point is shown. This can prevent the end of the series\r\n   * from appearing on screen, with new values flashing into view, at the expense of some latency.\r\n   */\r\n  SmoothieChart.prototype.streamTo = function(canvas, delayMillis) {\r\n    this.canvas = canvas;\r\n\r\n    this.clientWidth = parseInt(this.canvas.getAttribute('width'));\r\n    this.clientHeight = parseInt(this.canvas.getAttribute('height'));\r\n\r\n    this.delay = delayMillis;\r\n    this.start();\r\n  };\r\n\r\n  SmoothieChart.prototype.getTooltipEl = function () {\r\n    // Create the tool tip element lazily\r\n    if (!this.tooltipEl) {\r\n      this.tooltipEl = document.createElement('div');\r\n      this.tooltipEl.className = 'smoothie-chart-tooltip';\r\n      this.tooltipEl.style.pointerEvents = 'none';\r\n      this.tooltipEl.style.position = 'absolute';\r\n      this.tooltipEl.style.display = 'none';\r\n      document.body.appendChild(this.tooltipEl);\r\n    }\r\n    return this.tooltipEl;\r\n  };\r\n\r\n  SmoothieChart.prototype.updateTooltip = function () {\r\n    if(!this.options.tooltip){\r\n     return; \r\n    }\r\n    var el = this.getTooltipEl();\r\n\r\n    if (!this.mouseover || !this.options.tooltip) {\r\n      el.style.display = 'none';\r\n      return;\r\n    }\r\n\r\n    var time = this.lastChartTimestamp;\r\n\r\n    // x pixel to time\r\n    var t = this.options.scrollBackwards\r\n      ? time - this.mouseX * this.options.millisPerPixel\r\n      : time - (this.clientWidth - this.mouseX) * this.options.millisPerPixel;\r\n\r\n    var data = [];\r\n\r\n     // For each data set...\r\n    for (var d = 0; d < this.seriesSet.length; d++) {\r\n      var timeSeries = this.seriesSet[d].timeSeries;\r\n      if (timeSeries.disabled) {\r\n          continue;\r\n      }\r\n\r\n      // find datapoint closest to time 't'\r\n      var closeIdx = Util.binarySearch(timeSeries.data, t);\r\n      if (closeIdx > 0 && closeIdx < timeSeries.data.length) {\r\n        data.push({ series: this.seriesSet[d], index: closeIdx, value: timeSeries.data[closeIdx][1] });\r\n      }\r\n    }\r\n\r\n    if (data.length) {\r\n      // TODO make `tooltipFormatter` return element(s) instead of an HTML string so it's harder for users\r\n      // to introduce an XSS. This would be a breaking change.\r\n      el.innerHTML = this.options.tooltipFormatter.call(this, t, data);\r\n      el.style.display = 'block';\r\n    } else {\r\n      el.style.display = 'none';\r\n    }\r\n  };\r\n\r\n  SmoothieChart.prototype.mousemove = function (evt) {\r\n    this.mouseover = true;\r\n    this.mouseX = evt.offsetX;\r\n    this.mouseY = evt.offsetY;\r\n    this.mousePageX = evt.pageX;\r\n    this.mousePageY = evt.pageY;\r\n    if(!this.options.tooltip){\r\n     return; \r\n    }\r\n    var el = this.getTooltipEl();\r\n    el.style.top = Math.round(this.mousePageY) + 'px';\r\n    el.style.left = Math.round(this.mousePageX) + 'px';\r\n    this.updateTooltip();\r\n  };\r\n\r\n  SmoothieChart.prototype.mouseout = function () {\r\n    this.mouseover = false;\r\n    this.mouseX = this.mouseY = -1;\r\n    if (this.tooltipEl)\r\n      this.tooltipEl.style.display = 'none';\r\n  };\r\n\r\n  /**\r\n   * Make sure the canvas has the optimal resolution for the device's pixel ratio.\r\n   */\r\n  SmoothieChart.prototype.resize = function () {\r\n    var dpr = !this.options.enableDpiScaling || !window ? 1 : window.devicePixelRatio,\r\n        width, height;\r\n    if (this.options.responsive) {\r\n      // Newer behaviour: Use the canvas's size in the layout, and set the internal\r\n      // resolution according to that size and the device pixel ratio (eg: high DPI)\r\n      width = this.canvas.offsetWidth;\r\n      height = this.canvas.offsetHeight;\r\n\r\n      if (width !== this.lastWidth) {\r\n        this.lastWidth = width;\r\n        this.canvas.setAttribute('width', (Math.floor(width * dpr)).toString());\r\n        this.canvas.getContext('2d').scale(dpr, dpr);\r\n      }\r\n      if (height !== this.lastHeight) {\r\n        this.lastHeight = height;\r\n        this.canvas.setAttribute('height', (Math.floor(height * dpr)).toString());\r\n        this.canvas.getContext('2d').scale(dpr, dpr);\r\n      }\r\n\r\n      this.clientWidth = width;\r\n      this.clientHeight = height;\r\n    } else {\r\n      width = parseInt(this.canvas.getAttribute('width'));\r\n      height = parseInt(this.canvas.getAttribute('height'));\r\n\r\n      if (dpr !== 1) {\r\n        // Older behaviour: use the canvas's inner dimensions and scale the element's size\r\n        // according to that size and the device pixel ratio (eg: high DPI)\r\n\r\n        if (Math.floor(this.clientWidth * dpr) !== width) {\r\n          this.canvas.setAttribute('width', (Math.floor(width * dpr)).toString());\r\n          this.canvas.style.width = width + 'px';\r\n          this.clientWidth = width;\r\n          this.canvas.getContext('2d').scale(dpr, dpr);\r\n        }\r\n\r\n        if (Math.floor(this.clientHeight * dpr) !== height) {\r\n          this.canvas.setAttribute('height', (Math.floor(height * dpr)).toString());\r\n          this.canvas.style.height = height + 'px';\r\n          this.clientHeight = height;\r\n          this.canvas.getContext('2d').scale(dpr, dpr);\r\n        }\r\n      } else {\r\n        this.clientWidth = width;\r\n        this.clientHeight = height;\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Starts the animation of this chart.\r\n   */\r\n  SmoothieChart.prototype.start = function() {\r\n    if (this.frame) {\r\n      // We're already running, so just return\r\n      return;\r\n    }\r\n\r\n    this.canvas.addEventListener('mousemove', this.mousemove);\r\n    this.canvas.addEventListener('mouseout', this.mouseout);\r\n\r\n    // Renders a frame, and queues the next frame for later rendering\r\n    var animate = function() {\r\n      this.frame = SmoothieChart.AnimateCompatibility.requestAnimationFrame(function() {\r\n        if(this.options.nonRealtimeData){\r\n           var dateZero = new Date(0);\r\n           // find the data point with the latest timestamp\r\n           var maxTimeStamp = this.seriesSet.reduce(function(max, series){\r\n             var dataSet = series.timeSeries.data;\r\n             var indexToCheck = Math.round(this.options.displayDataFromPercentile * dataSet.length) - 1;\r\n             indexToCheck = indexToCheck >= 0 ? indexToCheck : 0;\r\n             indexToCheck = indexToCheck <= dataSet.length -1 ? indexToCheck : dataSet.length -1;\r\n             if(dataSet && dataSet.length > 0)\r\n             {\r\n              // timestamp corresponds to element 0 of the data point\r\n              var lastDataTimeStamp = dataSet[indexToCheck][0];\r\n              max = max > lastDataTimeStamp ? max : lastDataTimeStamp;\r\n             }\r\n             return max;\r\n          }.bind(this), dateZero);\r\n          // use the max timestamp as current time\r\n          this.render(this.canvas, maxTimeStamp > dateZero ? maxTimeStamp : null);\r\n        } else {\r\n          this.render();\r\n        }\r\n        animate();\r\n      }.bind(this));\r\n    }.bind(this);\r\n\r\n    animate();\r\n  };\r\n\r\n  /**\r\n   * Stops the animation of this chart.\r\n   */\r\n  SmoothieChart.prototype.stop = function() {\r\n    if (this.frame) {\r\n      SmoothieChart.AnimateCompatibility.cancelAnimationFrame(this.frame);\r\n      delete this.frame;\r\n      this.canvas.removeEventListener('mousemove', this.mousemove);\r\n      this.canvas.removeEventListener('mouseout', this.mouseout);\r\n    }\r\n  };\r\n\r\n  SmoothieChart.prototype.updateValueRange = function() {\r\n    // Calculate the current scale of the chart, from all time series.\r\n    var chartOptions = this.options,\r\n        chartMaxValue = Number.NaN,\r\n        chartMinValue = Number.NaN;\r\n\r\n    for (var d = 0; d < this.seriesSet.length; d++) {\r\n      // TODO(ndunn): We could calculate / track these values as they stream in.\r\n      var timeSeries = this.seriesSet[d].timeSeries;\r\n      if (timeSeries.disabled) {\r\n          continue;\r\n      }\r\n\r\n      if (!isNaN(timeSeries.maxValue)) {\r\n        chartMaxValue = !isNaN(chartMaxValue) ? Math.max(chartMaxValue, timeSeries.maxValue) : timeSeries.maxValue;\r\n      }\r\n\r\n      if (!isNaN(timeSeries.minValue)) {\r\n        chartMinValue = !isNaN(chartMinValue) ? Math.min(chartMinValue, timeSeries.minValue) : timeSeries.minValue;\r\n      }\r\n    }\r\n\r\n    // Scale the chartMaxValue to add padding at the top if required\r\n    if (chartOptions.maxValue != null) {\r\n      chartMaxValue = chartOptions.maxValue;\r\n    } else {\r\n      chartMaxValue *= chartOptions.maxValueScale;\r\n    }\r\n\r\n    // Set the minimum if we've specified one\r\n    if (chartOptions.minValue != null) {\r\n      chartMinValue = chartOptions.minValue;\r\n    } else {\r\n      chartMinValue -= Math.abs(chartMinValue * chartOptions.minValueScale - chartMinValue);\r\n    }\r\n\r\n    // If a custom range function is set, call it\r\n    if (this.options.yRangeFunction) {\r\n      var range = this.options.yRangeFunction({min: chartMinValue, max: chartMaxValue});\r\n      chartMinValue = range.min;\r\n      chartMaxValue = range.max;\r\n    }\r\n\r\n    if (!isNaN(chartMaxValue) && !isNaN(chartMinValue)) {\r\n      var targetValueRange = chartMaxValue - chartMinValue;\r\n      var valueRangeDiff = (targetValueRange - this.currentValueRange);\r\n      var minValueDiff = (chartMinValue - this.currentVisMinValue);\r\n      this.isAnimatingScale = Math.abs(valueRangeDiff) > 0.1 || Math.abs(minValueDiff) > 0.1;\r\n      this.currentValueRange += chartOptions.scaleSmoothing * valueRangeDiff;\r\n      this.currentVisMinValue += chartOptions.scaleSmoothing * minValueDiff;\r\n    }\r\n\r\n    this.valueRange = { min: chartMinValue, max: chartMaxValue };\r\n  };\r\n\r\n  SmoothieChart.prototype.render = function(canvas, time) {\r\n    var nowMillis = Date.now();\r\n\r\n    // Respect any frame rate limit.\r\n    if (this.options.limitFPS > 0 && nowMillis - this.lastRenderTimeMillis < (1000/this.options.limitFPS))\r\n      return;\r\n\r\n    time = (time || nowMillis) - (this.delay || 0);\r\n\r\n    // Round time down to pixel granularity, so motion appears smoother.\r\n    time -= time % this.options.millisPerPixel;\r\n\r\n    if (!this.isAnimatingScale) {\r\n      // We're not animating. We can use the last render time and the scroll speed to work out whether\r\n      // we actually need to paint anything yet. If not, we can return immediately.\r\n      var sameTime = this.lastChartTimestamp === time;\r\n      if (sameTime) {\r\n        // Render at least every 1/6th of a second. The canvas may be resized, which there is\r\n        // no reliable way to detect.\r\n        var needToRenderInCaseCanvasResized = nowMillis - this.lastRenderTimeMillis > 1000/6;\r\n        if (!needToRenderInCaseCanvasResized) {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.lastRenderTimeMillis = nowMillis;\r\n    this.lastChartTimestamp = time;\r\n\r\n    this.resize();\r\n\r\n    canvas = canvas || this.canvas;\r\n    var context = canvas.getContext('2d'),\r\n        chartOptions = this.options,\r\n        // Using `this.clientWidth` instead of `canvas.clientWidth` because the latter is slow.\r\n        dimensions = { top: 0, left: 0, width: this.clientWidth, height: this.clientHeight },\r\n        // Calculate the threshold time for the oldest data points.\r\n        oldestValidTime = time - (dimensions.width * chartOptions.millisPerPixel),\r\n        valueToYPosition = function(value, lineWidth) {\r\n          var offset = value - this.currentVisMinValue,\r\n              unsnapped = this.currentValueRange === 0\r\n                ? dimensions.height\r\n                : dimensions.height * (1 - offset / this.currentValueRange);\r\n          return Util.pixelSnap(unsnapped, lineWidth);\r\n        }.bind(this),\r\n        timeToXPosition = function(t, lineWidth) {\r\n          var unsnapped = chartOptions.scrollBackwards\r\n            ? (time - t) / chartOptions.millisPerPixel\r\n            : dimensions.width - ((time - t) / chartOptions.millisPerPixel);\r\n          return Util.pixelSnap(unsnapped, lineWidth);\r\n        };\r\n\r\n    this.updateValueRange();\r\n\r\n    context.font = chartOptions.labels.fontSize + 'px ' + chartOptions.labels.fontFamily;\r\n\r\n    // Save the state of the canvas context, any transformations applied in this method\r\n    // will get removed from the stack at the end of this method when .restore() is called.\r\n    context.save();\r\n\r\n    // Move the origin.\r\n    context.translate(dimensions.left, dimensions.top);\r\n\r\n    // Create a clipped rectangle - anything we draw will be constrained to this rectangle.\r\n    // This prevents the occasional pixels from curves near the edges overrunning and creating\r\n    // screen cheese (that phrase should need no explanation).\r\n    context.beginPath();\r\n    context.rect(0, 0, dimensions.width, dimensions.height);\r\n    context.clip();\r\n\r\n    // Clear the working area.\r\n    context.save();\r\n    context.fillStyle = chartOptions.grid.fillStyle;\r\n    context.clearRect(0, 0, dimensions.width, dimensions.height);\r\n    context.fillRect(0, 0, dimensions.width, dimensions.height);\r\n    context.restore();\r\n\r\n    // Grid lines...\r\n    context.save();\r\n    context.lineWidth = chartOptions.grid.lineWidth;\r\n    context.strokeStyle = chartOptions.grid.strokeStyle;\r\n    // Vertical (time) dividers.\r\n    if (chartOptions.grid.millisPerLine > 0) {\r\n      context.beginPath();\r\n      for (var t = time - (time % chartOptions.grid.millisPerLine);\r\n           t >= oldestValidTime;\r\n           t -= chartOptions.grid.millisPerLine) {\r\n        var gx = timeToXPosition(t, chartOptions.grid.lineWidth);\r\n        context.moveTo(gx, 0);\r\n        context.lineTo(gx, dimensions.height);\r\n      }\r\n      context.stroke();\r\n      context.closePath();\r\n    }\r\n\r\n    // Horizontal (value) dividers.\r\n    for (var v = 1; v < chartOptions.grid.verticalSections; v++) {\r\n      var gy = Util.pixelSnap(v * dimensions.height / chartOptions.grid.verticalSections, chartOptions.grid.lineWidth);\r\n      context.beginPath();\r\n      context.moveTo(0, gy);\r\n      context.lineTo(dimensions.width, gy);\r\n      context.stroke();\r\n      context.closePath();\r\n    }\r\n    // Bounding rectangle.\r\n    if (chartOptions.grid.borderVisible) {\r\n      context.beginPath();\r\n      context.strokeRect(0, 0, dimensions.width, dimensions.height);\r\n      context.closePath();\r\n    }\r\n    context.restore();\r\n\r\n    // Draw any horizontal lines...\r\n    if (chartOptions.horizontalLines && chartOptions.horizontalLines.length) {\r\n      for (var hl = 0; hl < chartOptions.horizontalLines.length; hl++) {\r\n        var line = chartOptions.horizontalLines[hl],\r\n            lineWidth = line.lineWidth || 1,\r\n            hly = valueToYPosition(line.value, lineWidth);\r\n        context.strokeStyle = line.color || '#ffffff';\r\n        context.lineWidth = lineWidth;\r\n        context.beginPath();\r\n        context.moveTo(0, hly);\r\n        context.lineTo(dimensions.width, hly);\r\n        context.stroke();\r\n        context.closePath();\r\n      }\r\n    }\r\n\r\n    // For each data set...\r\n    for (var d = 0; d < this.seriesSet.length; d++) {\r\n      var timeSeries = this.seriesSet[d].timeSeries,\r\n          dataSet = timeSeries.data;\r\n\r\n      // Delete old data that's moved off the left of the chart.\r\n      timeSeries.dropOldData(oldestValidTime, chartOptions.maxDataSetLength);\r\n      if (dataSet.length <= 1 || timeSeries.disabled) {\r\n          continue;\r\n      }\r\n      context.save();\r\n\r\n      var seriesOptions = this.seriesSet[d].options,\r\n          // Keep in mind that `context.lineWidth = 0` doesn't actually set it to `0`.\r\n          drawStroke = seriesOptions.strokeStyle && seriesOptions.strokeStyle !== 'none',\r\n          lineWidthMaybeZero = drawStroke ? seriesOptions.lineWidth : 0;\r\n\r\n      // Draw the line...\r\n      context.beginPath();\r\n      // Retain lastX, lastY for calculating the control points of bezier curves.\r\n      var firstX = timeToXPosition(dataSet[0][0], lineWidthMaybeZero),\r\n        firstY = valueToYPosition(dataSet[0][1], lineWidthMaybeZero),\r\n        lastX = firstX,\r\n        lastY = firstY,\r\n        draw;\r\n      context.moveTo(firstX, firstY);\r\n      switch (seriesOptions.interpolation || chartOptions.interpolation) {\r\n        case \"linear\":\r\n        case \"line\": {\r\n          draw = function(x, y, lastX, lastY) {\r\n            context.lineTo(x,y);\r\n          }\r\n          break;\r\n        }\r\n        case \"bezier\":\r\n        default: {\r\n          // Great explanation of Bezier curves: http://en.wikipedia.org/wiki/Bezier_curve#Quadratic_curves\r\n          //\r\n          // Assuming A was the last point in the line plotted and B is the new point,\r\n          // we draw a curve with control points P and Q as below.\r\n          //\r\n          // A---P\r\n          //     |\r\n          //     |\r\n          //     |\r\n          //     Q---B\r\n          //\r\n          // Importantly, A and P are at the same y coordinate, as are B and Q. This is\r\n          // so adjacent curves appear to flow as one.\r\n          //\r\n          draw = function(x, y, lastX, lastY) {\r\n            context.bezierCurveTo( // startPoint (A) is implicit from last iteration of loop\r\n              Math.round((lastX + x) / 2), lastY, // controlPoint1 (P)\r\n              Math.round((lastX + x)) / 2, y, // controlPoint2 (Q)\r\n              x, y); // endPoint (B)\r\n          }\r\n          break;\r\n        }\r\n        case \"step\": {\r\n          draw = function(x, y, lastX, lastY) {\r\n            context.lineTo(x,lastY);\r\n            context.lineTo(x,y);\r\n          }\r\n          break;\r\n        }\r\n      }\r\n\r\n      for (var i = 1; i < dataSet.length; i++) {\r\n        var iThData = dataSet[i],\r\n            x = timeToXPosition(iThData[0], lineWidthMaybeZero),\r\n            y = valueToYPosition(iThData[1], lineWidthMaybeZero);\r\n        draw(x, y, lastX, lastY);\r\n        lastX = x; lastY = y;\r\n      }\r\n\r\n      if (drawStroke) {\r\n        context.lineWidth = seriesOptions.lineWidth;\r\n        context.strokeStyle = seriesOptions.strokeStyle;\r\n        context.stroke();\r\n      }\r\n\r\n      if (seriesOptions.fillStyle) {\r\n        // Close up the fill region.\r\n        context.lineTo(lastX, dimensions.height + lineWidthMaybeZero + 1);\r\n        context.lineTo(firstX, dimensions.height + lineWidthMaybeZero + 1);\r\n\r\n        context.fillStyle = seriesOptions.fillStyle;\r\n        context.fill();\r\n      }\r\n\r\n      context.restore();\r\n    }\r\n\r\n    if (chartOptions.tooltip && this.mouseX >= 0) {\r\n      // Draw vertical bar to show tooltip position\r\n      context.lineWidth = chartOptions.tooltipLine.lineWidth;\r\n      context.strokeStyle = chartOptions.tooltipLine.strokeStyle;\r\n      context.beginPath();\r\n      context.moveTo(this.mouseX, 0);\r\n      context.lineTo(this.mouseX, dimensions.height);\r\n      context.closePath();\r\n      context.stroke();\r\n    }\r\n    this.updateTooltip();\r\n\r\n    var labelsOptions = chartOptions.labels;\r\n    // Draw the axis values on the chart.\r\n    if (!labelsOptions.disabled && !isNaN(this.valueRange.min) && !isNaN(this.valueRange.max)) {\r\n      var maxValueString = chartOptions.yMaxFormatter(this.valueRange.max, labelsOptions.precision),\r\n          minValueString = chartOptions.yMinFormatter(this.valueRange.min, labelsOptions.precision),\r\n          maxLabelPos = chartOptions.scrollBackwards ? 0 : dimensions.width - context.measureText(maxValueString).width - 2,\r\n          minLabelPos = chartOptions.scrollBackwards ? 0 : dimensions.width - context.measureText(minValueString).width - 2;\r\n      context.fillStyle = labelsOptions.fillStyle;\r\n      context.fillText(maxValueString, maxLabelPos, labelsOptions.fontSize);\r\n      context.fillText(minValueString, minLabelPos, dimensions.height - 2);\r\n    }\r\n\r\n    // Display intermediate y axis labels along y-axis to the left of the chart\r\n    if ( labelsOptions.showIntermediateLabels\r\n          && !isNaN(this.valueRange.min) && !isNaN(this.valueRange.max)\r\n          && chartOptions.grid.verticalSections > 0) {\r\n      // show a label above every vertical section divider\r\n      var step = (this.valueRange.max - this.valueRange.min) / chartOptions.grid.verticalSections;\r\n      var stepPixels = dimensions.height / chartOptions.grid.verticalSections;\r\n      for (var v = 1; v < chartOptions.grid.verticalSections; v++) {\r\n        var gy = dimensions.height - Math.round(v * stepPixels),\r\n            yValue = chartOptions.yIntermediateFormatter(this.valueRange.min + (v * step), labelsOptions.precision),\r\n            //left of right axis?\r\n            intermediateLabelPos =\r\n              labelsOptions.intermediateLabelSameAxis\r\n              ? (chartOptions.scrollBackwards ? 0 : dimensions.width - context.measureText(yValue).width - 2)\r\n              : (chartOptions.scrollBackwards ? dimensions.width - context.measureText(yValue).width - 2 : 0);\r\n\r\n        context.fillText(yValue, intermediateLabelPos, gy - chartOptions.grid.lineWidth);\r\n      }\r\n    }\r\n\r\n    // Display timestamps along x-axis at the bottom of the chart.\r\n    if (chartOptions.timestampFormatter && chartOptions.grid.millisPerLine > 0) {\r\n      var textUntilX = chartOptions.scrollBackwards\r\n        ? context.measureText(minValueString).width\r\n        : dimensions.width - context.measureText(minValueString).width + 4;\r\n      for (var t = time - (time % chartOptions.grid.millisPerLine);\r\n           t >= oldestValidTime;\r\n           t -= chartOptions.grid.millisPerLine) {\r\n        var gx = timeToXPosition(t, 0);\r\n        // Only draw the timestamp if it won't overlap with the previously drawn one.\r\n        if ((!chartOptions.scrollBackwards && gx < textUntilX) || (chartOptions.scrollBackwards && gx > textUntilX))  {\r\n          // Formats the timestamp based on user specified formatting function\r\n          // SmoothieChart.timeFormatter function above is one such formatting option\r\n          var tx = new Date(t),\r\n            ts = chartOptions.timestampFormatter(tx),\r\n            tsWidth = context.measureText(ts).width;\r\n\r\n          textUntilX = chartOptions.scrollBackwards\r\n            ? gx + tsWidth + 2\r\n            : gx - tsWidth - 2;\r\n\r\n          context.fillStyle = chartOptions.labels.fillStyle;\r\n          if(chartOptions.scrollBackwards) {\r\n            context.fillText(ts, gx, dimensions.height - 2);\r\n          } else {\r\n            context.fillText(ts, gx - tsWidth, dimensions.height - 2);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Display title.\r\n    if (chartOptions.title.text !== '') {\r\n      context.font = chartOptions.title.fontSize + 'px ' + chartOptions.title.fontFamily;\r\n      var titleXPos = chartOptions.scrollBackwards ? dimensions.width - context.measureText(chartOptions.title.text).width - 2 : 2;\r\n      if (chartOptions.title.verticalAlign == 'bottom') {\r\n        context.textBaseline = 'bottom';\r\n        var titleYPos = dimensions.height;\r\n      } else if (chartOptions.title.verticalAlign == 'middle') {\r\n        context.textBaseline = 'middle';\r\n        var titleYPos = dimensions.height / 2;\r\n      } else {\r\n        context.textBaseline = 'top';\r\n        var titleYPos = 0;\r\n      }\r\n      context.fillStyle = chartOptions.title.fillStyle;\r\n      context.fillText(chartOptions.title.text, titleXPos, titleYPos);\r\n    }\r\n\r\n    context.restore(); // See .save() above.\r\n  };\r\n\r\n  // Sample timestamp formatting function\r\n  SmoothieChart.timeFormatter = function(date) {\r\n    function pad2(number) { return (number < 10 ? '0' : '') + number }\r\n    return pad2(date.getHours()) + ':' + pad2(date.getMinutes()) + ':' + pad2(date.getSeconds());\r\n  };\r\n\r\n  exports.TimeSeries = TimeSeries;\r\n  exports.SmoothieChart = SmoothieChart;\r\n\r\n})(typeof exports === 'undefined' ? this : exports);\r\n\r\n", "/**\n * @name    fili\n * @version 2.0.3 | December 13th 2018\n * @author  Florian Markert\n * @license MIT\n */\n!function(r){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=r();else if(\"function\"==typeof define&&define.amd)define([],r);else{var t;t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,t.Fili=r()}}(function(){return function r(t,e,n){function a(o,i){if(!e[o]){if(!t[o]){var s=\"function\"==typeof require&&require;if(!i&&s)return s(o,!0);if(u)return u(o,!0);var c=new Error(\"Cannot find module '\"+o+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var f=e[o]={exports:{}};t[o][0].call(f.exports,function(r){var e=t[o][1][r];return a(e||r)},f,f.exports,r,t,e,n)}return e[o].exports}for(var u=\"function\"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(r,t,e){\"use strict\";t.exports={CalcCascades:r(\"./src/calcCascades\"),Fft:r(\"./src/fft\"),FirCoeffs:r(\"./src/firCoeffs\"),FirFilter:r(\"./src/firFilter\"),IirCoeffs:r(\"./src/iirCoeffs\"),IirFilter:r(\"./src/iirFilter\"),TestFilter:r(\"./src/testFilter\")}},{\"./src/calcCascades\":2,\"./src/fft\":3,\"./src/firCoeffs\":4,\"./src/firFilter\":5,\"./src/iirCoeffs\":6,\"./src/iirFilter\":7,\"./src/testFilter\":8}],2:[function(r,t,e){\"use strict\";var n=r(\"./iirCoeffs\"),a=new n,u={bessel:{q:[[.57735026919],[.805538281842,.521934581669],[1.02331395383,.611194546878,.510317824749],[1.22566942541,.710852074442,.559609164796,.505991069397],[1.41530886916,.809790964842,.620470155556,.537552151325,.503912727276],[1.59465693507,.905947107025,.684008068137,.579367238641,.525936202016,.502755558204],[1.76552743493,.998998442993,.747625068271,.624777082395,.556680772868,.519027293158,.502045428643],[1.9292718407,1.08906376917,.810410302962,.671382379377,.591144659703,.542678365981,.514570953471,.501578400482],[2.08691792612,1.17637337045,.872034231424,.718163551101,.627261751983,.569890924765,.533371782078,.511523796759,.50125489338],[2.23926560629,1.26117120993,.932397288146,.764647810579,.664052481472,.598921924986,.555480327396,.526848630061,.509345928377,.501021580965],[2.38695091667,1.34368488961,.991497755204,.81060830488,.701011199665,.628878390935,.57943181849,.545207253735,.52208637596,.507736060535,.500847111042],[2.53048919562,1.42411783481,1.04937620183,.85593899901,.737862159044,.659265671705,.604435823473,.565352679646,.537608804383,.51849505465,.506508536474,.500715908905]],f3dB:[[1.27201964951],[1.60335751622,1.43017155999],[1.9047076123,1.68916826762,1.60391912877],[2.18872623053,1.95319575902,1.8320926012,1.77846591177],[2.45062684305,2.20375262593,2.06220731793,1.98055310881,1.94270419166],[2.69298925084,2.43912611431,2.28431825401,2.18496722634,2.12472538477,2.09613322542],[2.91905714471,2.66069088948,2.49663434571,2.38497976939,2.30961462222,2.26265746534,2.24005716132],[3.13149167404,2.87016099416,2.69935018044,2.57862945683,2.49225505119,2.43227707449,2.39427710712,2.37582307687],[3.33237300564,3.06908580184,2.89318259511,2.76551588399,2.67073340527,2.60094950474,2.55161764546,2.52001358804,2.50457164552],[3.52333123464,3.25877569704,3.07894353744,2.94580435024,2.84438325189,2.76691082498,2.70881411245,2.66724655259,2.64040228249,2.62723439989],[3.70566068548,3.44032173223,3.2574059854,3.11986367838,3.01307175388,2.92939234605,2.86428726094,2.81483068055,2.77915465405,2.75596888377,2.74456638588],[3.88040469682,3.61463243697,3.4292654707,3.28812274966,3.17689762788,3.08812364257,3.01720732972,2.96140104561,2.91862858495,2.88729479473,2.8674198668,2.8570800015]],f1dB:[[2.16477559371],[2.70320928596,2.41122332505],[3.25676581436,2.88822569572,2.74246238837],[3.76153580353,3.35675411406,3.14862673032,3.05646412475],[4.22174260104,3.79644757806,3.55260471864,3.41193742197,3.34673435508],[4.64584812552,4.20789257981,3.94082363122,3.76942681446,3.66549975744,3.61617359345],[5.04060395196,4.5944592201,4.3111677248,4.11836351827,3.98822359814,3.90713836715,3.86811234525],[5.41107948467,4.95951159709,4.66435804468,4.45575796102,4.30650679478,4.20286750045,4.13720522991,4.10531748119],[5.76110791853,5.30592898465,5.00182215701,4.7811081045,4.61724509926,4.49660100894,4.41131378918,4.35667671372,4.32997951075],[6.09364309488,5.63609116014,5.32506930789,5.09480346139,4.91939504255,4.78540258409,4.68493280536,4.61302286993,4.56661931366,4.54382759952],[6.41100731543,5.95195558182,5.63550073656,5.39754464742,5.21278891332,5.06801430334,4.95539684456,4.8697869429,4.80814951843,4.76793469612,4.74828032403],[6.71506056052,6.25514029778,5.9343616072,5.69011422355,5.49763642361,5.34401973764,5.22125973611,5.12485045619,5.05037962112,4.99699982231,4.96155789635,4.94441828777]]}},o={bessel:{as:[[1.3617],[1.3397,.7743],[1.2217,.9686,.5131],[1.1112,.9754,.7202,.3728],[1.0215,.9393,.7815,.5604,.2883]],bs:[[.618],[.4889,.389],[.3887,.3505,.2756],[.3162,.2979,.2621,.2087],[.265,.2549,.2351,.2059,.1665]]},butterworth:{as:[[1.4142],[1.8478,.7654],[1.9319,1.4142,.5176],[1.9616,1.6629,1.1111,.3902],[1.9754,1.782,1.4142,.908,.3129]],bs:[[1],[1,1],[1,1,1],[1,1,1,1],[1,1,1,1,1]]},tschebyscheff05:{as:[[1.3614],[2.6282,.3648],[3.8645,.7528,.1589],[5.1117,1.0639,.3439,.0885],[6.3648,1.3582,.4822,.1994,.0563]],bs:[[1.3827],[3.4341,1.1509],[6.9797,1.8573,1.0711],[11.9607,2.9365,1.4206,1.0407],[18.3695,4.3453,1.944,1.252,1.0263]]},tschebyscheff1:{as:[[1.3022],[2.5904,.3039],[3.8437,.6292,.1296],[5.1019,.8916,.2806,.0717],[6.3634,1.1399,.3939,.1616,.0455]],bs:[[1.5515],[4.1301,1.1697],[8.5529,1.9124,1.0766],[14.7608,3.0426,1.4334,1.0432],[22.7468,4.5167,1.9665,1.2569,1.0277]]},tschebyscheff2:{as:[[1.1813],[2.4025,.2374],[3.588,.4925,.0995],[4.7743,.6991,.2153,.0547],[5.9618,.8947,.3023,.1233,.0347]],bs:[[1.7775],[4.9862,1.1896],[10.4648,1.9622,1.0826],[18.151,3.1353,1.4449,1.0461],[28.0376,4.6644,1.9858,1.2614,1.0294]]},tschebyscheff3:{as:[[1.065],[2.1853,.1964],[3.2721,.4077,.0815],[4.3583,.5791,.1765,.0448],[5.4449,.7414,.2479,.1008,.0283]],bs:[[1.9305],[5.5339,1.2009],[11.6773,1.9873,1.0861],[20.2948,3.1808,1.4507,1.0478],[31.3788,4.7363,1.9952,1.2638,1.0304]]},allpass:{as:[[1.6278],[2.337,1.3506],[2.6117,2.0706,1.0967],[2.7541,2.4174,1.785,.9239],[2.8406,2.612,2.1733,1.5583,.8018]],bs:[[.8832],[1.4878,1.1837],[1.7763,1.6015,1.2596],[1.942,1.83,1.6101,1.2822],[2.049,1.9714,1.8184,1.5923,1.2877]]}},i=function(r,t){var e=[],n=0;if(\"fromPZ\"!==t)for(r.order>12&&(r.order=12),n=0;n<r.order;n++){var i,s,c;\"matchedZ\"===r.transform?e.push(a.lowpassMZ({Fs:r.Fs,Fc:r.Fc,preGain:r.preGain,as:o[r.characteristic].as[r.order-1][n],bs:o[r.characteristic].bs[r.order-1][n]})):(\"butterworth\"===r.characteristic?(i=.5/Math.sin(Math.PI/(2*r.order)*(n+.5)),s=1):(i=u[r.characteristic].q[r.order-1][n],s=r.oneDb?u[r.characteristic].f1dB[r.order-1][n]:u[r.characteristic].f3dB[r.order-1][n]),c=\"highpass\"===t?r.Fc/s:r.Fc*s,\"bandpass\"!==t&&\"bandstop\"!==t||\"bessel\"===r.characteristic&&(c=Math.sqrt(r.order)*c/r.order),e.push(a[t]({Fs:r.Fs,Fc:c,Q:i,BW:r.BW||0,gain:r.gain||0,preGain:r.preGain||!1})))}else for(n=0;n<r.length;n++)e.push(a[t](r[n]));return e},s=function(r){return function(t){return i(t,r)}},c={},f=function(){var r=[];for(var t in a)c[t]=s(t),r.push(t);return c.available=function(){return r},c};t.exports=f},{\"./iirCoeffs\":6}],3:[function(r,t,e){\"use strict\";var n=function(r){if(!function(r){return!(r&r-1)}(r))return!1;var t={};t.length=r,t.buffer=new Float64Array(r),t.re=new Float64Array(r),t.im=new Float64Array(r),t.reI=new Float64Array(r),t.imI=new Float64Array(r),t.twiddle=new Int32Array(r),t.sinTable=new Float64Array(r-1),t.cosTable=new Float64Array(r-1);var e=2*Math.PI,n=Math.floor(Math.log(r)/Math.LN2);for(u=t.sinTable.length;u--;)t.sinTable[u]=Math.sin(e*(u/r)),t.cosTable[u]=Math.cos(e*(u/r));for(var a=r>>1,u=0,o=0;t.twiddle[u]=o,!(++u>=r);){for(n=a;n<=o;)o-=n,n>>=1;o+=n}var i=Math.PI,s=2*Math.PI,c=Math.abs,f=Math.pow,l=Math.cos,h=Math.sin,p=function(r){return h(i*r)/(i*r)},v=Math.E,b={rectangular:{calc:function(){return 1},values:[],correction:1},none:{calc:function(){return 1},values:[],correction:1},hanning:{calc:function(r,t){return.5*(1-l(s*r/(t-1)))},values:[],correction:2},hamming:{calc:function(r,t){return.54-.46*l(s*r/(t-1))},values:[],correction:1.8518999946875638},tukery:{calc:function(r,t,e){return r<e*(t-1)/2?.5*(1+l(i*(2*r/(e*(t-1))-1))):(t-1)*(1-e/2)<r?.5*(1+l(i*(2*r/(e*(t-1))-2/e+1))):1},values:[],correction:4/3},cosine:{calc:function(r,t){return h(i*r/(t-1))},values:[],correction:1.570844266360796},lanczos:{calc:function(r,t){return p(2*r/(t-1)-1)},values:[],correction:1.6964337576195783},triangular:{calc:function(r,t){return 2/(t+1)*((t+1)/2-c(r-(t-1)/2))},values:[],correction:2},bartlett:{calc:function(r,t){return 2/(t-1)*((t-1)/2-c(r-(t-1)/2))},values:[],correction:2},gaussian:{calc:function(r,t,e){return f(v,-.5*f((r-(t-1)/2)/(e*(t-1)/2),2))},values:[],correction:5/3},bartlettHanning:{calc:function(r,t){var e=s*r/(t-1);return.62-.48*c(r/(t-1)-.5)-.38*l(e)},values:[],correction:2},blackman:{calc:function(r,t,e){var n=(1-e)/2,a=e/2,u=s*r/(t-1);return n-.5*l(u)+a*l(2*u)},values:[],correction:4/3},blackmanHarris:{calc:function(r,t){var e=s*r/(t-1);return.35875-.48829*l(e)+.14128*l(2*e)-.01168*l(3*e)},values:[],correction:1.5594508635},nuttall3:{calc:function(r,t){var e=s*r/(t-1);return.375-.5*l(e)+.125*l(2*e)},values:[],correction:1.56},nuttall3a:{calc:function(r,t){var e=s*r/(t-1);return.40897-.5*l(e)+.09103*l(2*e)},values:[],correction:1.692},nuttall3b:{calc:function(r,t){var e=s*r/(t-1);return.4243801-.4973406*l(e)+.078793*l(2*e)},values:[],correction:1.7372527},nuttall4:{calc:function(r,t){var e=s*r/(t-1);return.3125-.46875*l(e)+.1875*l(2*e)-.03125*l(3*e)},values:[],correction:1.454543},nuttall4a:{calc:function(r,t){var e=s*r/(t-1);return.338946-.481973*l(e)+.161054*l(2*e)-.018027*l(3*e)},values:[],correction:1.512732763},nuttall4b:{calc:function(r,t){var e=s*r/(t-1);return.355768-.481973*l(e)+.144232*l(2*e)-.012604*l(3*e)},values:[],correction:1.55223262},nuttall4c:{calc:function(r,t){var e=s*r/(t-1);return.3635819-.4891775*l(e)+.1365995*l(2*e)-.0106411*l(3*e)},values:[],correction:1.57129067},sft3f:{calc:function(r,t){var e=s*r/(t-1);return.26526-.5*l(e)+.23474*l(2*e)},values:[],correction:1.3610238},sft4f:{calc:function(r,t){var e=s*r/(t-1);return.21706-.42103*l(e)+.28294*l(2*e)-.07897*l(3*e)},values:[],correction:1.2773573},sft5f:{calc:function(r,t){var e=s*r/(t-1);return.1881-.36923*l(e)+.28702*l(2*e)-.13077*l(3*e)+.02488*l(4*e)},values:[],correction:1.23167769},sft3m:{calc:function(r,t){var e=s*r/(t-1);return.28235-.52105*l(e)+.19659*l(2*e)},values:[],correction:1.39343451},sft4m:{calc:function(r,t){var e=s*r/(t-1);return.241906-.460841*l(e)+.2552381*l(2*e)-.041872*l(3*e)},values:[],correction:1.3190596},sft5m:{calc:function(r,t){var e=s*r/(t-1);return.209671-.407331*l(e)+.281225*l(2*e)-.092669*l(3*e)+.0091036*l(4*e)},values:[],correction:1.26529456464},nift:{calc:function(r,t){var e=s*r/(t-1);return.2810639-.5208972*l(e)+.1980399*l(2*e)},values:[],correction:1.39094182},hpft:{calc:function(r,t){var e=s*r/(t-1);return(1-1.912510941*l(e)+1.079173272*l(2*e)-.1832630879*l(3*e))/t},values:[],correction:1},srft:{calc:function(r,t){var e=s*r/(t-1);return(1-1.93*l(e)+1.29*l(2*e)-.388*l(3*e)+.028*l(4*e))/t},values:[],correction:1},hft70:{calc:function(r,t){var e=s*r/(t-1);return(1-1.90796*l(e)+1.07349*l(2*e)-.18199*l(3*e))/t},values:[],correction:1},hft95:{calc:function(r,t){var e=s*r/(t-1);return(1-1.9383379*l(e)+1.3045202*l(2*e)-.402827*l(3*e)+.0350665*l(4*e))/t},values:[],correction:1},hft90d:{calc:function(r,t){var e=s*r/(t-1);return(1-1.942604*l(e)+1.340318*l(2*e)-.440811*l(3*e)+.043097*l(4*e))/t},values:[],correction:1},hft116d:{calc:function(r,t){var e=s*r/(t-1);return(1-1.9575375*l(e)+1.4780705*l(2*e)-.6367431*l(3*e)+.1228389*l(4*e)-.0066288*l(5*e))/t},values:[],correction:1},hft144d:{calc:function(r,t){var e=s*r/(t-1);return(1-1.96760033*l(e)+1.57983607*l(2*e)-.81123644*l(3*e)+.22583558*l(4*e)-.02773848*l(5*e)+9036e-7*l(6*e))/t},values:[],correction:1},hft196d:{calc:function(r,t){var e=s*r/(t-1);return(1-1.97441842*l(e)+1.65409888*l(2*e)-.95788186*l(3*e)+.3367342*l(4*e)-.06364621*l(5*e)+.00521942*l(6*e)-10599e-8*l(7*e))/t},values:[],correction:1},hft223d:{calc:function(r,t){var e=s*r/(t-1);return(1-1.98298997309*l(e)+1.75556083063*l(2*e)-1.19037717712*l(3*e)+.56155440797*l(4*e)-.17296769663*l(5*e)+.03233247087*l(6*e)-.00324954578*l(7*e)+.0001380104*l(8*e)-132725e-11*l(9*e))/t},values:[],correction:1},hft248d:{calc:function(r,t){var e=s*r/(t-1);return(1-1.985844164102*l(e)+1.791176438506*l(2*e)-1.282075284005*l(3*e)+.667777530266*l(4*e)-.240160796576*l(5*e)+.056656381764*l(6*e)-.008134974479*l(7*e)+.00062454465*l(8*e)-19808998e-12*l(9*e)+1.32974e-7*l(10*e))/t},values:[],correction:1}},m=function(r){return b[r.name].values.length!==r.N?(0===r.n&&(b[r.name].values.length=0),b[r.name].values[r.n]=b[r.name].correction*b[r.name].calc(r.n,r.N,r.a),b[r.name].values[r.n]):b[r.name].values};return{forward:function(r,e){var n,a,u,o,i,s,c,f,l,h,p,v;u=t.buffer.length;var b={name:e,N:u,a:.5,n:0},d=m(b);if(\"number\"==typeof d)for(n=0;n<u;++n)b.n=n,t.buffer[n]=r[n]*m(b);else for(n=0;n<u;++n)t.buffer[n]=r[n]*d[n];for(n=u;n--;)t.re[n]=t.buffer[t.twiddle[n]],t.im[n]=0;for(o=1;o<u;o=i)for(s=0,i=o+o,c=u/i,a=0;a<o;a++){for(f=t.cosTable[s],l=t.sinTable[s],n=a;n<u;n+=i)h=n+o,p=l*t.im[h]+f*t.re[h],v=f*t.im[h]-l*t.re[h],t.re[h]=t.re[n]-p,t.re[n]+=p,t.im[h]=t.im[n]-v,t.im[n]+=v;s+=c}return{re:t.re,im:t.im}},inverse:function(r,e){var n,a,u,o,i,s,c,f,l,h,p,v;for(u=r.length,n=u;n--;)a=t.twiddle[n],t.reI[n]=r[a],t.imI[n]=-e[a];for(o=1;o<u;o=i)for(s=0,i=o+o,c=u/i,a=0;a<o;a++){for(f=t.cosTable[s],l=t.sinTable[s],n=a;n<u;n+=i)h=n+o,p=l*t.imI[h]+f*t.reI[h],v=f*t.imI[h]-l*t.reI[h],t.reI[h]=t.reI[n]-p,t.reI[n]+=p,t.imI[h]=t.imI[n]-v,t.imI[n]+=v;s+=c}for(n=u;n--;)t.buffer[n]=t.reI[n]/u;return t.buffer},magnitude:function(r){for(var t=[],e=0;e<r.re.length;e++)t.push(Math.sqrt(r.re[e]*r.re[e]+r.im[e]*r.im[e]));return t},magToDb:function(r){for(var t=[],e=0;e<r.length;e++)t.push(20*Math.log(r[e])*Math.LOG10E);return t},phase:function(r){for(var t=[],e=0;e<r.re.length;e++)t.push(Math.atan2(r.im[e],r.re[e]));return t},windows:function(){var r=[];for(var t in b)r.push(t);return r}}};t.exports=n},{}],4:[function(r,t,e){\"use strict\";var n=function(){var r=function(r){var t=r.Fs,e=r.Fa,n=r.Fb,a=r.order||51,u=r.Att||100,o=function(r){for(var t=0,e=1,n=1;e>1e-6*n;)t+=2,e*=r*r/(t*t),n+=e;return n};a/2-Math.floor(a/2)==0&&a++;var i,s=(a-1)/2,c=[],f=0,l=0,h=[];for(c[0]=2*(n-e)/t,l=1;l<=s;l++)c[l]=(Math.sin(2*l*Math.PI*n/t)-Math.sin(2*l*Math.PI*e/t))/(l*Math.PI);for(f=u<21?0:u>50?.1102*(u-8.7):.5842*Math.pow(u-21,.4)+.07886*(u-21),i=o(f),l=0;l<=s;l++)h[s+l]=c[l]*o(f*Math.sqrt(1-l*l/(s*s)))/i;for(l=0;l<s;l++)h[l]=h[a-1-l];return h},t=function(r){var t=r.Fs,e=r.Fc,n=r.order,a=2*Math.PI*e/t,u=0,o=0,i=[];for(u=0;u<=n;u++)u-n/2==0?i[u]=a:(i[u]=Math.sin(a*(u-n/2))/(u-n/2),i[u]*=.54-.46*Math.cos(2*Math.PI*u/n)),o+=i[u];for(u=0;u<=n;u++)i[u]/=o;return i},e=function(r){var t;for(t=0;t<r.length;t++)r[t]=-r[t];return r[(r.length-1)/2]++,r},n=function(r){for(var n=t({order:r.order,Fs:r.Fs,Fc:r.F2}),a=e(t({order:r.order,Fs:r.Fs,Fc:r.F1})),u=[],o=0;o<n.length;o++)u.push(n[o]+a[o]);return u};return{lowpass:function(r){return t(r)},highpass:function(r){return e(t(r))},bandstop:function(r){return n(r)},bandpass:function(r){return e(n(r))},kbFilter:function(t){return r(t)},available:function(){return[\"lowpass\",\"highpass\",\"bandstop\",\"bandpass\",\"kbFilter\"]}}};t.exports=n},{}],5:[function(r,t,e){\"use strict\";var n=r(\"./utils\"),a=n.runMultiFilter,u=n.runMultiFilterReverse,o=n.complex,i=n.evaluatePhase,s=function(r){var t=r,e=[],n=0;for(n=0;n<t.length;n++)e[n]={re:t[n],im:0};var s=function(r){var t,e=[];for(t=0;t<r;t++)e.push(0);return{buf:e,pointer:0}},c=s(t.length-1),f=function(r,e){e.buf[e.pointer]=r;var a=0;for(n=0;n<e.buf.length;n++)a+=t[n]*e.buf[(e.pointer+n)%e.buf.length];return e.pointer=(e.pointer+1)%e.buf.length,a},l=function(r){var e=s(t.length-1);return a(r,e,f)},h=function(r){for(var n=r.Fs,a=r.Fr,u=-Math.PI*(a/n)*2,i={re:0,im:0},s=0;s<t.length-1;s++)i=o.add(i,o.mul(e[s],{re:Math.cos(u*s),im:Math.sin(u*s)}));var c=o.magnitude(i);return{magnitude:c,phase:o.phase(i),dBmagnitude:20*Math.log(c)*Math.LOG10E}};return{responsePoint:function(r){return h(r)},response:function(r){r=r||100;var t=[],e=0,n=2*r;for(e=0;e<r;e++)t[e]=h({Fs:n,Fr:e});return i(t),t},simulate:function(r){return l(r)},singleStep:function(r){return f(r,c)},multiStep:function(r,t){return a(r,c,f,t)},filtfilt:function(r,t){return u(a(r,c,f,t),c,f,!0)},reinit:function(){c=s(t.length-1)}}};t.exports=s},{\"./utils\":9}],6:[function(r,t,e){\"use strict\";var n=function(){var r=function(r,t){var e=r.Q,n=r.Fc,a=r.Fs,u={},o=2*Math.PI*n/a;return r.BW?u.alpha=Math.sin(o)*Math.sinh(Math.log(2)/2*r.BW*o/Math.sin(o)):u.alpha=Math.sin(o)/(2*e),u.cw=Math.cos(o),u.a0=1+u.alpha,t.a0=u.a0,t.a.push(-2*u.cw/u.a0),t.k=1,t.a.push((1-u.alpha)/u.a0),u},t=function(r){var t=r.Q,e=r.Fc,n=r.Fs,a={},u=2*Math.PI*e/n;return a.alpha=Math.sin(u)/(2*t),a.cw=Math.cos(u),a.A=Math.pow(10,r.gain/40),a},e=function(){var r={};return r.z=[0,0],r.a=[],r.b=[],r};return{fromPZ:function(r){var t=e();return t.a0=1,t.b.push(1),t.b.push(-r.z0.re-r.z1.re),t.b.push(r.z0.re*r.z1.re-r.z0.im*r.z1.im),t.a.push(-r.p0.re-r.p1.re),t.a.push(r.p0.re*r.p1.re-r.p0.im*r.p1.im),\"lowpass\"===r.type?t.k=(1+t.a[0]+t.a[1])/(1+t.b[1]+t.b[2]):t.k=(1-t.a[0]+t.a[1])/(1-t.b[1]+t.b[2]),t},lowpassMZ:function(r){var t=e();t.a0=1;var n=r.as,a=r.bs,u=2*Math.PI*r.Fc/r.Fs,o=-n/(2*a);return t.a.push(2*-Math.pow(Math.E,o*u)*Math.cos(-u*Math.sqrt(Math.abs(Math.pow(n,2)/(4*Math.pow(a,2))-1/a)))),t.a.push(Math.pow(Math.E,2*o*u)),r.preGain?(t.b.push(1),t.k=t.a0+t.a[0]+t.a[1]):(t.b.push(t.a0+t.a[0]+t.a[1]),t.k=1),t.b.push(0),t.b.push(0),t},lowpassBT:function(r){var t=e();return r.Q=1,t.wp=Math.tan(2*Math.PI*r.Fc/(2*r.Fs)),t.wp2=t.wp*t.wp,r.BW&&delete r.BW,t.k=1,t.a0=3*t.wp+3*t.wp2+1,t.b.push(3*t.wp2*r.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((6*t.wp2-2)/t.a0),t.a.push((3*t.wp2-3*t.wp+1)/t.a0),t},highpassBT:function(r){var t=e();return r.Q=1,t.wp=Math.tan(2*Math.PI*r.Fc/(2*r.Fs)),t.wp2=t.wp*t.wp,r.BW&&delete r.BW,t.k=1,t.a0=t.wp+t.wp2+3,t.b.push(3*r.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((2*t.wp2-6)/t.a0),t.a.push((t.wp2-t.wp+3)/t.a0),t},lowpass:function(t){var n=e();t.BW&&delete t.BW;var a=r(t,n);return t.preGain?(n.k=.5*(1-a.cw),n.b.push(1/a.a0)):(n.k=1,n.b.push((1-a.cw)/(2*a.a0))),n.b.push(2*n.b[0]),n.b.push(n.b[0]),n},highpass:function(t){var n=e();t.BW&&delete t.BW;var a=r(t,n);return t.preGain?(n.k=.5*(1+a.cw),n.b.push(1/a.a0)):(n.k=1,n.b.push((1+a.cw)/(2*a.a0))),n.b.push(-2*n.b[0]),n.b.push(n.b[0]),n},allpass:function(t){var n=e();t.BW&&delete t.BW;var a=r(t,n);return n.k=1,n.b.push((1-a.alpha)/a.a0),n.b.push(-2*a.cw/a.a0),n.b.push((1+a.alpha)/a.a0),n},bandpassQ:function(t){var n=e(),a=r(t,n);return n.k=1,n.b.push(a.alpha*t.Q/a.a0),n.b.push(0),n.b.push(-n.b[0]),n},bandpass:function(t){var n=e(),a=r(t,n);return n.k=1,n.b.push(a.alpha/a.a0),n.b.push(0),n.b.push(-n.b[0]),n},bandstop:function(t){var n=e(),a=r(t,n);return n.k=1,n.b.push(1/a.a0),n.b.push(-2*a.cw/a.a0),n.b.push(n.b[0]),n},peak:function(r){var n=e(),a=t(r);return n.k=1,n.a0=1+a.alpha/a.A,n.a.push(-2*a.cw/n.a0),n.a.push((1-a.alpha/a.A)/n.a0),n.b.push((1+a.alpha*a.A)/n.a0),n.b.push(-2*a.cw/n.a0),n.b.push((1-a.alpha*a.A)/n.a0),n},lowshelf:function(r){var n=e();r.BW&&delete r.BW;var a=t(r);n.k=1;var u=2*Math.sqrt(a.A)*a.alpha;return n.a0=a.A+1+(a.A-1)*a.cw+u,n.a.push(-2*(a.A-1+(a.A+1)*a.cw)/n.a0),n.a.push((a.A+1+(a.A-1)*a.cw-u)/n.a0),n.b.push(a.A*(a.A+1-(a.A-1)*a.cw+u)/n.a0),n.b.push(2*a.A*(a.A-1-(a.A+1)*a.cw)/n.a0),n.b.push(a.A*(a.A+1-(a.A-1)*a.cw-u)/n.a0),n},highshelf:function(r){var n=e();r.BW&&delete r.BW;var a=t(r);n.k=1;var u=2*Math.sqrt(a.A)*a.alpha;return n.a0=a.A+1-(a.A-1)*a.cw+u,n.a.push(2*(a.A-1-(a.A+1)*a.cw)/n.a0),n.a.push((a.A+1-(a.A-1)*a.cw-u)/n.a0),n.b.push(a.A*(a.A+1+(a.A-1)*a.cw+u)/n.a0),n.b.push(-2*a.A*(a.A-1+(a.A+1)*a.cw)/n.a0),n.b.push(a.A*(a.A+1+(a.A-1)*a.cw-u)/n.a0),n},aweighting:function(r){var t=e();t.k=1;var n=2*Math.PI*r.Fc/r.Fs,a=2*Math.tan(n/2),u=r.Q,o=Math.pow(a,2);return t.a0=4*u+o*u+2*a,t.a.push(2*o*u-8*u),t.a.push(4*u+o*u-2*a),t.b.push(o*u),t.b.push(2*o*u),t.b.push(o*u),t}}};t.exports=n},{}],7:[function(r,t,e){\"use strict\";var n=r(\"./utils\"),a=n.complex,u=n.runMultiFilter,o=n.runMultiFilterReverse,i=n.evaluatePhase,s=function(r){for(var t=r,e={re:1,im:0},n=[],s=[],c=0;c<t.length;c++){n[c]={};var f=t[c];n[c].b0={re:f.b[0],im:0},n[c].b1={re:f.b[1],im:0},n[c].b2={re:f.b[2],im:0},n[c].a1={re:f.a[0],im:0},n[c].a2={re:f.a[1],im:0},n[c].k={re:f.k,im:0},n[c].z=[0,0],s[c]={},s[c].b1=f.b[1]/f.b[0],s[c].b2=f.b[2]/f.b[0],s[c].a1=f.a[0],s[c].a2=f.a[1]}var l=function(r,t){var e=t*r.k.re-r.a1.re*r.z[0]-r.a2.re*r.z[1],n=r.b0.re*e+r.b1.re*r.z[0]+r.b2.re*r.z[1];return r.z[1]=r.z[0],r.z[0]=e,n},h=function(r,t){var e=r,n=0;for(n=0;n<t.length;n++)e=l(t[n],e);return e},p=function(r,t){var n=r.Fs,u=r.Fr,o=-Math.PI*(u/n)*2,i={re:Math.cos(o),im:Math.sin(o)},s=a.mul(t.k,a.add(t.b0,a.mul(i,a.add(t.b1,a.mul(t.b2,i))))),c=a.add(e,a.mul(i,a.add(t.a1,a.mul(t.a2,i)))),f=a.div(s,c);return{magnitude:a.magnitude(f),phase:a.phase(f)}},v=function(r){var t=0,e={magnitude:1,phase:0};for(t=0;t<n.length;t++){var a=p(r,n[t]);e.magnitude*=a.magnitude,e.phase+=a.phase}return e.dBmagnitude=20*Math.log(e.magnitude)*Math.LOG10E,e},b=function(){for(var r=[],e=0;e<t.length;e++)r[e]={b0:{re:f.b[0],im:0},b1:{re:f.b[1],im:0},b2:{re:f.b[2],im:0},a1:{re:f.a[0],im:0},a2:{re:f.a[1],im:0},k:{re:f.k,im:0},z:[0,0]};return r},m=function(r){var t=b();return u(r,t,h)},d=function(r,t){var e={},n=[],a=0;for(a=0;a<t;a++)n.push(r(a));e.out=m(n);var u=!1,o=!1;for(a=0;a<t-1;a++)if(e.out[a]>e.out[a+1]&&!u&&(u=!0,e.max={sample:a,value:e.out[a]}),u&&!o&&e.out[a]<e.out[a+1]){o=!0,e.min={sample:a,value:e.out[a]};break}return e},M=function(r,t){var e=Math.pow(r/2,2)-t;return e<0?[{re:-r/2,im:Math.sqrt(Math.abs(e))},{re:-r/2,im:-Math.sqrt(Math.abs(e))}]:[{re:-r/2+Math.sqrt(e),im:0},{re:-r/2-Math.sqrt(e),im:0}]},g=function(){for(var r=[],t=0;t<s.length;t++)r[t]={},r[t].z=M(s[t].b1,s[t].b2),r[t].p=M(s[t].a1,s[t].a2);return r};return{singleStep:function(r){return h(r,n)},multiStep:function(r,t){return u(r,n,h,t)},filtfilt:function(r,t){return o(u(r,n,h,t),n,h,!0)},simulate:function(r){return m(r)},stepResponse:function(r){return d(function(){return 1},r)},impulseResponse:function(r){return d(function(r){return 0===r?1:0},r)},responsePoint:function(r){return v(r)},response:function(r){r=r||100;var t=[],e=0,n=2*r;for(e=0;e<r;e++)t[e]=v({Fs:n,Fr:e});return i(t),t},polesZeros:function(){return g()},reinit:function(){for(c=0;c<n.length;c++)n[c].z=[0,0]}}};t.exports=s},{\"./utils\":9}],8:[function(r,t,e){\"use strict\";var n=function(r){var t,e=r,n=[],a=function(r){for(t=0;t<r.steps;t++)n.push(e.singleStep((Math.random()-.5)*r.pp+r.offset))},u=function(r){var a=r.offset+r.pp,u=r.offset-r.pp;for(t=0;t<r.steps;t++)t%200<100?n.push(e.singleStep(a)):n.push(e.singleStep(u))},o=function(r){var a=r.offset+r.pp,u=r.offset-r.pp;for(t=0;t<r.steps;t++)t%100==0?n.push(e.singleStep(a)):n.push(e.singleStep(u))},i=function(r){var a=r.offset+r.pp,u=r.offset-r.pp,o=u,i=(a-u)/100;for(t=0;t<r.steps;t++)t%200<100?o+=i:o-=i,n.push(e.singleStep(o))};return{randomStability:function(r){for(e.reinit(),n.length=0,a(r),t=r.setup;t<n.length;t++)if(n[t]>r.maxStable||n[t]<r.minStable)return n[t];return!0},directedRandomStability:function(r){e.reinit(),n.length=0;var s;for(s=0;s<r.tests;s++){var c=Math.random();c<.25?a(r):c<.5?u(r):c<.75?o(r):i(r)}for(a(r),t=r.setup;t<n.length;t++)if(n[t]>r.maxStable||n[t]<r.minStable)return n[t];return!0},evaluateBehavior:function(){}}};t.exports=n},{}],9:[function(r,t,e){\"use strict\";e.evaluatePhase=function(r){var t=0,e=0,n=Math.PI,a=2*n,u=[];for(e=0;e<r.length;e++)u.push(r[e].phase);for(r[0].unwrappedPhase=r[0].phase,r[0].groupDelay=0,e=1;e<u.length;e++){var o=u[e]-u[e-1];if(o>n)for(t=e;t<u.length;t++)u[t]-=a;else if(o<-n)for(t=e;t<u.length;t++)u[t]+=a;u[e]<0?r[e].unwrappedPhase=-u[e]:r[e].unwrappedPhase=u[e],r[e].phaseDelay=r[e].unwrappedPhase/(e/r.length),r[e].groupDelay=(r[e].unwrappedPhase-r[e-1].unwrappedPhase)/(n/r.length),r[e].groupDelay<0&&(r[e].groupDelay=-r[e].groupDelay)}0!==r[0].magnitude?(r[0].phaseDelay=r[1].phaseDelay,r[0].groupDelay=r[1].groupDelay):(r[0].phaseDelay=r[2].phaseDelay,r[0].groupDelay=r[2].groupDelay,r[1].phaseDelay=r[2].phaseDelay,r[1].groupDelay=r[2].groupDelay)},e.runMultiFilter=function(r,t,e,n){var a=[];n&&(a=r);var u;for(u=0;u<r.length;u++)a[u]=e(r[u],t);return a},e.runMultiFilterReverse=function(r,t,e,n){var a=[];n&&(a=r);var u;for(u=r.length-1;u>=0;u--)a[u]=e(r[u],t);return a};var n=function(r,t){for(var e=!0;e;){var n=r,a=t;if(e=!1,a||(a=1),n!==Math.floor(n)||a!==Math.floor(a))return 1;if(0===n||1===n)return a;r=n-1,t=a*n,e=!0}};e.besselFactors=function(r){for(var t=[],e=0;e<r+1;e++){var a=n(2*r-e),u=Math.pow(2,r-e)*n(e)*n(r-e);t.unshift(Math.floor(a/u))}return t};var a=function(r,t){for(var e=0,n=0;n<t;n++){var a=1/Math.pow(2,n+1);r>a&&(r-=a,e+=a)}return e},u=function(r,t){return r&Math.pow(2,t)},o=function(r,t,e){var n=Math.abs(r),o=r-n;return{number:u(n,t).toString(),fraction:a(o,e).toString(),numberBits:t,fractionBits:e}};e.fixedPoint={convert:function(r,t,e){return o(r,t,e)},add:function(r,t){},sub:function(r,t){},mul:function(r,t){},div:function(r,t){}},e.complex={div:function(r,t){var e=r.re,n=r.im,a=t.re,u=t.im,o=a*a+u*u;return{re:(e*a+n*u)/o,im:(n*a-e*u)/o}},mul:function(r,t){var e=r.re,n=r.im,a=t.re,u=t.im;return{re:e*a-n*u,im:(e+n)*(a+u)-e*a-n*u}},add:function(r,t){return{re:r.re+t.re,im:r.im+t.im}},sub:function(r,t){return{re:r.re-t.re,im:r.im-t.im}},phase:function(r){return Math.atan2(r.im,r.re)},magnitude:function(r){return Math.sqrt(r.re*r.re+r.im*r.im)}}},{}]},{},[1])(1)});", "import { SmoothieChart, TimeSeries } from \"smoothie\";\n\nimport {\n  CustomSmoothie,\n  genSmoothieLegendInfo,\n  SmoothieTSInfo,\n} from \"./CustomSmoothie\";\n\nimport { CalcCascades, IirFilter } from \"fili\";\n\nimport {\n  PolarH10,\n  PolarSensorType,\n  PolarH10Data,\n  HeartRateInfo,\n} from \"polar-h10\";\n\nimport {\n  SCROLL_MAX_LIMIT_FACTOR,\n  DEFAULT_ECG_LINE_CHART_OPTION,\n  DEFAULT_ACC_LINE_CHART_OPTION,\n  ECG_PRESENTATION_OPTIONS,\n  X_AXIS_PRESENTATION_OPTIONS,\n  Y_AXIS_PRESENTATION_OPTIONS,\n  Z_AXIS_PRESENTATION_OPTIONS,\n  X_LP_AXIS_PRESENTATION_OPTIONS,\n  Y_LP_AXIS_PRESENTATION_OPTIONS,\n  Z_LP_AXIS_PRESENTATION_OPTIONS,\n  X_FILTER_AXIS_PRESENTATION_OPTIONS,\n  Y_FILTER_AXIS_PRESENTATION_OPTIONS,\n  Z_FILTER_AXIS_PRESENTATION_OPTIONS,\n  MAG_FILTER_PRESENTATION_OPTIONS,\n  RHO_AXIS_PRESENTATION_OPTIONS,\n  PHI_AXIS_PRESENTATION_OPTIONS,\n  THETA_AXIS_PRESENTATION_OPTIONS,\n  ECG_FILTER_PRESENTATION_OPTIONS,\n  ECG_RMS_PRESENTATION_OPTIONS,\n  ECG_DELTA,\n  MAG_PRESENTATION_OPTIONS,\n  MAG_LP_PRESENTATION_OPTIONS,\n  ECG_RMS_WINDOW_MS,\n  ECG_RMS_WIN_MIN_MS,\n  ECG_RMS_WIN_MAX_MS,\n  ECG_RMS_WIN_STEP_MS,\n  ECG_RMS_WINDOW_SIZE,\n  ECG_STREAM_DELAY_MS,\n  ECG_RMS_MIN,\n  ECG_RMS_MAX,\n  ECG_FILTER_SCROLL_MIN,\n  ECG_RMS_SCROLL_MIN,\n  ACC_FILTER_MIN,\n  ACC_FILTER_MAX,\n  ACC_MAG_DELTA,\n  ECG_HIGHLOWPASS_CUTOFF_HZ,\n  ECG_BANDPASS_LOW_CUT_HZ,\n  ECG_BANDPASS_HIGH_CUT_HZ,\n  ECG_FILTER_ORDER,\n  AAC_LOWPASS_CUTOFF_HZ,\n  AAC_LOWPASS_ORDER,\n  AAC_FILTER_BANDPASS_HIGH_CUT_HZ,\n  AAC_FILTER_BANDPASS_LOW_CUT_HZ,\n  AAC_FILTER_ORDER,\n  ACC_SCROLL_MIN,\n  ACC_MAG_SCROLL_MIN,\n  ECG_SAMPLE_RATE_HZ,\n  ACC_STREAM_DELAY_MS,\n  ACC_RANGE_G,\n  ACC_SAMPLE_RATE_HZ,\n  ACC_DELTA,\n  ECG_FILTER_MIN,\n  ECG_FILTER_MAX,\n  ACC_MIN,\n  ACC_MAX,\n  BODY_PARTS,\n  LOW_BATT_LVL,\n  FilterInfo,\n  DEFAULT_MILLIS_PER_PX,\n  ECG_STREAM_DELAY_MIN_MS,\n  ECG_STREAM_DELAY_MAX_MS,\n  ECG_STREAM_DELAY_STEP_MS,\n  ECG_MS_PER_PX_MIN,\n  ECG_MS_PER_PX_MAX,\n  ECG_MS_PER_PX_STEP,\n  ACC_STREAM_DELAY_MIN_MS,\n  ACC_STREAM_DELAY_MAX_MS,\n  ACC_STREAM_DELAY_STEP_MS,\n  ECG_BAND_LOW_MIN_HZ,\n  ECG_BAND_HIGH_MAX_HZ,\n  ECG_BAND_HIGH_STEP_HZ,\n  ACC_BAND_LOW_MIN_HZ,\n  ACC_BAND_HIGH_MAX_HZ,\n  ACC_BAND_HIGH_STEP_HZ,\n  ACC_MS_PER_PX_MIN,\n  ACC_MS_PER_PX_MAX,\n  ACC_MS_PER_PX_STEP,\n  ACC_RANGE_OPTIONS,\n  ACC_SAMPLE_RATE_OPTIONS,\n  FILTER_TYPES,\n  FILTER_CHARACTERISTICS,\n  HEART_INDEX,\n} from \"./consts\";\n\nconst url_config: object = {};\n\ntype ConditionChecker = (row: PolarVisRow) => boolean;\n\nconst IIRCalc = new CalcCascades();\n\nexport async function createPolarVisRow(\n  content: HTMLElement,\n  device: BluetoothDevice,\n) {\n  const row = new PolarVisRow(content, device);\n  await row.init();\n}\n\n// const curr_url_search_string = window.location.search;\n// const url_params: URLSearchParams = new URLSearchParams(\n//   curr_url_search_string,\n// );\n\nexport function startRecording() {\n  PolarVisRow.is_recording = true;\n  PolarVisRow.recorded = {};\n  const polarNameDict = {};\n  for (let row_i = 0; row_i < PolarVisRow.polarVisRows.length; row_i++) {\n    const row = PolarVisRow.polarVisRows[row_i];\n    const polarName = row.getPolarName();\n\n    if (!(polarName in polarNameDict)) {\n      PolarVisRow.createNewRecordEntry(row);\n      polarNameDict[polarName] = row.polarH10;\n      row.polarH10.addEventListener(\"ECG\", row.recordECGData);\n      row.polarH10.addEventListener(\"ACC\", row.recordACCData);\n    }\n  }\n}\nexport function stopRecording() {\n  PolarVisRow.is_recording = false;\n  for (let row_i = 0; row_i < PolarVisRow.polarVisRows.length; row_i++) {\n    const row = PolarVisRow.polarVisRows[row_i];\n    const polar = row.polarH10;\n    polar.removeEventListener(\"ECG\", row.recordECGData);\n    polar.removeEventListener(\"ACC\", row.recordACCData);\n  }\n  download(\n    `Polar-h10_recording_${getCurrentTime()}`,\n    JSON.stringify(PolarVisRow.recorded, null, 2),\n  );\n  PolarVisRow.recorded = {};\n  updateRecordBtn();\n}\n\nfunction getCurrentTime() {\n  const date = new Date();\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, \"0\"); // Months are 0-indexed\n  const day = String(date.getDate()).padStart(2, \"0\");\n  const hours = String(date.getHours()).padStart(2, \"0\");\n  const minutes = String(date.getMinutes()).padStart(2, \"0\");\n  const seconds = String(date.getSeconds()).padStart(2, \"0\");\n\n  return `${year}-${month}-${day}_${hours}-${minutes}-${seconds}`;\n}\n\nfunction updateRecordBtn() {\n  if (!PolarVisRow.is_recording) {\n    const record_btn = document.getElementById(\n      \"record_btn\",\n    ) as HTMLButtonElement;\n    if (record_btn !== undefined && record_btn !== null) {\n      if (PolarVisRow.hasAnyActiveStream()) {\n        record_btn.disabled = false;\n      } else {\n        record_btn.disabled = true;\n      }\n    }\n  }\n}\n\nfunction updateDisconnectBtn() {\n  const ble_disconnect_btn = document.getElementById(\n    \"ble_disconnect_btn\",\n  ) as HTMLButtonElement;\n  if (ble_disconnect_btn !== undefined && ble_disconnect_btn !== null) {\n    if (PolarVisRow.hasAnyActiveStream()) {\n      ble_disconnect_btn.disabled = false;\n    } else {\n      ble_disconnect_btn.disabled = true;\n    }\n  }\n}\n\nexport function updateSearchURL(config: Object) {\n  const curr_url_search_string = window.location.search;\n  const url_params: URLSearchParams = new URLSearchParams(\n    curr_url_search_string,\n  );\n  for (const [key, val] of Object.entries(config)) {\n    url_params.set(key, val);\n  }\n  if (url_params.toString() !== curr_url_search_string) {\n    const new_url = `${window.location.protocol}//${window.location.host}${window.location.pathname}?${url_params.toString()}`;\n    window.history.pushState({ path: new_url }, \"\", new_url);\n  }\n}\n\nexport class PolarVisRow {\n  static polarRowID: number = 0;\n  static polarVisRows: PolarVisRow[] = [];\n  static recorded = {};\n  static is_recording = false;\n  device: BluetoothDevice;\n  polarH10: PolarH10;\n  deviceName: string;\n  parent: HTMLElement;\n  polarSensorDiv: HTMLDivElement;\n  optionDiv: HTMLDivElement;\n  deviceInfoDiv: HTMLDivElement;\n  nameDiv: HTMLDivElement;\n  loadingDiv: HTMLDivElement;\n  disconnectDiv: HTMLDivElement;\n  deviceNameDiv: HTMLDivElement;\n  battLvlDiv: HTMLDivElement;\n  dataInfo: HTMLDivElement;\n  bodypartLabel: HTMLDivElement;\n  bodypartSelectDiv: HTMLDivElement;\n  bodypartSelect: HTMLSelectElement;\n  dataCtrl: HTMLDivElement;\n  extraDataCtrl: HTMLDivElement;\n  rowOrder: HTMLDivElement;\n  visContainerDiv: HTMLDivElement;\n  visConfigDiv: HTMLDivElement;\n\n  ECGConfigDiv: HTMLDivElement;\n  ECGChartConfigDiv: HTMLDivElement;\n  ECGFilterConfigDiv: HTMLDivElement;\n  ECGRMSConfigDiv: HTMLDivElement;\n\n  customBodyPartInput: HTMLInputElement;\n\n  ACCConfigDiv: HTMLDivElement;\n  ACCChartConfigDiv: HTMLDivElement;\n  ACCLPConfigDiv: HTMLDivElement;\n  // ACCRMSConfigDiv: HTMLDivElement;\n  ACCFilterConfigDiv: HTMLDivElement;\n\n  ECGCtrlDiv: HTMLDivElement;\n  ACCCtrlDiv: HTMLDivElement;\n  order: number;\n\n  ECG_FILTER_MIN: number = ECG_FILTER_MIN;\n  ECG_FILTER_MAX: number = ECG_FILTER_MAX;\n  ECG_RMS_MIN: number = ECG_RMS_MIN;\n  ECG_RMS_MAX: number = ECG_RMS_MAX;\n  ACC_MIN: number = ACC_MIN;\n  ACC_MAX: number = ACC_MAX;\n  ACC_FILTER_MIN: number = ACC_FILTER_MIN;\n  ACC_FILTER_MAX: number = ACC_FILTER_MAX;\n\n  disBtn: HTMLButtonElement;\n  orderUpBtn: HTMLButtonElement;\n  orderDownBtn: HTMLButtonElement;\n  show3DBtn: HTMLButtonElement;\n  filterConfigBtn: HTMLButtonElement;\n  ECGFormSelect: HTMLSelectElement;\n  ECGSwitchInput: HTMLInputElement;\n  ECGDropDown: HTMLDivElement;\n  ACCFormSelect: HTMLSelectElement;\n  ACCSwitchInput: HTMLInputElement;\n  ACCDropDown: HTMLDivElement;\n\n  ECGDiv: HTMLElement | undefined = undefined;\n  ACCDiv: HTMLElement | undefined = undefined;\n\n  ECGStreamDelayInput: HTMLInputElement | undefined = undefined;\n  ECGstreamMPPInput: HTMLInputElement | undefined = undefined;\n  ECGRMSWinInput: HTMLInputElement | undefined = undefined;\n\n  ACCStreamDelayInput: HTMLInputElement | undefined = undefined;\n  ACCstreamMPPInput: HTMLInputElement | undefined = undefined;\n\n  ecg_resize: (() => void) | undefined = undefined;\n  ecg_chart: CustomSmoothie | undefined = undefined;\n  ecg_resize_observer: ResizeObserver | undefined = undefined;\n  ecg_canvas: HTMLCanvasElement | undefined = undefined;\n\n  ecg_filter_iir_coef = undefined;\n  ecg_ts: TimeSeries | undefined = undefined;\n\n  ecg_filter_info: FilterInfo;\n  ecg_filter_iir: IirFilter | undefined = undefined;\n  ecg_filter_ts: TimeSeries | undefined = undefined;\n  ecg_rms_ts: TimeSeries | undefined = undefined;\n\n  ecg_mss_win: Float64Array | undefined = undefined;\n  ecg_mss_win_i: number = 0;\n  ecg_buf_head: number = 0;\n  ecg_mss: number = 0;\n\n  acc_resize: (() => void) | undefined = undefined;\n  acc_chart: CustomSmoothie | undefined = undefined;\n  acc_resize_observer: ResizeObserver | undefined = undefined;\n  acc_canvas: HTMLCanvasElement | undefined = undefined;\n\n  acc_x_ts: TimeSeries | undefined = undefined;\n  acc_y_ts: TimeSeries | undefined = undefined;\n  acc_z_ts: TimeSeries | undefined = undefined;\n  acc_mag_ts: TimeSeries | undefined = undefined;\n\n  acc_lp_info: FilterInfo;\n  acc_lp_iir_coef = undefined;\n  acc_x_lp_iir: IirFilter | undefined = undefined;\n  acc_y_lp_iir: IirFilter | undefined = undefined;\n  acc_z_lp_iir: IirFilter | undefined = undefined;\n  acc_mag_lp_iir: IirFilter | undefined = undefined;\n  acc_x_lp_ts: TimeSeries | undefined = undefined;\n  acc_y_lp_ts: TimeSeries | undefined = undefined;\n  acc_z_lp_ts: TimeSeries | undefined = undefined;\n  acc_mag_lp_ts: TimeSeries | undefined = undefined;\n\n  acc_rho_ts: TimeSeries | undefined = undefined;\n  acc_phi_ts: TimeSeries | undefined = undefined;\n  acc_theta_ts: TimeSeries | undefined = undefined;\n\n  acc_filter_info: FilterInfo;\n  acc_filter_iir_coef = undefined;\n  acc_x_filter_iir: IirFilter | undefined = undefined;\n  acc_y_filter_iir: IirFilter | undefined = undefined;\n  acc_z_filter_iir: IirFilter | undefined = undefined;\n  acc_mag_filter_iir: IirFilter | undefined = undefined;\n  acc_x_filter_ts: TimeSeries | undefined = undefined;\n  acc_y_filter_ts: TimeSeries | undefined = undefined;\n  acc_z_filter_ts: TimeSeries | undefined = undefined;\n  acc_mag_filter_ts: TimeSeries | undefined = undefined;\n\n  ecg_rms_window_ms: number = ECG_RMS_WINDOW_MS;\n  ecg_rms_window_size: number = ECG_RMS_WINDOW_SIZE;\n  ecg_stream_delay: number = ECG_STREAM_DELAY_MS;\n  acc_stream_delay: number = ACC_STREAM_DELAY_MS;\n  ecg_millis_per_px: number = DEFAULT_MILLIS_PER_PX;\n  acc_millis_per_px: number = DEFAULT_MILLIS_PER_PX;\n\n  showVisConfig: boolean = false;\n  customBodyPart: string = \"\";\n  customBodyPartSpan: HTMLSpanElement | undefined = undefined;\n\n  acc_range_options: number[] | undefined = undefined;\n  acc_sample_rate_options: number[] | undefined = undefined;\n\n  acc_range_g: number = ACC_RANGE_G;\n  acc_sample_rate_hz: number = ACC_SAMPLE_RATE_HZ;\n  ACCSampleRateSelect: HTMLSelectElement | undefined = undefined;\n  ACCRangeSelect: HTMLSelectElement | undefined = undefined;\n  ECGFilterTypesSelect: HTMLSelectElement | undefined = undefined;\n  ECGFilteCharSelect: HTMLSelectElement | undefined = undefined;\n  ECGFilterOrderInput: HTMLInputElement | undefined = undefined;\n  ECGFilterCutoffInput: HTMLInputElement | undefined = undefined;\n  ECGFilterHighCutInput: HTMLInputElement | undefined = undefined;\n  ECGFilterLowCutInput: HTMLInputElement | undefined = undefined;\n\n  ACCFilterTypesSelect: HTMLSelectElement | undefined = undefined;\n  ACCFilterCharSelect: HTMLSelectElement | undefined = undefined;\n  ACCFilterOrderInput: HTMLInputElement | undefined = undefined;\n  ACCFilterCutoffInput: HTMLInputElement | undefined = undefined;\n  ACCFilterHighCutInput: HTMLInputElement | undefined = undefined;\n  ACCFilterLowCutInput: HTMLInputElement | undefined = undefined;\n\n  ACCLPCharSelect: HTMLSelectElement | undefined = undefined;\n  ACCLPOrderInput: HTMLInputElement | undefined = undefined;\n  ACCLPCutoffInput: HTMLInputElement | undefined = undefined;\n\n  heartbeat_bpm_info: SmoothieTSInfo | undefined = undefined;\n  heart_rate_var_rms_info: SmoothieTSInfo | undefined = undefined;\n\n  rr_ss: number = 0;\n  rr_sum: number = 0;\n  rr_s_list: number[] = [];\n  rr_list: number[] = [];\n  hrv_win_ms: number = 30000;\n\n  constructor(content: HTMLElement, device: BluetoothDevice) {\n    if (device.name === undefined) {\n      throw new Error(\"Invalid Bluetooth device! Missing name\");\n    }\n    this.parent = content;\n    this.device = device;\n    this.deviceName = this.device?.name?.substring(10) || \"\";\n    this.ecg_rms_window_ms = ECG_RMS_WINDOW_MS;\n    this.updateECGRMSWinSize();\n    this.initFilterSettings();\n    this.showVisConfig = false;\n  }\n\n  static createNewRecordEntry(row: PolarVisRow) {\n    const polarName = row.getPolarName();\n    if (!(polarName in PolarVisRow.recorded)) {\n      PolarVisRow.recorded[polarName] = {\n        ECG: {\n          data: [],\n          timestamp: [],\n        },\n        ACC: {\n          data_x: [],\n          data_y: [],\n          data_z: [],\n          timestamp: [],\n        },\n      };\n    }\n  }\n\n  static stopAllPolarStream() {\n    const promises: Promise<any>[] = [];\n    for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n      const row = PolarVisRow.polarVisRows[i];\n      if (row.ECGDiv !== undefined) {\n        promises.push(PolarVisRow.polarVisRows[i].stopECG());\n      }\n      if (row.ACCDiv !== undefined) {\n        promises.push(PolarVisRow.polarVisRows[i].stopAcc());\n      }\n    }\n    return Promise.all(promises);\n  }\n\n  static async disconnectAllPolarH10() {\n    for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n      console.log(`Removing ${i}`);\n      const row = PolarVisRow.polarVisRows[i];\n      await row.disconnectPolarH10();\n    }\n  }\n\n  static hasAnyActiveStream() {\n    let has_active_stream = false;\n    for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n      const row = PolarVisRow.polarVisRows[i];\n      if (row.ECGDiv !== undefined) {\n        has_active_stream = true;\n        break;\n      }\n      if (row.ACCDiv !== undefined) {\n        has_active_stream = true;\n        break;\n      }\n    }\n    return has_active_stream;\n  }\n\n  getPolarName() {\n    let alternative_name: string;\n    if (this.customBodyPart !== undefined && this.customBodyPart.length > 0) {\n      alternative_name = this.customBodyPart;\n    } else {\n      alternative_name = BODY_PARTS[this.bodypartSelect.selectedIndex];\n    }\n    if (alternative_name.length > 0) {\n      return `${this.deviceName}-${alternative_name}`;\n    } else {\n      return this.deviceName;\n    }\n  }\n\n  updateECGRMSWinSize() {\n    this.ecg_rms_window_size = Math.round(\n      ECG_SAMPLE_RATE_HZ / (1000 / this.ecg_rms_window_ms),\n    );\n  }\n\n  updateECGRMSWin() {\n    // this.ecg_rms\n    this.ecg_mss_win_i = 0;\n    this.ecg_buf_head = 0;\n    this.ecg_mss = 0;\n    this.ecg_mss_win = new Float64Array(this.ecg_rms_window_ms);\n  }\n\n  initECGFilterSettings() {\n    this.ecg_filter_info = {\n      type: \"highpass\",\n      order: ECG_FILTER_ORDER,\n      characteristic: \"butterworth\",\n      Fs: ECG_SAMPLE_RATE_HZ,\n      Fc: ECG_HIGHLOWPASS_CUTOFF_HZ,\n      Fl: ECG_BANDPASS_LOW_CUT_HZ,\n      Fh: ECG_BANDPASS_HIGH_CUT_HZ,\n      BW: ECG_BANDPASS_HIGH_CUT_HZ - ECG_BANDPASS_LOW_CUT_HZ,\n      gain: undefined,\n      preGain: false,\n    };\n  }\n\n  initACCLowpassFilterSettings() {\n    this.acc_lp_info = {\n      type: \"lowpass\",\n      order: AAC_LOWPASS_ORDER,\n      characteristic: \"butterworth\",\n      Fs: this.acc_sample_rate_hz,\n      Fc: AAC_LOWPASS_CUTOFF_HZ,\n      Fl: 1,\n      Fh: 10,\n      BW: undefined,\n      gain: undefined,\n      preGain: false,\n    };\n  }\n\n  initACCFilterSettings() {\n    this.acc_filter_info = {\n      type: \"bandpass\",\n      order: AAC_FILTER_ORDER,\n      characteristic: \"butterworth\",\n      Fs: this.acc_sample_rate_hz,\n      Fc: Math.sqrt(\n        AAC_FILTER_BANDPASS_LOW_CUT_HZ * AAC_FILTER_BANDPASS_HIGH_CUT_HZ,\n      ),\n      Fl: AAC_FILTER_BANDPASS_LOW_CUT_HZ,\n      Fh: AAC_FILTER_BANDPASS_HIGH_CUT_HZ,\n      BW: AAC_FILTER_BANDPASS_HIGH_CUT_HZ - AAC_FILTER_BANDPASS_LOW_CUT_HZ,\n      gain: undefined,\n      preGain: false,\n    };\n  }\n\n  initFilterSettings() {\n    this.initECGFilterSettings();\n    this.initACCLowpassFilterSettings();\n    this.initACCFilterSettings();\n  }\n\n  updateBandpass(filter_info: FilterInfo) {\n    if (filter_info.Fh !== undefined && filter_info.Fl != undefined) {\n      filter_info.BW = filter_info.Fh - filter_info.Fl;\n      filter_info.Fc = Math.sqrt(filter_info.Fh * filter_info.Fl);\n    }\n  }\n\n  recordECGData = (data: PolarH10Data) => {\n    if (data.samples !== undefined) {\n      const polarName = this.getPolarName();\n      for (let s_i = 0; s_i < data.samples.length; s_i++) {\n        const sample_i = (data.samples as Int32Array)[s_i];\n        PolarVisRow.recorded[polarName].ECG.data.push(sample_i);\n        if (data.epoch_timestamps_ms !== undefined) {\n          const timestamp = data.epoch_timestamps_ms[s_i];\n          PolarVisRow.recorded[polarName].ECG.timestamp.push(timestamp);\n        }\n      }\n    }\n  };\n\n  recordACCData = (data: PolarH10Data) => {\n    if (data.samples !== undefined) {\n      const polarName = this.getPolarName();\n      for (let s_i = 0; s_i < data.samples.length; s_i += 3) {\n        const frameNum = Math.floor(s_i / 3);\n\n        const y_d = -(data.samples as Int16Array)[s_i];\n        const x_d = -(data.samples as Int16Array)[s_i + 1];\n        const z_d = (data.samples as Int16Array)[s_i + 2];\n\n        PolarVisRow.recorded[polarName].ACC.data_x.push(x_d);\n        PolarVisRow.recorded[polarName].ACC.data_y.push(y_d);\n        PolarVisRow.recorded[polarName].ACC.data_z.push(z_d);\n        if (data.epoch_timestamps_ms !== undefined) {\n          const timestamp = data.epoch_timestamps_ms[frameNum];\n          PolarVisRow.recorded[polarName].ACC.timestamp.push(timestamp);\n        }\n      }\n    }\n  };\n\n  disconnectPolarH10 = async (ev: any = undefined) => {\n    this.removeSelf();\n    if (this.ecg_chart !== undefined) {\n      this.ecg_chart.stop();\n    }\n    if (this.ecg_resize_observer !== undefined) {\n      this.ecg_resize_observer.disconnect();\n    }\n    if (this.ECGDiv !== undefined) {\n      this.visContainerDiv?.removeChild(this.ECGDiv);\n      // this.ECGDiv.parentNode?.removeChild(this.ECGDiv);\n\n      this.polarH10.removeEventListener(\"ECG\", this.newECGCallback);\n      await this.stopECG();\n    }\n    this.resetECG();\n\n    if (this.acc_chart !== undefined) {\n      this.acc_chart.stop();\n    }\n    if (this.acc_resize_observer !== undefined) {\n      this.acc_resize_observer.disconnect();\n    }\n    if (this.ACCDiv !== undefined) {\n      this.visContainerDiv?.removeChild(this.ACCDiv);\n      // this.ACCDiv.parentNode?.removeChild(this.ACCDiv);\n      this.polarH10.removeEventListener(\"ACC\", this.newACCCallback);\n      await this.stopAcc();\n    }\n    this.resetACC();\n\n    this.disconnectPolarH10IfAlone();\n  };\n\n  async init() {\n    try {\n      await this.initPolarH10();\n      await this.initDeviceInfo();\n      await this.initDeviceGraphCtrl();\n      PolarVisRow.polarRowID += 1;\n      PolarVisRow.polarVisRows.push(this);\n\n      const curr_url_search_string = window.location.search;\n      const url_params: URLSearchParams = new URLSearchParams(\n        curr_url_search_string,\n      );\n      const val: string | null = url_params.get(this.deviceName);\n      if (val !== null) {\n        let id_val = parseInt(val);\n        if (isNaN(id_val)) {\n          this.onCustomBodyPart({ target: { value: val } });\n        } else {\n          this.onBodypartSelect({\n            target: {\n              selectedIndex: id_val,\n            },\n          });\n        }\n      } else {\n        const duplicateInd = this.includesDuplicate(\"device\");\n        if (duplicateInd > -1) {\n          console.log(`duplicateInd: ${duplicateInd}`);\n          const duplicateRow = PolarVisRow.polarVisRows[duplicateInd];\n          const customBodyPart = duplicateRow.customBodyPart;\n\n          if (customBodyPart) {\n            this.onCustomBodyPart({ target: { value: customBodyPart } });\n          } else {\n            this.onBodypartSelect({\n              target: {\n                selectedIndex: duplicateRow.bodypartSelect.selectedIndex,\n              },\n            });\n          }\n        }\n        this.polarH10.addBatteryLevelEventListener(this.updateBatteryInfo);\n      }\n    } catch (err) {\n      console.log(err);\n      this.disconnectPolarH10();\n      alert(err);\n    }\n  }\n\n  moveUp = (ev: any) => {\n    this.order -= 1;\n    this.polarSensorDiv.style.order = this.order.toString();\n    const prevRow = PolarVisRow.polarVisRows[this.order];\n    prevRow.order += 1;\n    prevRow.polarSensorDiv.style.order = prevRow.order.toString();\n    PolarVisRow.polarVisRows[this.order] = this;\n    PolarVisRow.polarVisRows[prevRow.order] = prevRow;\n    if (this.order === 0) {\n      this.orderUpBtn.disabled = true;\n      this.orderDownBtn.disabled = false;\n      prevRow.orderUpBtn.disabled = false;\n    } else if (this.order === PolarVisRow.polarVisRows.length - 2) {\n      this.orderDownBtn.disabled = false;\n    }\n    if (prevRow.order === PolarVisRow.polarVisRows.length - 1) {\n      prevRow.orderDownBtn.disabled = true;\n      prevRow.orderUpBtn.disabled = false;\n    }\n  };\n\n  moveDown = (ev: any) => {\n    this.order += 1;\n    this.polarSensorDiv.style.order = this.order.toString();\n    const nextRow = PolarVisRow.polarVisRows[this.order];\n    nextRow.order -= 1;\n    nextRow.polarSensorDiv.style.order = nextRow.order.toString();\n    PolarVisRow.polarVisRows[this.order] = this;\n    PolarVisRow.polarVisRows[nextRow.order] = nextRow;\n\n    if (this.order === PolarVisRow.polarVisRows.length - 1) {\n      this.orderUpBtn.disabled = false;\n      this.orderDownBtn.disabled = true;\n      nextRow.orderDownBtn.disabled = false;\n    } else if (this.order === 1) {\n      this.orderUpBtn.disabled = false;\n    }\n    if (nextRow.order === 0) {\n      nextRow.orderDownBtn.disabled = false;\n      nextRow.orderUpBtn.disabled = true;\n    }\n  };\n\n  toggleVisConfig = (ev: any) => {\n    this.showVisConfig = !this.showVisConfig;\n    if (this.showVisConfig) {\n      this.visContainerDiv.classList.add(\"hide\");\n      this.visConfigDiv.classList.remove(\"hide\");\n      this.filterConfigBtn.classList.add(\"btn-success\");\n    } else {\n      this.visContainerDiv.classList.remove(\"hide\");\n      this.visConfigDiv.classList.add(\"hide\");\n      this.filterConfigBtn.classList.remove(\"btn-success\");\n    }\n  };\n\n  newECGCallback = (data: PolarH10Data) => {\n    if (\n      this.ecg_ts !== undefined &&\n      this.ecg_rms_ts !== undefined &&\n      this.ecg_filter_ts !== undefined &&\n      data.prev_sample_timestamp_ms > 0 &&\n      data.samples !== undefined &&\n      this.ecg_filter_iir !== undefined\n    ) {\n      if (data.epoch_timestamps_ms === undefined) {\n        return;\n      }\n      for (let s_i = 0; s_i < data.samples.length; s_i++) {\n        const timestamp = data.epoch_timestamps_ms[s_i];\n        const plotDelay =\n          timestamp - data.event_time_offset_ms - data.prev_sample_timestamp_ms;\n        const sample_i = (data.samples as Int32Array)[s_i];\n        const filtered_sample_i = this.ecg_filter_iir.singleStep(sample_i);\n        const filtered_sample_squared_n_i =\n          (filtered_sample_i / this.ecg_rms_window_size) * filtered_sample_i;\n        let data_rms_i: number | undefined = undefined;\n        if (this.ecg_mss_win !== undefined) {\n          this.ecg_mss += filtered_sample_squared_n_i;\n          if (this.ecg_mss_win_i < this.ecg_rms_window_size) {\n            this.ecg_mss_win[this.ecg_mss_win_i] = filtered_sample_squared_n_i;\n            this.ecg_mss_win_i++;\n          } else {\n            this.ecg_mss -= this.ecg_mss_win[this.ecg_buf_head];\n            this.ecg_mss_win[this.ecg_buf_head] = filtered_sample_squared_n_i;\n            this.ecg_buf_head =\n              (this.ecg_buf_head + 1) % this.ecg_rms_window_size;\n          }\n          if (this.ecg_mss_win_i === this.ecg_rms_window_size) {\n            data_rms_i = Math.sqrt(this.ecg_mss);\n          }\n        }\n        setTimeout(() => {\n          this.ecg_ts?.append(timestamp, sample_i);\n          this.ecg_filter_ts?.append(timestamp, filtered_sample_i);\n          if (data_rms_i !== undefined) {\n            this.ecg_rms_ts?.append(timestamp, data_rms_i);\n          }\n        }, plotDelay);\n      }\n    }\n  };\n\n  newACCCallback = (data: PolarH10Data) => {\n    if (\n      data.prev_sample_timestamp_ms > 0 &&\n      data.samples !== undefined &&\n      this.acc_x_ts !== undefined &&\n      this.acc_y_ts !== undefined &&\n      this.acc_z_ts !== undefined &&\n      this.acc_mag_ts !== undefined &&\n      this.acc_x_lp_ts !== undefined &&\n      this.acc_y_lp_ts !== undefined &&\n      this.acc_z_lp_ts !== undefined &&\n      this.acc_mag_lp_ts !== undefined &&\n      this.acc_rho_ts !== undefined &&\n      this.acc_phi_ts !== undefined &&\n      this.acc_theta_ts !== undefined &&\n      this.acc_x_filter_ts !== undefined &&\n      this.acc_y_filter_ts !== undefined &&\n      this.acc_z_filter_ts !== undefined &&\n      this.acc_mag_filter_ts !== undefined &&\n      this.acc_x_lp_iir !== undefined &&\n      this.acc_y_lp_iir !== undefined &&\n      this.acc_z_lp_iir !== undefined &&\n      this.acc_mag_lp_iir !== undefined &&\n      this.acc_x_filter_iir !== undefined &&\n      this.acc_y_filter_iir !== undefined &&\n      this.acc_z_filter_iir !== undefined &&\n      this.acc_mag_filter_iir !== undefined\n    ) {\n      if (data.epoch_timestamps_ms === undefined) {\n        return;\n      }\n      for (let s_i = 0; s_i < data.samples.length; s_i += 3) {\n        const frameNum = Math.floor(s_i / 3);\n        const timestamp = data.epoch_timestamps_ms[frameNum];\n        const plotDelay =\n          timestamp - data.event_time_offset_ms - data.prev_sample_timestamp_ms;\n        const y_d = -(data.samples as Int16Array)[s_i];\n        const x_d = -(data.samples as Int16Array)[s_i + 1];\n        const z_d = (data.samples as Int16Array)[s_i + 2];\n        const x_lp_d = this.acc_x_lp_iir.singleStep(x_d);\n        const y_lp_d = this.acc_y_lp_iir.singleStep(y_d);\n        const z_lp_d = this.acc_z_lp_iir.singleStep(z_d);\n        const x_lp_d_2 = x_lp_d * x_lp_d;\n        const y_lp_d_2 = y_lp_d * y_lp_d;\n        const z_lp_d_2 = z_lp_d * z_lp_d;\n        const rho =\n          (Math.atan(x_lp_d / Math.sqrt(y_lp_d_2 + z_lp_d_2)) / Math.PI) * 180;\n        const phi =\n          (Math.atan(y_lp_d / Math.sqrt(x_lp_d_2 + z_lp_d_2)) / Math.PI) * 180;\n        const theta =\n          (Math.atan(Math.sqrt(x_lp_d_2 + y_lp_d_2) / z_lp_d) / Math.PI) * 180;\n        const acc_mag = Math.sqrt(x_d * x_d + y_d * y_d + z_d * z_d);\n        const mag_lp_d = this.acc_mag_lp_iir.singleStep(acc_mag);\n        const x_filter_d = this.acc_x_filter_iir.singleStep(x_d);\n        const y_filter_d = this.acc_y_filter_iir.singleStep(y_d);\n        const z_filter_d = this.acc_z_filter_iir.singleStep(z_d);\n        const mag_filter_d = this.acc_mag_filter_iir.singleStep(acc_mag);\n        setTimeout(() => {\n          this.acc_x_ts?.append(timestamp, x_d);\n          this.acc_y_ts?.append(timestamp, y_d);\n          this.acc_z_ts?.append(timestamp, z_d);\n          this.acc_mag_ts?.append(timestamp, acc_mag);\n\n          this.acc_rho_ts?.append(timestamp, rho);\n          this.acc_phi_ts?.append(timestamp, phi);\n          this.acc_theta_ts?.append(timestamp, theta);\n\n          this.acc_x_lp_ts?.append(timestamp, x_lp_d);\n          this.acc_y_lp_ts?.append(timestamp, y_lp_d);\n          this.acc_z_lp_ts?.append(timestamp, z_lp_d);\n          this.acc_mag_lp_ts?.append(timestamp, mag_lp_d);\n\n          this.acc_x_filter_ts?.append(timestamp, x_filter_d);\n          this.acc_y_filter_ts?.append(timestamp, y_filter_d);\n          this.acc_z_filter_ts?.append(timestamp, z_filter_d);\n          this.acc_mag_filter_ts?.append(timestamp, mag_filter_d);\n        }, plotDelay);\n      }\n    }\n  };\n\n  addHeartInfo = () => {\n    if (\n      this.bodypartSelect.selectedIndex === HEART_INDEX &&\n      this.heartbeat_bpm_info !== undefined &&\n      this.heart_rate_var_rms_info !== undefined\n    ) {\n      if (this.ecg_chart !== undefined) {\n        this.ecg_chart.addSmoothieTSInfo(this.heartbeat_bpm_info);\n        this.ecg_chart.addSmoothieTSInfo(this.heart_rate_var_rms_info);\n      }\n    }\n  };\n\n  removeheartInfo = () => {\n    if (\n      this.bodypartSelect.selectedIndex !== HEART_INDEX &&\n      this.heartbeat_bpm_info !== undefined &&\n      this.heart_rate_var_rms_info !== undefined\n    ) {\n      if (this.ecg_chart !== undefined) {\n        this.ecg_chart.removeLegendTSInfo(this.heartbeat_bpm_info);\n        this.ecg_chart.removeLegendTSInfo(this.heart_rate_var_rms_info);\n      }\n      this.heartbeat_bpm_info = undefined;\n      this.heart_rate_var_rms_info = undefined;\n    }\n  };\n\n  changeECGGraph = (evt: any) => {\n    if (\n      this.ecg_chart !== undefined &&\n      this.ecg_ts !== undefined &&\n      this.ecg_filter_ts !== undefined &&\n      this.ecg_rms_ts !== undefined\n    ) {\n      const selected = evt.target.selectedIndex;\n      this.ecg_chart.stop();\n      switch (selected) {\n        case 0: // \"Raw\":\n          this.ecg_chart.configureTimeSeries(\n            [this.ecg_ts],\n            [ECG_PRESENTATION_OPTIONS],\n            [genSmoothieLegendInfo(\"\u2015 Voltage (\u03BCV)\", 10, 0)],\n            false,\n            undefined,\n            undefined,\n            1,\n            1,\n            DEFAULT_ECG_LINE_CHART_OPTION.title?.text ||\n              \"EXG raw voltage (0.7\u201340 Hz)\",\n            false,\n            [],\n            true,\n            false,\n            true,\n          );\n          break;\n        case 1: // filter:\n          this.ecg_chart.configureTimeSeries(\n            [this.ecg_filter_ts],\n            [ECG_FILTER_PRESENTATION_OPTIONS],\n            [genSmoothieLegendInfo(\"\u2015 Voltage (\u03BCV)\", 10, 0)],\n            true,\n            this.ECG_FILTER_MIN,\n            this.ECG_FILTER_MAX,\n            1,\n            1,\n            `${prettyPrintFilter(this.ecg_filter_info)} on EXG raw`,\n            false,\n            [],\n            true,\n            true,\n            true,\n          );\n          break;\n        case 2: //\"RMS\":\n          this.ecg_chart.configureTimeSeries(\n            [this.ecg_rms_ts],\n            [ECG_RMS_PRESENTATION_OPTIONS],\n            [genSmoothieLegendInfo(`\u2015 RMS voltage (\u03BCV)`, 10, 0)],\n            true,\n            this.ECG_RMS_MIN,\n            this.ECG_RMS_MAX,\n            1,\n            1,\n            `RMS using ${this.ecg_rms_window_ms}ms window on ${prettyPrintFilter(this.ecg_filter_info, false)} EXG`,\n            false,\n            [],\n            true,\n            true,\n            true,\n          );\n          break;\n      }\n      this.addHeartInfo();\n      this.ecg_chart.start();\n    }\n  };\n\n  changeACCGraph = (evt: any) => {\n    if (\n      this.acc_chart !== undefined &&\n      this.acc_x_ts !== undefined &&\n      this.acc_y_ts !== undefined &&\n      this.acc_z_ts !== undefined &&\n      this.acc_x_lp_ts !== undefined &&\n      this.acc_y_lp_ts !== undefined &&\n      this.acc_z_lp_ts !== undefined &&\n      this.acc_mag_lp_ts !== undefined &&\n      this.acc_rho_ts !== undefined &&\n      this.acc_phi_ts !== undefined &&\n      this.acc_theta_ts !== undefined &&\n      this.acc_mag_ts !== undefined &&\n      this.acc_x_filter_ts !== undefined &&\n      this.acc_y_filter_ts !== undefined &&\n      this.acc_z_filter_ts !== undefined &&\n      this.acc_mag_filter_ts !== undefined // &&\n      // this.configureACCGraph !== undefined\n    ) {\n      const selected = evt.target.selectedIndex;\n      let title = \"\";\n      this.acc_chart.stop();\n      switch (selected) {\n        case 0: //\"Raw\":\n          this.acc_chart.configureTimeSeries(\n            [this.acc_x_ts, this.acc_y_ts, this.acc_z_ts, this.acc_mag_ts],\n            [\n              X_AXIS_PRESENTATION_OPTIONS,\n              Y_AXIS_PRESENTATION_OPTIONS,\n              Z_AXIS_PRESENTATION_OPTIONS,\n              MAG_PRESENTATION_OPTIONS,\n            ],\n            [\n              genSmoothieLegendInfo(\"\u2015 X-axis (mG)\", 10, 0),\n              genSmoothieLegendInfo(\"\u2015 Y-axis (mG)\", 10, 0),\n              genSmoothieLegendInfo(\"\u2015 Z-axis (mG)\", 10, 0),\n              genSmoothieLegendInfo(\"\u2015 ACC magnitude (mG)\", 10, 0),\n            ],\n            true,\n            this.ACC_MIN,\n            this.ACC_MAX,\n            1,\n            1,\n            DEFAULT_ACC_LINE_CHART_OPTION.title?.text || \"Accelerometer raw\",\n            false,\n            [],\n            true,\n            true,\n            true,\n          );\n          break;\n        case 1: //\"Lowpass\":\n          this.acc_chart.configureTimeSeries(\n            [\n              this.acc_x_lp_ts,\n              this.acc_y_lp_ts,\n              this.acc_z_lp_ts,\n              this.acc_mag_lp_ts,\n            ],\n            [\n              X_LP_AXIS_PRESENTATION_OPTIONS,\n              Y_LP_AXIS_PRESENTATION_OPTIONS,\n              Z_LP_AXIS_PRESENTATION_OPTIONS,\n              MAG_LP_PRESENTATION_OPTIONS,\n            ],\n            [\n              genSmoothieLegendInfo(\"\u2015 X-axis (mG)\", 10, 0),\n              genSmoothieLegendInfo(\"\u2015 Y-axis (mG)\", 10, 0),\n              genSmoothieLegendInfo(\"\u2015 Z-axis (mG)\", 10, 0),\n              genSmoothieLegendInfo(\"\u2015 ACC magnitude (mG)\", 10, 0),\n            ],\n            true,\n            this.ACC_MIN,\n            this.ACC_MAX,\n            1,\n            1,\n            `${prettyPrintFilter(this.acc_lp_info)} on accelerometer raw`,\n            false,\n            [],\n            true,\n            true,\n            true,\n          );\n          break;\n\n        case 2: //\"Tilt\":\n          this.acc_chart.configureTimeSeries(\n            [this.acc_rho_ts, this.acc_phi_ts, this.acc_theta_ts],\n            [\n              RHO_AXIS_PRESENTATION_OPTIONS,\n              PHI_AXIS_PRESENTATION_OPTIONS,\n              THETA_AXIS_PRESENTATION_OPTIONS,\n            ],\n            [\n              genSmoothieLegendInfo(\"\u2015 \u03C1\u00B0 \u2220(X-axis, Horizon)\", 10, 0),\n              genSmoothieLegendInfo(\"\u2015 \u03D5\u00B0 \u2220(Y-axis, Horizon)\", 10, 0),\n              genSmoothieLegendInfo(\"\u2015 \u03B8\u00B0 \u2220(Z-axis, -Gravity)\", 10, 0),\n            ],\n            false,\n            -120,\n            120,\n            1.3,\n            1.3,\n            \"Tilt angle [-90\u00B0, 90\u00B0] from lowpass on accelerometer raw\",\n            false,\n            [\n              { value: 90, color: \"#ffffff7f\", lineWidth: 1 },\n              { value: -90, color: \"#ffffff7f\", lineWidth: 1 },\n            ],\n            true,\n            true,\n            true,\n          );\n          break;\n\n        case 3: //\"filter\"\n          this.acc_chart.configureTimeSeries(\n            [\n              this.acc_x_filter_ts,\n              this.acc_y_filter_ts,\n              this.acc_z_filter_ts,\n              this.acc_mag_filter_ts,\n            ],\n            [\n              X_FILTER_AXIS_PRESENTATION_OPTIONS,\n              Y_FILTER_AXIS_PRESENTATION_OPTIONS,\n              Z_FILTER_AXIS_PRESENTATION_OPTIONS,\n              MAG_FILTER_PRESENTATION_OPTIONS,\n            ],\n            [\n              genSmoothieLegendInfo(\"\u2015 X-axis (mG)\", 10, 0),\n              genSmoothieLegendInfo(\"\u2015 Y-axis (mG)\", 10, 0),\n              genSmoothieLegendInfo(\"\u2015 Z-axis (mG)\", 10, 0),\n              genSmoothieLegendInfo(\"\u2015 ACC magnitude (mG)\", 10, 0),\n            ],\n            true,\n            this.ACC_FILTER_MIN,\n            this.ACC_FILTER_MAX,\n            1,\n            1,\n            `${prettyPrintFilter(this.acc_filter_info)} on accelerometer`,\n            false,\n            [],\n            true,\n            true,\n            true,\n          );\n          break;\n      }\n      this.acc_chart.start();\n    }\n  };\n\n  onWheelECG = (ev: any) => {\n    if (this.ecg_chart !== undefined && !this.ecg_chart.yScaleIsAuto()) {\n      const delta = ev.deltaY < 0 ? ECG_DELTA : -ECG_DELTA;\n      switch (this.ECGFormSelect?.selectedIndex) {\n        case 0:\n          break;\n        case 1:\n          if (\n            this.ECG_FILTER_MAX !== undefined &&\n            this.ECG_FILTER_MIN !== undefined\n          ) {\n            ev.preventDefault();\n            this.ECG_FILTER_MAX += delta;\n            this.ECG_FILTER_MIN -= delta;\n            if (\n              this.ECG_FILTER_MAX < ECG_FILTER_SCROLL_MIN ||\n              this.ECG_FILTER_MAX <= this.ECG_FILTER_MIN ||\n              this.ECG_FILTER_MAX / SCROLL_MAX_LIMIT_FACTOR > ECG_FILTER_MAX\n            ) {\n              this.ECG_FILTER_MAX -= delta;\n              this.ECG_FILTER_MIN += delta;\n            }\n            this.ecg_chart.options.minValue = this.ECG_FILTER_MIN;\n            this.ecg_chart.options.maxValue = this.ECG_FILTER_MAX;\n          }\n          break;\n        case 2:\n          if (this.ECG_RMS_MAX !== undefined) {\n            ev.preventDefault();\n            this.ECG_RMS_MAX += delta;\n            if (\n              this.ECG_RMS_MAX < ECG_RMS_SCROLL_MIN ||\n              this.ECG_RMS_MAX <= this.ECG_RMS_MIN ||\n              this.ECG_RMS_MAX / SCROLL_MAX_LIMIT_FACTOR > ECG_RMS_MAX\n            ) {\n              this.ECG_RMS_MAX -= delta;\n            }\n            this.ecg_chart.options.minValue = 0;\n            this.ecg_chart.options.maxValue = this.ECG_RMS_MAX;\n\n            break;\n          }\n      }\n    }\n  };\n\n  onWheelACC = (ev: any) => {\n    if (this.acc_chart !== undefined && !this.acc_chart.yScaleIsAuto()) {\n      let delta = 0;\n      switch (this.ACCFormSelect?.selectedIndex) {\n        case 0:\n        case 1:\n          if (this.ACC_MAX !== undefined && this.ACC_MIN !== undefined) {\n            ev.preventDefault();\n            delta = ev.deltaY < 0 ? ACC_DELTA : -ACC_DELTA;\n            this.ACC_MAX += delta;\n            this.ACC_MIN -= delta;\n            if (\n              this.ACC_MAX < ACC_SCROLL_MIN ||\n              this.ACC_MAX <= this.ACC_MIN ||\n              this.ACC_MAX / SCROLL_MAX_LIMIT_FACTOR > ACC_MAX\n            ) {\n              this.ACC_MAX -= delta;\n              this.ACC_MIN += delta;\n            }\n            this.acc_chart.options.minValue = this.ACC_MIN;\n            this.acc_chart.options.maxValue = this.ACC_MAX;\n          }\n          break;\n        case 2:\n          break;\n        case 3:\n          if (\n            this.ACC_FILTER_MAX !== undefined &&\n            this.ACC_FILTER_MIN !== undefined\n          ) {\n            ev.preventDefault();\n            delta = ev.deltaY < 0 ? ACC_MAG_DELTA : -ACC_MAG_DELTA;\n\n            this.ACC_FILTER_MAX += delta;\n            this.ACC_FILTER_MIN -= delta;\n            if (\n              this.ACC_FILTER_MAX < ACC_MAG_SCROLL_MIN ||\n              this.ACC_FILTER_MAX <= this.ACC_MIN ||\n              this.ACC_FILTER_MAX / SCROLL_MAX_LIMIT_FACTOR > ACC_FILTER_MAX\n            ) {\n              this.ACC_FILTER_MAX -= delta;\n              this.ACC_FILTER_MIN += delta;\n            }\n            this.acc_chart.options.minValue = this.ACC_FILTER_MIN;\n            this.acc_chart.options.maxValue = this.ACC_FILTER_MAX;\n          }\n          break;\n      }\n    }\n  };\n\n  disableAllOtherSameSwitch() {\n    for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n      const row = PolarVisRow.polarVisRows[i];\n      if (row !== this && row.polarH10 === this.polarH10) {\n        row.ECGSwitchInput.disabled = true;\n        row.ACCSwitchInput.disabled = true;\n      }\n    }\n  }\n\n  enableAllOtherSameSwitch() {\n    for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n      const row = PolarVisRow.polarVisRows[i];\n      if (row !== this && row.polarH10 === this.polarH10) {\n        row.ECGSwitchInput.disabled = false;\n        row.ACCSwitchInput.disabled = false;\n      }\n    }\n  }\n\n  onToggleECG = async (ev: any) => {\n    this.ACCSwitchInput.disabled = true;\n    this.disableAllOtherSameSwitch();\n    if (ev.target?.checked) {\n      // Start ECG\n      this.initECGFilterSettings();\n      let width_class: string;\n      if (this.ACCDiv === undefined) {\n        width_class = \"full-width\";\n      } else {\n        width_class = \"half-width\";\n        this.ACCDiv.classList.remove(\"full-width\");\n        this.ACCDiv.classList.add(\"half-width\");\n        this.visContainerDiv.removeChild(this.ACCDiv);\n      }\n      this.ECGDiv = createDiv(\"ECGDiv\", this.visContainerDiv, [\n        \"float-left\",\n        \"almost-full-height\",\n        width_class,\n      ]);\n      this.ECGDiv.addEventListener(\"wheel\", this.onWheelECG);\n      if (this.ACCDiv !== undefined) {\n        this.visContainerDiv.appendChild(this.ACCDiv);\n      }\n      this.ecg_canvas = createCanvas(\"ecg_canvas\", this.ECGDiv);\n\n      this.ecg_chart = new CustomSmoothie(DEFAULT_ECG_LINE_CHART_OPTION);\n      this.ecg_chart.options.millisPerPixel = this.ecg_millis_per_px;\n      this.ecg_ts = new TimeSeries();\n      this.ecg_rms_ts = new TimeSeries();\n      this.ecg_filter_ts = new TimeSeries();\n      // this.ecg_chart.addTimeSeries(this.ecg_ts, ECG_PRESENTATION_OPTIONS);\n      this.ecg_chart.streamTo(this.ecg_canvas, this.ecg_stream_delay);\n\n      // this.ecg_chart.addPostRenderCallback(ECG_legend);\n\n      this.updateECGRMSWinSize();\n      this.updateECGRMSWin();\n\n      this.ecg_resize = resizeSmoothieGen(this.ecg_chart, 1, 1);\n      this.ecg_resize_observer = new ResizeObserver((entries) => {\n        for (let entry of entries) {\n          if (entry.target === this.ECGDiv && this.ecg_resize !== undefined) {\n            this.ecg_resize();\n          }\n        }\n      });\n      this.ecg_resize_observer.observe(this.ECGDiv);\n      this.ecgFilterCoefReset();\n      this.ecg_resize();\n\n      if (this.ECGFormSelect !== undefined) {\n        this.ECGFormSelect.disabled = false;\n        this.ECGFormSelect.selectedIndex = 0;\n      }\n\n      await this.startECG(ECG_SAMPLE_RATE_HZ);\n      this.changeECGGraph({ target: { selectedIndex: 0 } });\n    } else {\n      // Stop ECG\n      if (\n        this.ECGDiv !== undefined &&\n        this.ecg_canvas !== undefined &&\n        this.ecg_chart !== undefined\n      ) {\n        this.ecg_chart.stop();\n        if (this.ECGFormSelect !== undefined) {\n          this.ECGFormSelect.disabled = true;\n          this.ECGFormSelect.selectedIndex = 0;\n        }\n        if (this.ECGDiv.contains(this.ecg_canvas)) {\n          this.ACCDiv?.classList.remove(\"half-width\");\n          this.ACCDiv?.classList.add(\"full-width\");\n          await this.stopECG();\n          this.visContainerDiv.removeChild(this.ECGDiv);\n          this.ecg_resize_observer?.disconnect();\n          this.polarH10.removeEventListener(\"ECG\", this.newECGCallback);\n          this.resetECG();\n        }\n      }\n    }\n    if (this.ACCSwitchInput) {\n      this.ACCSwitchInput.disabled = false;\n    }\n    this.enableAllOtherSameSwitch();\n    updateDisconnectBtn();\n    updateRecordBtn();\n  };\n\n  onToggleACC = async (ev: any) => {\n    this.disableAllOtherSameSwitch();\n    if (this.ECGSwitchInput) {\n      this.ECGSwitchInput.disabled = true;\n    }\n    if (ev.target?.checked) {\n      this.initACCLowpassFilterSettings();\n      this.initACCFilterSettings();\n      let width_class: string;\n      if (this.ECGDiv === undefined) {\n        width_class = \"full-width\";\n      } else {\n        width_class = \"half-width\";\n        this.ECGDiv.classList.remove(\"full-width\");\n        this.ECGDiv.classList.add(\"half-width\");\n      }\n      this.ACCDiv = createDiv(\"ACCDiv\", this.visContainerDiv, [\n        \"float-left\",\n        \"almost-full-height\",\n        width_class,\n      ]);\n\n      this.ACCDiv.addEventListener(\"wheel\", this.onWheelACC);\n\n      this.acc_canvas = createCanvas(\"acc_canvas\", this.ACCDiv);\n\n      this.acc_chart = new CustomSmoothie(DEFAULT_ACC_LINE_CHART_OPTION);\n      this.acc_chart.options.millisPerPixel = this.acc_millis_per_px;\n\n      this.acc_x_ts = new TimeSeries();\n      this.acc_y_ts = new TimeSeries();\n      this.acc_z_ts = new TimeSeries();\n      this.acc_mag_ts = new TimeSeries();\n\n      this.acc_x_lp_ts = new TimeSeries();\n      this.acc_y_lp_ts = new TimeSeries();\n      this.acc_z_lp_ts = new TimeSeries();\n      this.acc_mag_lp_ts = new TimeSeries();\n\n      this.acc_rho_ts = new TimeSeries();\n      this.acc_phi_ts = new TimeSeries();\n      this.acc_theta_ts = new TimeSeries();\n\n      this.acc_x_filter_ts = new TimeSeries();\n      this.acc_y_filter_ts = new TimeSeries();\n      this.acc_z_filter_ts = new TimeSeries();\n      this.acc_mag_filter_ts = new TimeSeries();\n\n      this.acc_chart.streamTo(this.acc_canvas, this.acc_stream_delay);\n\n      this.acc_resize = resizeSmoothieGen(this.acc_chart, 1, 1);\n      this.acc_resize_observer = new ResizeObserver((entries) => {\n        for (let entry of entries) {\n          if (entry.target === this.ACCDiv && this.acc_resize !== undefined) {\n            this.acc_resize();\n          }\n        }\n      });\n      this.acc_resize_observer.observe(this.ACCDiv);\n      this.acc_lp_iir_coef = IIRCalc[this.acc_lp_info.type](this.acc_lp_info);\n\n      this.acc_x_lp_iir = IirFilter(this.acc_lp_iir_coef);\n      this.acc_y_lp_iir = IirFilter(this.acc_lp_iir_coef);\n      this.acc_z_lp_iir = IirFilter(this.acc_lp_iir_coef);\n      this.acc_mag_lp_iir = IirFilter(this.acc_lp_iir_coef);\n\n      this.acc_filter_iir_coef = IIRCalc[this.acc_filter_info.type](\n        this.acc_filter_info,\n      );\n\n      this.acc_x_filter_iir = IirFilter(this.acc_filter_iir_coef);\n      this.acc_y_filter_iir = IirFilter(this.acc_filter_iir_coef);\n      this.acc_z_filter_iir = IirFilter(this.acc_filter_iir_coef);\n      this.acc_mag_filter_iir = IirFilter(this.acc_filter_iir_coef);\n\n      this.acc_resize();\n\n      if (this.ACCFormSelect !== undefined) {\n        this.ACCFormSelect.disabled = false;\n        this.ACCFormSelect.selectedIndex = 0;\n      }\n\n      await this.startACC(this.acc_range_g, this.acc_sample_rate_hz);\n      this.changeACCGraph({ target: { selectedIndex: 0 } });\n      this.show3DBtn.disabled = false;\n    } else {\n      this.show3DBtn.disabled = true;\n      if (\n        this.ACCDiv !== undefined &&\n        this.acc_canvas !== undefined &&\n        this.acc_chart !== undefined\n      ) {\n        this.acc_chart.stop();\n        if (this.ACCFormSelect !== undefined) {\n          this.ACCFormSelect.disabled = true;\n          this.ACCFormSelect.selectedIndex = 0;\n        }\n        if (this.ACCDiv.contains(this.acc_canvas)) {\n          this.ACCDiv.removeChild(this.acc_canvas);\n        }\n        this.ECGDiv?.classList.remove(\"half-width\");\n        this.ECGDiv?.classList.add(\"full-width\");\n        this.polarH10.removeEventListener(\"ACC\", this.newACCCallback);\n        this.visContainerDiv.removeChild(this.ACCDiv);\n        this.acc_resize_observer?.disconnect();\n        await this.stopAcc();\n\n        this.resetACC();\n      }\n    }\n    if (this.ECGSwitchInput) {\n      this.ECGSwitchInput.disabled = false;\n    }\n    this.enableAllOtherSameSwitch();\n    updateDisconnectBtn();\n    updateRecordBtn();\n  };\n\n  private removeSelf() {\n    if (this.parent.contains(this.polarSensorDiv)) {\n      this.parent.removeChild(this.polarSensorDiv);\n    }\n    const myInd = PolarVisRow.polarVisRows.indexOf(this);\n    if (myInd > -1) {\n      PolarVisRow.polarVisRows.splice(myInd, 1);\n      if (PolarVisRow.polarVisRows.length > 0) {\n        if (myInd === PolarVisRow.polarVisRows.length) {\n          PolarVisRow.polarVisRows[myInd - 1].orderDownBtn.disabled = true;\n        } else if (myInd === 0) {\n          PolarVisRow.polarVisRows[0].orderUpBtn.disabled = true;\n        }\n        PolarVisRow.reOrderRows();\n      }\n    }\n  }\n  private static reOrderRows() {\n    for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n      const row = PolarVisRow.polarVisRows[i];\n      row.order = i;\n      row.polarSensorDiv.style.order = i.toString();\n    }\n  }\n\n  private async initPolarH10() {\n    this.polarSensorDiv = createDiv(`polarSensorDiv`, this.parent, [\n      \"polar-sensor-row\",\n      \"flexbox\",\n    ]);\n    this.optionDiv = createDiv(`optionDiv`, this.polarSensorDiv, [\n      \"polar-sensor-left-panel\",\n      \"center\",\n    ]);\n    this.order = PolarVisRow.polarVisRows.length;\n    this.polarSensorDiv.style.order = this.order.toString();\n\n    this.nameDiv = createDiv(\n      `device-name-batt`,\n      this.optionDiv,\n      [\"center\", \"flexbox\"],\n      `Conneting ${this.deviceName}...`,\n    );\n    this.loadingDiv = createDiv(\"ConnectLoading\", this.optionDiv, [\n      \"loading\",\n      \"loading-lg\",\n      \"full-width\",\n      \"flexbox\",\n    ]);\n    await this.initPolarH10IfUnique();\n  }\n\n  includesDuplicate(\n    key: string = \"device\",\n    conditionCallback: ConditionChecker | undefined = undefined,\n  ): number {\n    let duplicateInd = -1;\n    if (conditionCallback !== undefined) {\n      for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n        let row = PolarVisRow.polarVisRows[i];\n        if (row !== this && row[key] === this[key] && conditionCallback(row)) {\n          duplicateInd = i;\n          break;\n        }\n      }\n    } else {\n      for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n        let row = PolarVisRow.polarVisRows[i];\n        if (row !== this && row[key] === this[key]) {\n          duplicateInd = i;\n          break;\n        }\n      }\n    }\n\n    return duplicateInd;\n  }\n\n  static includesDuplicate(\n    self: PolarVisRow,\n    key: string = \"device\",\n    conditionCallback: ConditionChecker | undefined = undefined,\n  ): number {\n    let duplicateInd = -1;\n    if (conditionCallback !== undefined) {\n      for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n        let row = PolarVisRow.polarVisRows[i];\n        if (row !== self && row[key] === self[key] && conditionCallback(row)) {\n          duplicateInd = i;\n          break;\n        }\n      }\n    } else {\n      for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n        let row = PolarVisRow.polarVisRows[i];\n        if (row !== self && row[key] === self[key]) {\n          duplicateInd = i;\n          break;\n        }\n      }\n    }\n\n    return duplicateInd;\n  }\n\n  disconnectPolarH10IfAlone() {\n    if (this.includesDuplicate(\"device\") === -1) {\n      this.device.gatt?.disconnect();\n      // if (PolarH10Row)\n      updateRecordBtn();\n      updateDisconnectBtn();\n    }\n  }\n\n  async initPolarH10IfUnique() {\n    const duplicateInd = this.includesDuplicate(\"device\");\n    if (duplicateInd < 0) {\n      try {\n        this.polarH10 = new PolarH10(this.device);\n        await this.polarH10.init();\n        const acc_settings = await this.polarH10.getSensorSettingsFromId(\n          PolarSensorType.ACC,\n        );\n      } catch (err) {\n        console.log(err);\n        throw new Error(\"polarH10 device initialization failed!\");\n      }\n    } else {\n      this.polarH10 = PolarVisRow.polarVisRows[duplicateInd].polarH10;\n    }\n  }\n\n  resetECG() {\n    this.ecg_canvas = undefined;\n    this.ECGDiv = undefined;\n    this.ecg_resize = undefined;\n    this.ecg_mss_win = undefined;\n    this.ecg_chart = undefined;\n    this.ecg_ts = undefined;\n    this.ecg_filter_ts = undefined;\n    this.ecg_rms_ts = undefined;\n    this.ecg_resize_observer = undefined;\n    this.ecg_filter_iir_coef = undefined;\n    this.ecg_filter_iir = undefined;\n    this.ecg_mss_win_i = 0;\n    this.ecg_mss = 0;\n    // this.configureECGGraph = undefined;\n  }\n\n  resetACC() {\n    this.ACCDiv = undefined;\n    this.acc_resize = undefined;\n    this.acc_canvas = undefined;\n    this.acc_chart = undefined;\n    this.acc_x_ts = undefined;\n    this.acc_y_ts = undefined;\n    this.acc_z_ts = undefined;\n    this.acc_resize_observer = undefined;\n    this.acc_lp_iir_coef = undefined;\n    this.acc_filter_iir_coef = undefined;\n    this.acc_x_lp_iir = undefined;\n    this.acc_y_lp_iir = undefined;\n    this.acc_z_lp_iir = undefined;\n    this.acc_mag_lp_iir = undefined;\n    this.acc_x_lp_ts = undefined;\n    this.acc_y_lp_ts = undefined;\n    this.acc_z_lp_ts = undefined;\n    this.acc_rho_ts = undefined;\n    this.acc_phi_ts = undefined;\n    this.acc_theta_ts = undefined;\n    this.acc_mag_ts = undefined;\n    // this.configureACCGraph = undefined;\n  }\n\n  onBodypartSelect = (ev: any) => {\n    const selectedInd = ev.target.selectedIndex;\n    let url_need_update = false;\n    for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n      const row = PolarVisRow.polarVisRows[i];\n      if (row.polarH10 === this.polarH10) {\n        row.bodypartSelect.selectedIndex = selectedInd;\n        row.customBodyPartSpan?.classList.add(\"hide\");\n        row.bodypartSelect?.classList.remove(\"hide\");\n        if (row.customBodyPart !== BODY_PARTS[selectedInd]) {\n          row.customBodyPartInput.value = \"\";\n        }\n\n        if (row.bodypartSelect.selectedIndex > 0) {\n          if (row.deviceName in url_config) {\n            if (\n              url_config[row.deviceName] !== row.bodypartSelect.selectedIndex\n            ) {\n              url_config[row.deviceName] = row.bodypartSelect.selectedIndex;\n              url_need_update = true;\n            }\n          } else {\n            url_config[row.deviceName] = row.bodypartSelect.selectedIndex;\n            url_need_update = true;\n          }\n        }\n\n        if (selectedInd === HEART_INDEX) {\n          if (\n            row.heartbeat_bpm_info === undefined &&\n            row.heart_rate_var_rms_info === undefined\n          ) {\n            row.heartbeat_bpm_info = new SmoothieTSInfo(\n              undefined,\n              undefined,\n              \"HR:   (bpm)\",\n              \"left\",\n              2,\n              30,\n              true,\n              \"top\",\n              \"bold 20px 'Roboto Mono'\",\n              \"#fb4f4f\",\n            );\n            row.heart_rate_var_rms_info = new SmoothieTSInfo(\n              undefined,\n              undefined,\n              \"HRV:     (s)\",\n              \"left\",\n              2,\n              60,\n              true,\n              \"top\",\n              \"bold 20px 'Roboto Mono'\",\n              \"#4ffbfb\",\n            );\n            row.polarH10.addHeartRateEventListener(row.updateHRLabel);\n            row.addHeartInfo();\n          }\n        } else if (selectedInd !== HEART_INDEX) {\n          row.polarH10.removeHeartRateEventListener(row.updateHRLabel);\n          row.removeheartInfo();\n        }\n      }\n      if (PolarVisRow.is_recording) {\n        PolarVisRow.createNewRecordEntry(row);\n      }\n    }\n    if (url_need_update) {\n      updateSearchURL(url_config);\n    }\n  };\n\n  updateHRLabel = (hr_info: HeartRateInfo) => {\n    const new_hr_text = `HR:${hr_info.heart_rate_bpm.toString().padStart(3, \" \")}(bpm)`;\n    if (this.heartbeat_bpm_info !== undefined) {\n      this.heartbeat_bpm_info.text = new_hr_text;\n    }\n    for (let rr of hr_info.rr_intervals_ms) {\n      rr /= 1e3;\n      this.rr_list.push(rr);\n      this.rr_sum += rr;\n\n      const rr_s = rr * rr;\n      this.rr_s_list.push(rr_s);\n      this.rr_ss += rr_s;\n\n      if (this.rr_list.length > 0 && this.rr_s_list.length > 0) {\n        while (this.rr_sum > this.hrv_win_ms) {\n          this.rr_sum -= this.rr_list.shift() as number;\n          this.rr_ss -= this.rr_s_list.shift() as number;\n        }\n      }\n    }\n    const hrv_rms = Math.sqrt(this.rr_ss / this.rr_s_list.length);\n    const new_hrv_text = `HRV:${hrv_rms.toFixed(2).padStart(5, \" \")}(s)`;\n    if (this.heart_rate_var_rms_info !== undefined) {\n      this.heart_rate_var_rms_info.text = new_hrv_text;\n    }\n  };\n\n  onCustomBodyPart = (ev: any) => {\n    const customBodyPartStr = ev.target.value;\n    let url_need_update = false;\n    if (customBodyPartStr.length === 0) {\n      for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n        const row = PolarVisRow.polarVisRows[i];\n        if (row.polarH10 === this.polarH10) {\n          row.customBodyPartSpan?.classList.add(\"hide\");\n          row.bodypartSelect?.classList.remove(\"hide\");\n          row.onBodypartSelect({\n            target: {\n              selectedIndex: 0,\n            },\n          });\n        }\n      }\n    } else {\n      const body_part_ind = BODY_PARTS.indexOf(customBodyPartStr);\n      for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n        const row = PolarVisRow.polarVisRows[i];\n        if (row.polarH10 === this.polarH10) {\n          if (body_part_ind > -1) {\n            row.customBodyPartSpan?.classList.add(\"hide\");\n            row.bodypartSelect?.classList.remove(\"hide\");\n            row.customBodyPart = customBodyPartStr;\n            row.onBodypartSelect({\n              target: {\n                selectedIndex: body_part_ind,\n              },\n            });\n          } else {\n            row.customBodyPartSpan?.classList.remove(\"hide\");\n            row.bodypartSelect?.classList.add(\"hide\");\n            if (row.customBodyPartSpan !== undefined) {\n              row.customBodyPartSpan.textContent = customBodyPartStr;\n              row.customBodyPartInput.value = customBodyPartStr;\n              if (row.deviceName in url_config) {\n                if (url_config[row.deviceName] !== customBodyPartStr) {\n                  url_config[row.deviceName] = customBodyPartStr;\n                  url_need_update = true;\n                }\n              } else {\n                url_config[row.deviceName] = customBodyPartStr;\n                url_need_update = true;\n              }\n            }\n          }\n        }\n      }\n    }\n    if (url_need_update) {\n      updateSearchURL(url_config);\n    }\n  };\n\n  private updateBatteryInfo = async (batt_lvl: number) => {\n    let battStr: string;\n    if (batt_lvl > LOW_BATT_LVL) {\n      battStr = `\uD83D\uDD0B${batt_lvl}%`;\n    } else {\n      battStr = `\uD83E\uDEAB${batt_lvl}%`;\n    }\n    if (this.battLvlDiv !== undefined) {\n      this.battLvlDiv.textContent = battStr;\n    }\n\n    for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n      const row = PolarVisRow.polarVisRows[i];\n      if (row.polarH10 === this.polarH10) {\n        if (row.battLvlDiv !== undefined) {\n          row.battLvlDiv.textContent = battStr;\n        }\n      }\n    }\n  };\n\n  private async initDeviceInfo() {\n    this.deviceInfoDiv = createDiv(\"deviceInfoDiv\", this.optionDiv, [\n      \"device-info\",\n    ]);\n\n    this.disconnectDiv = createDiv(\"disconnectDiv\", undefined, [\n      \"flexbox\",\n      \"disconnect\",\n    ]);\n\n    this.disBtn = createButtonIcon(\n      \"delete\",\n      \"distBtn\",\n      this.disconnectDiv,\n      false,\n      this.disconnectPolarH10,\n      [\"btn\", \"btn-primary\", \"btn-sm\", \"s-circle\"],\n    );\n\n    addTooltip(this.disBtn, \"disconnect\", \"top\");\n\n    this.polarH10.battLvl = await this.polarH10.getBatteryLevel();\n    this.optionDiv.removeChild(this.loadingDiv);\n    this.optionDiv.removeChild(this.nameDiv);\n    this.optionDiv.classList.remove(\"center\");\n\n    this.nameDiv.textContent = \"\";\n    this.nameDiv.classList.add(\"flex\");\n    this.deviceNameDiv = createDiv(\n      \"devicename\",\n      this.nameDiv,\n      [\"flexbox\"],\n      this.deviceName,\n    );\n\n    let battStr: string;\n    if (this.polarH10.battLvl > LOW_BATT_LVL) {\n      battStr = `\uD83D\uDD0B${this.polarH10.battLvl}%`;\n    } else {\n      battStr = `\uD83E\uDEAB${this.polarH10.battLvl}%`;\n    }\n    this.battLvlDiv = createDiv(\n      \"battLvl\",\n      this.nameDiv,\n      [\"flexbox\", \"small-mid-text\"],\n      battStr,\n    );\n    this.nameDiv.classList.add(\"flexbox\");\n    this.deviceInfoDiv.appendChild(this.disconnectDiv);\n    this.deviceInfoDiv.appendChild(this.nameDiv);\n    this.optionDiv.appendChild(this.deviceInfoDiv);\n\n    this.dataInfo = createDiv(\"dataInfo\", this.deviceInfoDiv, [\"data-info\"]);\n\n    this.extraDataCtrl = createDiv(\"extraDataCtrl\", this.optionDiv, [\n      \"extra-data-ctrl\",\n      \"center\",\n    ]);\n\n    this.filterConfigBtn = createButtonIcon(\n      \"settings\",\n      \"filterConfigBtn\",\n      this.extraDataCtrl,\n      true,\n      this.toggleVisConfig,\n      [\"btn\", \"btn-sm\"],\n    );\n    if (this.showVisConfig) {\n      this.filterConfigBtn.classList.add(\"btn-primary\");\n    }\n    addTooltip(this.filterConfigBtn, \"settings, work-in-progress\", \"left\");\n\n    this.show3DBtn = createButtonIcon(\n      \"view_in_ar\",\n      \"show3DBtn\",\n      this.extraDataCtrl,\n      true,\n      undefined,\n      [\"btn\", \"btn-sm\"],\n    );\n    this.show3DBtn.disabled = true;\n    addTooltip(this.show3DBtn, \"3D Tilt, work-in-progress\", \"left\");\n\n    this.rowOrder = createDiv(\"rowOrder\", this.optionDiv, [\"row-order\"]);\n\n    this.orderUpBtn = createButtonIcon(\n      \"arrow-up\",\n      \"orderUpBtn\",\n      this.rowOrder,\n      false,\n      this.moveUp,\n      [\"btn\", \"btn-primary\", \"btn-sm\"],\n    );\n    addTooltip(this.orderUpBtn, \"Move up\", \"right\");\n\n    this.orderUpBtn.disabled = PolarVisRow.polarVisRows.length < 1;\n    addTooltip(this.orderUpBtn, \"Move up\", \"right\");\n\n    this.orderDownBtn = createButtonIcon(\n      \"arrow-down\",\n      \"orderDownBtn\",\n      this.rowOrder,\n      false,\n      this.moveDown,\n      [\"btn\", \"btn-primary\", \"btn-sm\"],\n    );\n    addTooltip(this.orderDownBtn, \"Move down\", \"right\");\n\n    this.orderDownBtn.disabled = true;\n\n    if (PolarVisRow.polarVisRows.length > 0) {\n      PolarVisRow.polarVisRows[\n        PolarVisRow.polarVisRows.length - 1\n      ].orderDownBtn.disabled = false;\n    }\n\n    this.bodypartLabel = createDiv(\n      \"bodypartLabel\",\n      this.dataInfo,\n      [\"bodypart-text\"],\n      \"Bodypart:\",\n    );\n\n    this.bodypartSelectDiv = createDiv(\"bodypartSelectDiv\", this.dataInfo, [\n      \"bodypart-select\",\n    ]);\n\n    this.bodypartSelect = createSelect(\n      \"bodypartSelect\",\n      this.bodypartSelectDiv,\n      [\"form-select\", \"dark-input\", \"select-sm\", \"almost-full-width\"],\n      \"\",\n      BODY_PARTS,\n      undefined,\n      getPolarRowId,\n    );\n    this.bodypartSelect.addEventListener(\"change\", this.onBodypartSelect);\n\n    this.customBodyPartSpan = createSpan(\n      \"customBodyPartSpan\",\n      this.bodypartSelectDiv,\n      [\"hide\", \"hide-overflow\"],\n      this.customBodyPart,\n    );\n\n    this.dataCtrl = createDiv(\"dataCtrl\", this.optionDiv, [\"data-ctrl\"]);\n\n    this.visContainerDiv = createDiv(\"visContainer\", this.polarSensorDiv, [\n      \"visContainer\",\n    ]);\n\n    this.visConfigDiv = createDiv(\"visConfigDiv\", this.polarSensorDiv, [\n      \"visContainer\",\n    ]);\n\n    if (this.showVisConfig) {\n      this.visContainerDiv.classList.add(\"hide\");\n    } else {\n      this.visConfigDiv.classList.add(\"hide\");\n    }\n    this.initVisConfigDiv();\n  }\n\n  onECGStreamDelayChange = (ev: any) => {\n    if (ev.target.valueAsNumber < ECG_STREAM_DELAY_MIN_MS) {\n      ev.target.valueAsNumber = ECG_STREAM_DELAY_MIN_MS;\n      ev.target.value = ECG_STREAM_DELAY_MIN_MS.toString();\n    } else if (ev.target.valueAsNumber > ECG_STREAM_DELAY_MAX_MS) {\n      ev.target.valueAsNumber = ECG_STREAM_DELAY_MAX_MS;\n      ev.target.value = ECG_STREAM_DELAY_MAX_MS.toString();\n    }\n    this.ecg_stream_delay = ev.target.valueAsNumber;\n    if (this.ECGStreamDelayInput !== undefined) {\n      this.ECGStreamDelayInput.value = ev.target.value;\n    }\n    if (this.ecg_chart !== undefined) {\n      if (\"delay\" in this.ecg_chart) {\n        this.ecg_chart.stop();\n        this.ecg_chart.delay = this.ecg_stream_delay;\n        this.ecg_chart.start();\n      }\n    }\n  };\n\n  onECGRMSWinInput = (ev: any) => {\n    let rms_input = parseFloat(ev.target.value);\n    if (rms_input < ECG_RMS_WIN_MIN_MS) {\n      rms_input = ECG_RMS_WIN_MIN_MS;\n    }\n    if (rms_input > ECG_RMS_WIN_MAX_MS) {\n      rms_input = ECG_RMS_WIN_MAX_MS;\n    }\n    this.ecg_rms_window_ms = rms_input;\n    this.updateECGRMSWinSize();\n    this.updateECGRMSWin();\n    this.ecgFilterSelectGraphRestart();\n  };\n\n  onACCStreamDelayChange = (ev: any) => {\n    if (ev.target.valueAsNumber < ACC_STREAM_DELAY_MIN_MS) {\n      ev.target.valueAsNumber = ACC_STREAM_DELAY_MIN_MS;\n      ev.target.value = ACC_STREAM_DELAY_MIN_MS.toString();\n    } else if (ev.target.valueAsNumber > ACC_STREAM_DELAY_MAX_MS) {\n      ev.target.valueAsNumber = ACC_STREAM_DELAY_MAX_MS;\n      ev.target.value = ACC_STREAM_DELAY_MAX_MS.toString();\n    }\n    this.acc_stream_delay = ev.target.valueAsNumber;\n    if (this.ACCStreamDelayInput !== undefined) {\n      this.ACCStreamDelayInput.value = ev.target.value;\n    }\n    if (this.acc_chart !== undefined) {\n      if (\"delay\" in this.acc_chart) {\n        this.acc_chart.stop();\n        this.acc_chart.delay = this.acc_stream_delay;\n        this.acc_chart.start();\n      }\n    }\n  };\n\n  onECGMPPChange = (ev: any) => {\n    if (ev.target.valueAsNumber < ECG_MS_PER_PX_MIN) {\n      ev.target.valueAsNumber = ECG_MS_PER_PX_MIN;\n      ev.target.value = ECG_MS_PER_PX_MIN.toString();\n    } else if (ev.target.valueAsNumber > ECG_MS_PER_PX_MAX) {\n      ev.target.valueAsNumber = ECG_MS_PER_PX_MAX;\n      ev.target.value = ECG_MS_PER_PX_MAX.toString();\n    }\n    this.ecg_millis_per_px = ev.target.valueAsNumber;\n    if (this.ECGstreamMPPInput !== undefined) {\n      this.ECGstreamMPPInput.value = ev.target.value;\n    }\n    if (this.ecg_chart !== undefined) {\n      this.ecg_chart.stop();\n      this.ecg_chart.options.millisPerPixel = this.ecg_millis_per_px;\n      this.ecg_chart.start();\n    }\n  };\n\n  onACCMPPChange = (ev: any) => {\n    if (ev.target.valueAsNumber < ACC_MS_PER_PX_MIN) {\n      ev.target.valueAsNumber = ACC_MS_PER_PX_MIN;\n      ev.target.value = ACC_MS_PER_PX_MIN.toString();\n    } else if (ev.target.valueAsNumber > ACC_MS_PER_PX_MAX) {\n      ev.target.valueAsNumber = ACC_MS_PER_PX_MAX;\n      ev.target.value = ACC_MS_PER_PX_MAX.toString();\n    }\n    this.acc_millis_per_px = ev.target.valueAsNumber;\n    if (this.ACCstreamMPPInput !== undefined) {\n      this.ACCstreamMPPInput.value = ev.target.value;\n    }\n    if (this.acc_chart !== undefined) {\n      this.acc_chart.stop();\n      this.acc_chart.options.millisPerPixel = this.acc_millis_per_px;\n      this.acc_chart.start();\n    }\n  };\n\n  onACCRangeSelect = async (ev: any) => {\n    const selectedInd = ev.target.selectedIndex;\n    const ACCRange = ACC_RANGE_OPTIONS[selectedInd];\n    for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n      const row = PolarVisRow.polarVisRows[i];\n      if (row.polarH10 === this.polarH10) {\n        if (row.ACCRangeSelect !== undefined) {\n          row.ACCRangeSelect.selectedIndex = selectedInd;\n        }\n        row.acc_range_g = ACCRange;\n        row.initACCLowpassFilterSettings();\n        row.initACCFilterSettings();\n      }\n    }\n    await this.restartAllACC();\n  };\n\n  onACCSampleRateSelect = async (ev: any) => {\n    const selectedInd = ev.target.selectedIndex;\n    const ACCSampleRate = ACC_SAMPLE_RATE_OPTIONS[selectedInd];\n\n    for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n      const row = PolarVisRow.polarVisRows[i];\n      if (row.polarH10 === this.polarH10) {\n        if (row.ACCSampleRateSelect !== undefined) {\n          row.ACCSampleRateSelect.selectedIndex = selectedInd;\n        }\n        row.acc_sample_rate_hz = ACCSampleRate;\n        row.initACCLowpassFilterSettings();\n        row.initACCFilterSettings();\n      }\n    }\n    await this.restartAllACC();\n  };\n\n  onECGFilterType = (ev: any) => {\n    const selectedInd = ev.target.selectedIndex;\n    if (selectedInd === 2) {\n      this.ecg_filter_info.Fl = ECG_BANDPASS_LOW_CUT_HZ;\n      this.ecg_filter_info.Fh = ECG_BANDPASS_HIGH_CUT_HZ;\n      this.ecg_filter_info.BW =\n        ECG_BANDPASS_HIGH_CUT_HZ - ECG_BANDPASS_LOW_CUT_HZ;\n      this.ecg_filter_info.Fc = Math.sqrt(\n        ECG_BANDPASS_LOW_CUT_HZ * ECG_BANDPASS_HIGH_CUT_HZ,\n      );\n      if (this.ECGFilterLowCutInput !== undefined) {\n        this.ECGFilterLowCutInput.value = ECG_BANDPASS_LOW_CUT_HZ.toString();\n      }\n      if (this.ECGFilterHighCutInput !== undefined) {\n        this.ECGFilterHighCutInput.value = ECG_BANDPASS_HIGH_CUT_HZ.toString();\n      }\n    } else {\n      this.ecg_filter_info.Fc = ECG_HIGHLOWPASS_CUTOFF_HZ;\n      if (this.ECGFilterCutoffInput !== undefined) {\n        this.ECGFilterCutoffInput.value = ECG_HIGHLOWPASS_CUTOFF_HZ.toString();\n      }\n    }\n    if (this.ECGFilterCutoffInput !== undefined) {\n      if (selectedInd === 2) {\n        this.ECGFilterCutoffInput.classList.add(\"hide\");\n      } else {\n        this.ECGFilterCutoffInput.classList.remove(\"hide\");\n      }\n    }\n    if (this.ECGFilterLowCutInput !== undefined) {\n      if (selectedInd === 2) {\n        this.ECGFilterLowCutInput.classList.remove(\"hide\");\n      } else {\n        this.ECGFilterLowCutInput.classList.add(\"hide\");\n      }\n    }\n    if (this.ECGFilterHighCutInput !== undefined) {\n      if (selectedInd === 2) {\n        this.ECGFilterHighCutInput.classList.remove(\"hide\");\n      } else {\n        this.ECGFilterHighCutInput.classList.add(\"hide\");\n      }\n    }\n    const ECGFilterType = FILTER_TYPES[selectedInd];\n    this.ecg_filter_info.type = ECGFilterType;\n    this.ecgFilterSelectGraphRestart();\n  };\n\n  onACCFilterType = (ev: any) => {\n    const selectedInd = ev.target.selectedIndex;\n    if (selectedInd === 2) {\n      this.acc_filter_info.Fl = AAC_FILTER_BANDPASS_LOW_CUT_HZ;\n      this.acc_filter_info.Fh = AAC_FILTER_BANDPASS_HIGH_CUT_HZ;\n      this.acc_filter_info.BW =\n        AAC_FILTER_BANDPASS_HIGH_CUT_HZ - AAC_FILTER_BANDPASS_LOW_CUT_HZ;\n      this.acc_filter_info.Fc = Math.sqrt(\n        AAC_FILTER_BANDPASS_LOW_CUT_HZ * AAC_FILTER_BANDPASS_HIGH_CUT_HZ,\n      );\n      if (this.ACCFilterLowCutInput !== undefined) {\n        this.ACCFilterLowCutInput.value =\n          AAC_FILTER_BANDPASS_LOW_CUT_HZ.toString();\n      }\n      if (this.ACCFilterHighCutInput !== undefined) {\n        this.ACCFilterHighCutInput.value =\n          AAC_FILTER_BANDPASS_HIGH_CUT_HZ.toString();\n      }\n    } else {\n      this.acc_filter_info.Fc = AAC_FILTER_BANDPASS_HIGH_CUT_HZ;\n      if (this.ACCFilterCutoffInput !== undefined) {\n        this.ACCFilterCutoffInput.value =\n          AAC_FILTER_BANDPASS_HIGH_CUT_HZ.toString();\n      }\n    }\n    if (this.ACCFilterCutoffInput !== undefined) {\n      if (selectedInd === 2) {\n        this.ACCFilterCutoffInput.classList.add(\"hide\");\n      } else {\n        this.ACCFilterCutoffInput.classList.remove(\"hide\");\n      }\n    }\n    if (this.ACCFilterLowCutInput !== undefined) {\n      if (selectedInd === 2) {\n        this.ACCFilterLowCutInput.classList.remove(\"hide\");\n      } else {\n        this.ACCFilterLowCutInput.classList.add(\"hide\");\n      }\n    }\n    if (this.ACCFilterHighCutInput !== undefined) {\n      if (selectedInd === 2) {\n        this.ACCFilterHighCutInput.classList.remove(\"hide\");\n      } else {\n        this.ACCFilterHighCutInput.classList.add(\"hide\");\n      }\n    }\n    const ACCFilterType = FILTER_TYPES[selectedInd];\n    this.acc_filter_info.type = ACCFilterType;\n    this.accFilterSelectGraphRestart(3);\n  };\n\n  onECGFilterOrder = (ev: any) => {\n    let newOrder = parseInt(ev.target.value);\n    if (newOrder < 1) {\n      newOrder = 1;\n    }\n    if (newOrder > 12) {\n      newOrder = 12;\n    }\n    this.ecg_filter_info.order = newOrder as FilterInfo[\"order\"];\n    this.ecgFilterSelectGraphRestart();\n  };\n\n  onACCFilterOrder = (ev: any) => {\n    let newOrder = parseInt(ev.target.value);\n    if (newOrder < 1) {\n      newOrder = 1;\n    }\n    if (newOrder > 12) {\n      newOrder = 12;\n    }\n    this.acc_filter_info.order = newOrder as FilterInfo[\"order\"];\n    this.accFilterSelectGraphRestart(3);\n  };\n\n  onACCLPOrder = (ev: any) => {\n    let newOrder = parseInt(ev.target.value);\n    if (newOrder < 1) {\n      newOrder = 1;\n    }\n    if (newOrder > 12) {\n      newOrder = 12;\n    }\n    this.acc_lp_info.order = newOrder as FilterInfo[\"order\"];\n    this.accFilterSelectGraphRestart(1);\n  };\n\n  onECGFilterChar = (ev: any) => {\n    const selectedInd = ev.target.selectedIndex;\n    const ECGFilterChar = FILTER_CHARACTERISTICS[selectedInd];\n    this.ecg_filter_info.characteristic = ECGFilterChar;\n    this.ecgFilterSelectGraphRestart();\n  };\n\n  onACCFilterChar = (ev: any) => {\n    const selectedInd = ev.target.selectedIndex;\n    const ACCFilterChar = FILTER_CHARACTERISTICS[selectedInd];\n    this.acc_filter_info.characteristic = ACCFilterChar;\n    this.accFilterSelectGraphRestart(3);\n  };\n\n  onACCLPChar = (ev: any) => {\n    const selectedInd = ev.target.selectedIndex;\n    const ACCLPChar = FILTER_CHARACTERISTICS[selectedInd];\n    this.acc_lp_info.characteristic = ACCLPChar;\n    this.accFilterSelectGraphRestart(1);\n  };\n\n  onECGFilterCutoff = (ev: any) => {\n    let cutOff = parseFloat(ev.target.value);\n    if (cutOff < ECG_BAND_LOW_MIN_HZ) {\n      cutOff = ECG_BAND_LOW_MIN_HZ;\n    }\n    if (cutOff > ECG_BAND_HIGH_MAX_HZ) {\n      cutOff = ECG_BAND_HIGH_MAX_HZ;\n    }\n    if (this.ECGFilterCutoffInput !== undefined) {\n      this.ECGFilterCutoffInput.value = cutOff.toString();\n    }\n    this.ecg_filter_info.Fc = cutOff;\n    this.ecgFilterSelectGraphRestart();\n  };\n\n  onACCFilterCutoff = (ev: any) => {\n    let cutOff = parseFloat(ev.target.value);\n    if (cutOff < ACC_BAND_LOW_MIN_HZ) {\n      cutOff = ACC_BAND_LOW_MIN_HZ;\n    }\n    if (cutOff > ACC_BAND_HIGH_MAX_HZ) {\n      cutOff = ACC_BAND_HIGH_MAX_HZ;\n    }\n    if (this.ACCFilterCutoffInput !== undefined) {\n      this.ACCFilterCutoffInput.value = cutOff.toString();\n    }\n    this.acc_filter_info.Fc = cutOff;\n    this.accFilterSelectGraphRestart(3);\n  };\n\n  onACCLPCutoff = (ev: any) => {\n    let cutOff = parseFloat(ev.target.value);\n    if (cutOff < ACC_BAND_LOW_MIN_HZ) {\n      cutOff = ACC_BAND_LOW_MIN_HZ;\n    }\n    if (cutOff > ACC_BAND_HIGH_MAX_HZ) {\n      cutOff = ACC_BAND_HIGH_MAX_HZ;\n    }\n    if (this.ACCLPCutoffInput !== undefined) {\n      this.ACCLPCutoffInput.value = cutOff.toString();\n    }\n    this.acc_lp_info.Fc = cutOff;\n    this.accFilterSelectGraphRestart(1);\n  };\n\n  onECGFilterLowCutoff = (ev: any) => {\n    let cutOff = parseFloat(ev.target.value);\n    if (this.ecg_filter_info.Fh !== undefined) {\n      if (cutOff >= this.ecg_filter_info.Fh) {\n        cutOff = this.ecg_filter_info.Fh - ECG_BAND_HIGH_STEP_HZ;\n      }\n    }\n    if (cutOff > ECG_BAND_HIGH_MAX_HZ) {\n      cutOff = ECG_BAND_LOW_MIN_HZ;\n    }\n    if (cutOff < ECG_BAND_LOW_MIN_HZ) {\n      cutOff = ECG_BAND_LOW_MIN_HZ;\n    }\n\n    this.ecg_filter_info.Fl = cutOff;\n    this.updateBandpass(this.ecg_filter_info);\n    if (this.ECGFilterHighCutInput !== undefined) {\n      this.ECGFilterHighCutInput.min = (\n        cutOff + ECG_BAND_HIGH_STEP_HZ\n      ).toString();\n      if (this.ECGFilterLowCutInput !== undefined) {\n        this.ECGFilterLowCutInput.value = cutOff.toString();\n      }\n    }\n    this.ecgFilterSelectGraphRestart();\n  };\n\n  onACCFilterLowCutoff = (ev: any) => {\n    let cutOff = parseFloat(ev.target.value);\n    if (this.acc_filter_info.Fh !== undefined) {\n      if (cutOff >= this.acc_filter_info.Fh) {\n        cutOff = this.acc_filter_info.Fh - ACC_BAND_HIGH_STEP_HZ;\n      }\n    }\n    if (cutOff > ACC_BAND_HIGH_MAX_HZ) {\n      cutOff = ACC_BAND_LOW_MIN_HZ;\n    }\n    if (cutOff < ACC_BAND_LOW_MIN_HZ) {\n      cutOff = ACC_BAND_LOW_MIN_HZ;\n    }\n\n    this.acc_filter_info.Fl = cutOff;\n    this.updateBandpass(this.acc_filter_info);\n    if (this.ACCFilterHighCutInput !== undefined) {\n      this.ACCFilterHighCutInput.min = (\n        cutOff + ACC_BAND_HIGH_STEP_HZ\n      ).toString();\n      if (this.ACCFilterLowCutInput !== undefined) {\n        this.ACCFilterLowCutInput.value = cutOff.toString();\n      }\n    }\n    this.accFilterSelectGraphRestart(3);\n  };\n\n  onECGFilterHighCutoff = (ev: any) => {\n    let cutOff = parseFloat(ev.target.value);\n    if (this.ecg_filter_info.Fl !== undefined) {\n      if (cutOff <= this.ecg_filter_info.Fl) {\n        cutOff = this.ecg_filter_info.Fl + ECG_BAND_HIGH_STEP_HZ;\n      }\n    }\n    if (cutOff > ECG_BAND_HIGH_MAX_HZ) {\n      cutOff = ECG_BAND_LOW_MIN_HZ;\n    }\n    if (cutOff < ECG_BAND_LOW_MIN_HZ) {\n      cutOff = ECG_BAND_LOW_MIN_HZ;\n    }\n\n    this.ecg_filter_info.Fh = cutOff;\n    this.updateBandpass(this.ecg_filter_info);\n    if (this.ECGFilterLowCutInput !== undefined) {\n      this.ECGFilterLowCutInput.max = (\n        cutOff - ECG_BAND_HIGH_STEP_HZ\n      ).toString();\n      if (this.ECGFilterHighCutInput !== undefined) {\n        this.ECGFilterHighCutInput.value = cutOff.toString();\n      }\n    }\n    this.ecgFilterSelectGraphRestart();\n  };\n\n  onACCFilterHighCutoff = (ev: any) => {\n    let cutOff = parseFloat(ev.target.value);\n    if (this.acc_filter_info.Fl !== undefined) {\n      if (cutOff <= this.acc_filter_info.Fl) {\n        cutOff = this.acc_filter_info.Fl + ACC_BAND_HIGH_STEP_HZ;\n      }\n    }\n    if (cutOff > ACC_BAND_HIGH_MAX_HZ) {\n      cutOff = ACC_BAND_LOW_MIN_HZ;\n    }\n    if (cutOff < ACC_BAND_LOW_MIN_HZ) {\n      cutOff = ACC_BAND_LOW_MIN_HZ;\n    }\n\n    this.acc_filter_info.Fh = cutOff;\n    this.updateBandpass(this.acc_filter_info);\n    if (this.ACCFilterLowCutInput !== undefined) {\n      this.ACCFilterLowCutInput.max = (\n        cutOff - ACC_BAND_HIGH_STEP_HZ\n      ).toString();\n      if (this.ACCFilterHighCutInput !== undefined) {\n        this.ACCFilterHighCutInput.value = cutOff.toString();\n      }\n    }\n    this.accFilterSelectGraphRestart(3);\n  };\n\n  ecgFilterSelectGraphRestart() {\n    this.ecgFilterCoefReset();\n    const preSelected = this.ECGFormSelect.selectedIndex;\n    const preDisabled = this.ECGFormSelect.disabled;\n    this.generateECGFormSelect();\n    this.ECGFormSelect.disabled = preDisabled;\n    this.ECGFormSelect.selectedIndex = preSelected;\n    if (preSelected === 1) {\n      this.changeECGGraph({ target: { selectedIndex: preSelected } });\n    }\n  }\n\n  accFilterSelectGraphRestart(target: number = 3) {\n    this.accFilterCoefReset();\n    const preSelected = this.ACCFormSelect.selectedIndex;\n    const preDisabled = this.ACCFormSelect.disabled;\n    this.generateACCFormSelect();\n    this.ACCFormSelect.disabled = preDisabled;\n    this.ACCFormSelect.selectedIndex = preSelected;\n    if (preSelected === target) {\n      this.changeACCGraph({ target: { selectedIndex: preSelected } });\n    }\n  }\n\n  ecgFilterCoefReset() {\n    this.ecg_filter_iir_coef = IIRCalc[this.ecg_filter_info.type](\n      this.ecg_filter_info,\n    );\n    this.ecg_filter_iir = IirFilter(this.ecg_filter_iir_coef);\n  }\n\n  accFilterCoefReset() {\n    this.acc_filter_iir_coef = IIRCalc[this.acc_filter_info.type](\n      this.acc_filter_info,\n    );\n    this.acc_x_filter_iir = IirFilter(this.acc_filter_iir_coef);\n    this.acc_y_filter_iir = IirFilter(this.acc_filter_iir_coef);\n    this.acc_z_filter_iir = IirFilter(this.acc_filter_iir_coef);\n    this.acc_mag_filter_iir = IirFilter(this.acc_filter_iir_coef);\n  }\n\n  async restartAllACC() {\n    const ACCOnRows: PolarVisRow[] = [];\n    for (let i = 0; i < PolarVisRow.polarVisRows.length; i++) {\n      const row = PolarVisRow.polarVisRows[i];\n      if (row.polarH10 === this.polarH10) {\n        if (row.ACCIsOn()) {\n          await row.onToggleACC({ target: { checked: false } });\n          ACCOnRows.push(row);\n        }\n      }\n    }\n    for (let i = 0; i < ACCOnRows.length; i++) {\n      await ACCOnRows[i].onToggleACC({ target: { checked: true } });\n    }\n  }\n\n  private initVisConfigDiv() {\n    this.ECGConfigDiv = createDiv(\"ECGConfigDiv\", this.visConfigDiv, [\n      \"float-left\",\n      \"almost-full-height\",\n      \"config-div\",\n      \"half-width\",\n      \"flexbox\",\n      \"flex-col\",\n    ]);\n\n    const ECGTitleRow = createDiv(\"ECGChartConfigTitleRow\", this.ECGConfigDiv, [\n      \"full-width\",\n      \"flexbox\",\n    ]);\n\n    createDiv(\n      \"ECGChartConfigTitle\",\n      ECGTitleRow,\n      [\"fourty-width\", \"center\", \"bold-text\"],\n      \"EXG Visualization\",\n    );\n\n    const customBodypartInputDiv = createDiv(\n      \"customBodypartInputDiv\",\n      ECGTitleRow,\n      [\"sixty-width\", \"flexbox\"],\n    );\n\n    const customBodypartSpan = createSpan(\n      \"customBodypartSpan\",\n      customBodypartInputDiv,\n      [\"padright-5px\", \"padleft-5px\"],\n      \"Custom Bodypart:\",\n    );\n\n    this.customBodyPartInput = createTextInput(\n      \"customBodyPartInput\",\n      customBodypartInputDiv,\n      [\"dark-input\", \"custom-bodypart-input-width\"],\n    );\n    this.customBodyPartInput.addEventListener(\"input\", this.onCustomBodyPart);\n\n    this.ECGChartConfigDiv = createDiv(\"ECGChartConfigDiv\", this.ECGConfigDiv, [\n      \"full-width\",\n      \"flexbox\",\n    ]);\n\n    const ECGstreamDelayDiv = createDiv(\n      \"ECGChartStreamDelay\",\n      this.ECGChartConfigDiv,\n      [\"full-width\", \"flexbox\"],\n    );\n\n    createSpan(\n      \"ECGStreamDelayLabel\",\n      ECGstreamDelayDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Delay (ms):\",\n    );\n\n    this.ECGStreamDelayInput = createNumInput(\n      \"ECGStreamDelayInput\",\n      ECGstreamDelayDiv,\n      [\"marginright-5px\", \"dark-input\", \"input-width-4_5\"],\n      ECG_STREAM_DELAY_MIN_MS,\n      ECG_STREAM_DELAY_MAX_MS,\n      ECG_STREAM_DELAY_STEP_MS,\n      this.ecg_stream_delay,\n    );\n    this.ECGStreamDelayInput.addEventListener(\n      \"change\",\n      this.onECGStreamDelayChange,\n    );\n\n    createSpan(\n      \"ECGStreamDataWidthLabel\",\n      ECGstreamDelayDiv,\n      [\"padright-5px\"],\n      \"Data width (ms/px):\",\n    );\n\n    this.ECGstreamMPPInput = createNumInput(\n      \"ECGStreamMPPInput\",\n      ECGstreamDelayDiv,\n      [\"marginright-5px\", \"dark-input\", \"input-width-3_5\"],\n      ECG_MS_PER_PX_MIN,\n      ECG_MS_PER_PX_MAX,\n      ECG_MS_PER_PX_STEP,\n      this.ecg_millis_per_px,\n    );\n    this.ECGstreamMPPInput.addEventListener(\"change\", this.onECGMPPChange);\n\n    createSpan(\n      \"ECGSRMSLabel\",\n      ECGstreamDelayDiv,\n      [\"padright-5px\"],\n      \"RMS window (ms): \",\n    );\n\n    this.ECGRMSWinInput = createNumInput(\n      \"ECGRMSWinInput\",\n      ECGstreamDelayDiv,\n      [\"marginright-5px\", \"dark-input\", \"input-width-4_5\"],\n      ECG_RMS_WIN_MIN_MS,\n      ECG_RMS_WIN_MAX_MS,\n      ECG_RMS_WIN_STEP_MS,\n      this.ecg_rms_window_ms,\n    );\n    this.ECGRMSWinInput.addEventListener(\"change\", this.onECGRMSWinInput);\n\n    this.ECGFilterConfigDiv = createDiv(\n      \"ECGFilterConfigDiv\",\n      this.ECGConfigDiv,\n      [\"full-width\", \"flexbox\"],\n    );\n\n    createSpan(\n      \"ECGFilterTypeSpan\",\n      this.ECGFilterConfigDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Filter Type:\",\n    );\n    this.ECGFilterTypesSelect = createSelect(\n      \"ECGFilterTypesSelect\",\n      this.ECGFilterConfigDiv,\n      [\"form-select\", \"dark-input\", \"select-sm\", \"filter-type-width\"],\n      \"\",\n      FILTER_TYPES,\n      FILTER_TYPES.indexOf(this.ecg_filter_info.type),\n    );\n    this.ECGFilterTypesSelect.addEventListener(\"change\", this.onECGFilterType);\n\n    createSpan(\n      \"ECGFilterCharSpan\",\n      this.ECGFilterConfigDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Char:\",\n    );\n    this.ECGFilteCharSelect = createSelect(\n      \"ECGFilteCharSelect\",\n      this.ECGFilterConfigDiv,\n      [\"form-select\", \"dark-input\", \"select-sm\", \"filter-char-width\"],\n      \"\",\n      FILTER_CHARACTERISTICS,\n      FILTER_CHARACTERISTICS.indexOf(this.ecg_filter_info.characteristic),\n    );\n    this.ECGFilteCharSelect.addEventListener(\"change\", this.onECGFilterChar);\n\n    createSpan(\n      \"ECGFilterOrderSpan\",\n      this.ECGFilterConfigDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Order:\",\n    );\n\n    this.ECGFilterOrderInput = createNumInput(\n      \"ECGFilterOrderInput\",\n      this.ECGFilterConfigDiv,\n      [\"dark-input\", \"input-width-3_5\"],\n      1,\n      12,\n      1,\n      this.ecg_filter_info.order,\n    );\n    this.ECGFilterOrderInput.addEventListener(\"change\", this.onECGFilterOrder);\n\n    createSpan(\n      \"ECGFilterCutoffSpan\",\n      this.ECGFilterConfigDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Cutoff (Hz):\",\n    );\n\n    this.ECGFilterCutoffInput = createNumInput(\n      \"ECGFilterCutoffInput\",\n      this.ECGFilterConfigDiv,\n      [\"dark-input\", \"freq-input-width\"],\n      ECG_BAND_LOW_MIN_HZ,\n      ECG_BAND_HIGH_MAX_HZ,\n      ECG_BAND_HIGH_STEP_HZ,\n      this.ecg_filter_info.Fc,\n    );\n    this.ECGFilterCutoffInput.addEventListener(\n      \"change\",\n      this.onECGFilterCutoff,\n    );\n\n    this.ECGFilterLowCutInput = createNumInput(\n      \"ECGFilterLowCutInput\",\n      this.ECGFilterConfigDiv,\n      [\"margin-left-5\", \"dark-input\", \"freq-input-width\", \"hide\"],\n      ECG_BAND_LOW_MIN_HZ,\n      this.ecg_filter_info.Fh,\n      ECG_BAND_HIGH_STEP_HZ,\n      this.ecg_filter_info.Fl,\n    );\n    this.ECGFilterLowCutInput.addEventListener(\n      \"change\",\n      this.onECGFilterLowCutoff,\n    );\n\n    this.ECGFilterHighCutInput = createNumInput(\n      \"ECGFilterHighCutInput\",\n      this.ECGFilterConfigDiv,\n      [\"margin-left-5\", \"dark-input\", \"freq-input-width\", \"hide\"],\n      this.ecg_filter_info.Fl,\n      ECG_BAND_HIGH_MAX_HZ,\n      ECG_BAND_HIGH_STEP_HZ,\n      this.ecg_filter_info.Fh,\n    );\n    this.ECGFilterHighCutInput.addEventListener(\n      \"change\",\n      this.onECGFilterHighCutoff,\n    );\n\n    if (this.ECGFilterTypesSelect.selectedIndex === 2) {\n      this.ECGFilterCutoffInput.classList.add(\"hide\");\n      this.ECGFilterLowCutInput.classList.remove(\"hide\");\n      this.ECGFilterHighCutInput.classList.remove(\"hide\");\n    }\n\n    this.ECGRMSConfigDiv = createDiv(\"ECGRMSConfigDiv\", this.ECGConfigDiv, [\n      \"full-width\",\n    ]);\n\n    this.ACCConfigDiv = createDiv(\"ACCConfigDiv\", this.visConfigDiv, [\n      \"float-left\",\n      \"almost-full-height\",\n      \"config-div\",\n      \"half-width\",\n      \"flexbox\",\n      \"flex-col\",\n    ]);\n\n    const ACCTitleRow = createDiv(\"ECGChartConfigTitleRow\", this.ACCConfigDiv, [\n      \"full-width\",\n      \"flexbox\",\n    ]);\n\n    createDiv(\n      \"ACCChartConfigTitle\",\n      ACCTitleRow,\n      [\"fourty-width\", \"center\", \"bold-text\"],\n      \"Accelerometer Visualization\",\n    );\n\n    const ACCSampleRateRange = createDiv(\"ACCSampleRateRange\", ACCTitleRow, [\n      \"sixty-width\",\n    ]);\n    const ACCSampleRateSpan = createSpan(\n      \"ACCSampleRateSpan\",\n      ACCSampleRateRange,\n      [\"padright-5px\", \"padleft-5px\"],\n      \"Fs (Hz):\",\n    );\n\n    this.ACCSampleRateSelect = createSelect(\n      \"ACCSampleRateSelect\",\n      ACCSampleRateRange,\n      [\"form-select\", \"dark-input\", \"select-sm\", \"input-width-4_5\"],\n      \"\",\n      ACC_SAMPLE_RATE_OPTIONS,\n      ACC_SAMPLE_RATE_OPTIONS.indexOf(this.acc_sample_rate_hz),\n    );\n    this.ACCSampleRateSelect.addEventListener(\n      \"change\",\n      this.onACCSampleRateSelect,\n    );\n\n    const ACCRangeSpan = createSpan(\n      \"ACCRangeSpan\",\n      ACCSampleRateRange,\n      [\"padright-5px\", \"padleft-5px\"],\n      \"Range (\u00B1G):\",\n    );\n\n    this.ACCRangeSelect = createSelect(\n      \"ACCRangeSelect\",\n      ACCSampleRateRange,\n      [\"form-select\", \"dark-input\", \"select-sm\", \"input-width-3_5\"],\n      \"\",\n      ACC_RANGE_OPTIONS,\n      ACC_RANGE_OPTIONS.indexOf(this.acc_range_g),\n    );\n\n    this.ACCRangeSelect.addEventListener(\"change\", this.onACCRangeSelect);\n\n    this.ACCChartConfigDiv = createDiv(\"ACCChartConfigDiv\", this.ACCConfigDiv, [\n      \"full-width\",\n      \"flexbox\",\n    ]);\n\n    const ACCDisplaySettingsDiv = createDiv(\n      \"ACCDisplaySettingsDiv\",\n      this.ACCChartConfigDiv,\n      [\"full-width\", \"flexbox\"],\n    );\n\n    createSpan(\n      \"ACCStreamDelayLabel\",\n      ACCDisplaySettingsDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Delay (ms):\",\n    );\n\n    this.ACCStreamDelayInput = createNumInput(\n      \"ACCStreamDelayInput\",\n      ACCDisplaySettingsDiv,\n      [\"marginright-5px\", \"dark-input\", \"input-width-4_5\"],\n      ACC_STREAM_DELAY_MIN_MS,\n      ACC_STREAM_DELAY_MAX_MS,\n      ACC_STREAM_DELAY_STEP_MS,\n      this.acc_stream_delay,\n    );\n    this.ACCStreamDelayInput.addEventListener(\n      \"change\",\n      this.onACCStreamDelayChange,\n    );\n\n    createSpan(\n      \"ACCStreamDataWidthLabel\",\n      ACCDisplaySettingsDiv,\n      [\"padright-5px\"],\n      \"Data width (ms/px):\",\n    );\n\n    this.ACCstreamMPPInput = createNumInput(\n      \"ACCSteamMPPInput\",\n      ACCDisplaySettingsDiv,\n      [\"marginright-5px\", \"dark-input\", \"input-width-3_5\"],\n      ACC_MS_PER_PX_MIN,\n      ACC_MS_PER_PX_MAX,\n      ACC_MS_PER_PX_STEP,\n    );\n    this.ACCstreamMPPInput.value = this.acc_millis_per_px.toString();\n    this.ACCstreamMPPInput.addEventListener(\"change\", this.onACCMPPChange);\n\n    this.ACCLPConfigDiv = createDiv(\"ACCLPConfigDiv\", this.ACCConfigDiv, [\n      \"full-width\",\n      \"flexbox\",\n    ]);\n\n    createSpan(\n      \"ACCLPCharSpan\",\n      this.ACCLPConfigDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Lowpass filter characteristic:\",\n    );\n\n    this.ACCLPCharSelect = createSelect(\n      \"ACCLPCharSelect\",\n      this.ACCLPConfigDiv,\n      [\"form-select\", \"dark-input\", \"select-sm\", \"filter-char-width\"],\n      \"\",\n      FILTER_CHARACTERISTICS,\n      FILTER_CHARACTERISTICS.indexOf(this.acc_lp_info.characteristic),\n    );\n    this.ACCLPCharSelect.addEventListener(\"change\", this.onACCLPChar);\n\n    createSpan(\n      \"ACCLPOrderSpan\",\n      this.ACCLPConfigDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Order:\",\n    );\n\n    this.ACCLPOrderInput = createNumInput(\n      \"ACCLPOrderInput\",\n      this.ACCLPConfigDiv,\n      [\"dark-input\", \"input-width-3_5\"],\n      1,\n      12,\n      1,\n      this.acc_lp_info.order,\n    );\n    this.ACCLPOrderInput.addEventListener(\"change\", this.onACCLPOrder);\n\n    createSpan(\n      \"ACCLPCutoffSpan\",\n      this.ACCLPConfigDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Cutoff (Hz):\",\n    );\n\n    this.ACCLPCutoffInput = createNumInput(\n      \"ACCLPCutoffInput\",\n      this.ACCLPConfigDiv,\n      [\"dark-input\", \"freq-input-width\"],\n      ACC_BAND_LOW_MIN_HZ,\n      ACC_SAMPLE_RATE_OPTIONS[this.ACCSampleRateSelect.selectedIndex] / 2,\n      ECG_BAND_HIGH_STEP_HZ,\n      this.acc_lp_info.Fc,\n    );\n    this.ACCLPCutoffInput.addEventListener(\"change\", this.onACCLPCutoff);\n\n    //-------------------------------------------------------------------------//\n    this.ACCFilterConfigDiv = createDiv(\n      \"ACCFilterConfigDiv\",\n      this.ACCConfigDiv,\n      [\"full-width\", \"flexbox\"],\n    );\n\n    createSpan(\n      \"ACCFilterTypeSpan\",\n      this.ACCFilterConfigDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Filter Type:\",\n    );\n    this.ACCFilterTypesSelect = createSelect(\n      \"ACCFilterTypesSelect\",\n      this.ACCFilterConfigDiv,\n      [\"form-select\", \"dark-input\", \"select-sm\", \"filter-type-width\"],\n      \"\",\n      FILTER_TYPES,\n      FILTER_TYPES.indexOf(this.acc_filter_info.type),\n    );\n    this.ACCFilterTypesSelect.addEventListener(\"change\", this.onACCFilterType);\n\n    createSpan(\n      \"ACCFilterCharSpan\",\n      this.ACCFilterConfigDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Char:\",\n    );\n    this.ACCFilterCharSelect = createSelect(\n      \"ACCFilterCharSelect\",\n      this.ACCFilterConfigDiv,\n      [\"form-select\", \"dark-input\", \"select-sm\", \"filter-char-width\"],\n      \"\",\n      FILTER_CHARACTERISTICS,\n      FILTER_CHARACTERISTICS.indexOf(this.acc_filter_info.characteristic),\n    );\n    this.ACCFilterCharSelect.addEventListener(\"change\", this.onACCFilterChar);\n\n    createSpan(\n      \"ACCFilterOrderSpan\",\n      this.ACCFilterConfigDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Order:\",\n    );\n\n    this.ACCFilterOrderInput = createNumInput(\n      \"ACCFilterOrderInput\",\n      this.ACCFilterConfigDiv,\n      [\"dark-input\", \"input-width-3_5\"],\n      1,\n      12,\n      1,\n      this.acc_filter_info.order,\n    );\n    this.ACCFilterOrderInput.addEventListener(\"change\", this.onACCFilterOrder);\n\n    createSpan(\n      \"ACCFilterCutoffSpan\",\n      this.ACCFilterConfigDiv,\n      [\"padleft-5px\", \"padright-5px\"],\n      \"Cutoff (Hz):\",\n    );\n\n    this.ACCFilterCutoffInput = createNumInput(\n      \"ACCFilterCutoffInput\",\n      this.ACCFilterConfigDiv,\n      [\"dark-input\", \"freq-input-width\", \"hide\"],\n      ACC_BAND_LOW_MIN_HZ,\n      ACC_SAMPLE_RATE_OPTIONS[this.ACCSampleRateSelect.selectedIndex] / 2,\n      ECG_BAND_HIGH_STEP_HZ,\n      this.acc_filter_info.Fc,\n    );\n    this.ACCFilterCutoffInput.addEventListener(\n      \"change\",\n      this.onACCFilterCutoff,\n    );\n\n    this.ACCFilterLowCutInput = createNumInput(\n      \"ACCFilterLowCutInput\",\n      this.ACCFilterConfigDiv,\n      [\"margin-left-5\", \"dark-input\", \"freq-input-width\"],\n      ACC_BAND_LOW_MIN_HZ,\n      this.acc_filter_info.Fh,\n      ACC_BAND_HIGH_STEP_HZ,\n      this.acc_filter_info.Fl,\n    );\n    this.ACCFilterLowCutInput.addEventListener(\n      \"change\",\n      this.onACCFilterLowCutoff,\n    );\n\n    this.ACCFilterHighCutInput = createNumInput(\n      \"ACCFilterHighCutInput\",\n      this.ACCFilterConfigDiv,\n      [\"margin-left-5\", \"dark-input\", \"freq-input-width\"],\n      this.acc_filter_info.Fl,\n      ACC_BAND_HIGH_MAX_HZ,\n      ACC_BAND_HIGH_STEP_HZ,\n      this.acc_filter_info.Fh,\n    );\n    this.ACCFilterHighCutInput.addEventListener(\n      \"change\",\n      this.onACCFilterHighCutoff,\n    );\n\n    if (this.ACCFilterTypesSelect.selectedIndex !== 2) {\n      this.ACCFilterCutoffInput.classList.remove(\"hide\");\n      this.ACCFilterLowCutInput.classList.add(\"hide\");\n      this.ACCFilterHighCutInput.classList.add(\"hide\");\n    }\n  }\n\n  private async initDeviceGraphCtrl() {\n    this.ECGCtrlDiv = createDiv(\"ECGCtrlDiv\", this.dataCtrl, [\"half-width\"]);\n    const ECG_switch = createSwitch(\"EXG\", this.onToggleECG);\n    this.ECGCtrlDiv.appendChild(ECG_switch);\n    this.ECGSwitchInput = ECG_switch.children.item(0) as HTMLInputElement;\n    this.ECGDropDown = createDiv(\"ECGDropDownDiv\", this.ECGCtrlDiv, [\n      \"form-group\",\n    ]);\n    this.generateECGFormSelect();\n\n    this.ACCCtrlDiv = createDiv(\"ACCCtrlDiv\", this.dataCtrl, [\"half-width\"]);\n    const ACC_switch = createSwitch(\"ACC\", this.onToggleACC);\n    this.ACCCtrlDiv.appendChild(ACC_switch);\n    this.ACCSwitchInput = ACC_switch.children.item(0) as HTMLInputElement;\n    this.ACCDropDown = createDiv(\"ACCDropDownDiv\", this.ACCCtrlDiv, [\n      \"form-group\",\n    ]);\n    this.generateACCFormSelect();\n  }\n\n  private generateECGFormSelect(\n    selectedInd: number = 0,\n    disabled: boolean = true,\n  ) {\n    if (this.ECGFormSelect !== undefined) {\n      const parent = this.ECGFormSelect.parentElement;\n      parent?.removeChild(this.ECGFormSelect);\n    }\n    this.ECGFormSelect = createSelect(\n      \"ECGFormSelect\",\n      this.ECGDropDown,\n      [\"form-select\", \"dark-input\", \"select-sm\", \"almost-full-width\"],\n      \"\",\n      [\n        \"Raw\",\n        compactPrettyPrintFilter(this.ecg_filter_info),\n        `${this.ecg_rms_window_ms}ms RMS`,\n      ],\n      selectedInd,\n    );\n    this.ECGFormSelect.onchange = this.changeECGGraph;\n    this.ECGFormSelect.disabled = disabled;\n  }\n\n  private generateACCFormSelect(\n    selectedInd: number = 0,\n    disabled: boolean = true,\n  ) {\n    if (this.ACCFormSelect !== undefined) {\n      const parent = this.ACCFormSelect.parentElement;\n      parent?.removeChild(this.ACCFormSelect);\n    }\n    this.ACCFormSelect = createSelect(\n      \"ACCFormSelect\",\n      this.ACCDropDown,\n      [\"form-select\", \"dark-input\", \"select-sm\", \"almost-full-width\"],\n      \"\",\n      [\n        \"Raw\",\n        compactPrettyPrintFilter(this.acc_lp_info),\n        \"Tilt\",\n        compactPrettyPrintFilter(this.acc_filter_info),\n      ],\n      selectedInd,\n    );\n    this.ACCFormSelect.onchange = this.changeACCGraph;\n    this.ACCFormSelect.disabled = disabled;\n  }\n\n  async startECG(\n    sampleRate: number = ECG_SAMPLE_RATE_HZ,\n    addCallback: boolean = true,\n  ) {\n    const duplicateInd = this.includesDuplicate(\"device\", ECGIsOn);\n    if (duplicateInd < 0) {\n      try {\n        const startECGReply = await this.polarH10.startECG(sampleRate);\n        if (\n          startECGReply?.error === \"SUCCESS\" ||\n          startECGReply?.error === \"ALREADY IN STATE\"\n        ) {\n          if (addCallback) {\n            this.polarH10.addEventListener(\"ECG\", this.newECGCallback);\n          }\n          if (PolarVisRow.is_recording) {\n            PolarVisRow.createNewRecordEntry(this);\n            this.polarH10.addEventListener(\"ECG\", this.recordECGData);\n          }\n        } else {\n          console.log(startECGReply);\n          this.disconnectPolarH10();\n        }\n      } catch (e) {\n        alert(e);\n        this.disconnectPolarH10();\n      }\n    } else {\n      this.polarH10.addEventListener(\"ECG\", this.newECGCallback);\n    }\n  }\n\n  async stopECG() {\n    const duplicateInd = this.includesDuplicate(\"device\", ECGIsOn);\n    if (duplicateInd < 0) {\n      try {\n        const stopECGReply = await this.polarH10.stopECG();\n        if (stopECGReply) {\n          console.log(stopECGReply);\n        }\n        this.polarH10.removeEventListener(\"ECG\", this.recordECGData);\n      } catch (e) {\n        console.log(e);\n        alert(e);\n        if (e.name === \"NetworkError\") {\n          this.disconnectPolarH10();\n        }\n      }\n    }\n  }\n\n  async startACC(\n    range: number = ACC_RANGE_G,\n    sampleRate: number = ACC_SAMPLE_RATE_HZ,\n    addCallback: boolean = true,\n  ) {\n    const duplicateInd = this.includesDuplicate(\"device\", ACCIsOn);\n    if (duplicateInd < 0) {\n      try {\n        const startACCReply = await this.polarH10.startACC(range, sampleRate);\n        if (\n          startACCReply?.error === \"SUCCESS\" ||\n          startACCReply?.error === \"ALREADY IN STATE\"\n        ) {\n          if (addCallback) {\n            this.polarH10.addEventListener(\"ACC\", this.newACCCallback);\n          }\n\n          if (PolarVisRow.is_recording) {\n            PolarVisRow.createNewRecordEntry(this);\n            this.polarH10.addEventListener(\"ACC\", this.recordACCData);\n          }\n        } else {\n          console.log(startACCReply);\n          this.disconnectPolarH10();\n        }\n      } catch (e) {\n        alert(e);\n        this.disconnectPolarH10();\n      }\n    } else {\n      this.polarH10.addEventListener(\"ACC\", this.newACCCallback);\n    }\n  }\n\n  async stopAcc() {\n    const duplicateInd = this.includesDuplicate(\"device\", ACCIsOn);\n    if (duplicateInd < 0) {\n      try {\n        const stopACCReply = await this.polarH10.stopACC();\n        if (stopACCReply) {\n          console.log(stopACCReply);\n        }\n        this.polarH10.removeEventListener(\"ACC\", this.recordACCData);\n      } catch (e) {\n        console.log(e);\n        alert(e);\n        if (e.name === \"NetworkError\") {\n          this.disconnectPolarH10();\n        }\n      }\n    }\n  }\n\n  ECGIsOn() {\n    return this.ECGDiv !== undefined;\n  }\n\n  ACCIsOn() {\n    return this.ACCDiv !== undefined;\n  }\n}\n\nfunction resizeSmoothieGen(\n  chart: SmoothieChart,\n  widthRatio: number,\n  heightRatio: number,\n  verbose: boolean = false,\n) {\n  const resize = () => {\n    const canvas: any = (chart as any).canvas;\n    const parent: HTMLElement = canvas.parentNode;\n    let width = parent.offsetWidth;\n    let height = parent.offsetHeight;\n    const new_width = width * widthRatio;\n    const new_height = height * heightRatio;\n    canvas.width = new_width - 5;\n    canvas.height = new_height;\n    if (verbose) {\n      console.log(\n        `Resize at ${new Date().valueOf()} parent: ${parent.id} ${parent.offsetWidth} ${canvas.width} ${parent.offsetHeight} ${canvas.height}`,\n      );\n    }\n  };\n  return resize;\n}\n\nfunction createSwitch(\n  labeltext: string,\n  eventHandler: (ev: Event) => void,\n  idGenerator: () => number = getPolarRowId,\n) {\n  const label = document.createElement(\"label\");\n  label.setAttribute(\"class\", \"form-switch\");\n  label.classList.add(\"label-sm\");\n  const input = document.createElement(\"input\");\n  input.id = `${labeltext}-onoff-${idGenerator()}`;\n  input.type = \"checkbox\";\n  input.addEventListener(\"change\", eventHandler);\n  input.classList.add(\"input-sm\");\n  const icon = document.createElement(\"i\");\n  icon.classList.add(\"form-icon\");\n  label.textContent = labeltext;\n  label.appendChild(input);\n  label.appendChild(icon);\n  return label;\n}\n\nfunction createSelect(\n  id: string,\n  parent: HTMLElement | undefined = undefined,\n  classList: string[] = [],\n  textContent: string = \"\",\n  options: string[] | number[] = [],\n  selectedInd: number | undefined = undefined,\n  idGenerator: () => number = getPolarRowId,\n) {\n  const select = document.createElement(\"select\");\n  configureHTMLElement(select, id, parent, classList, textContent, idGenerator);\n  addOptionsToSelect(select, options, idGenerator);\n  if (selectedInd !== undefined) {\n    select.selectedIndex = selectedInd;\n  }\n  return select;\n}\n\nfunction addOptionsToSelect(\n  select: HTMLSelectElement,\n  options: string[] | number[],\n  idGenerator: () => number = getPolarRowId,\n) {\n  for (let i = 0; i < options.length; i++) {\n    const option_str = options[i];\n    const option: HTMLOptionElement = document.createElement(\"option\");\n    option.id = `${select.id}-${i}-${idGenerator()}`;\n    option.textContent = option_str.toString();\n    select.appendChild(option);\n  }\n}\n\nfunction createDiv(\n  id: string,\n  parent: HTMLElement | undefined = undefined,\n  classList: string[] = [],\n  textContent: string = \"\",\n  idGenerator: () => number = getPolarRowId,\n) {\n  const myDiv = document.createElement(\"div\");\n  configureHTMLElement(myDiv, id, parent, classList, textContent, idGenerator);\n  return myDiv;\n}\n\nfunction createNumInput(\n  id: string,\n  parent: HTMLElement | undefined = undefined,\n  classList: string[] = [],\n  min: number = 0,\n  max: number = 100,\n  step: number = 1,\n  val: number = 1,\n  textContent: string = \"\",\n  idGenerator: () => number = getPolarRowId,\n) {\n  const myNumInput = document.createElement(\"input\");\n  configureHTMLElement(\n    myNumInput,\n    id,\n    parent,\n    [\"form-input\", \"input-sm\", ...classList],\n    textContent,\n    idGenerator,\n  );\n  myNumInput.setAttribute(\"type\", \"number\");\n  myNumInput.setAttribute(\"min\", min.toString());\n  myNumInput.setAttribute(\"max\", max.toString());\n  myNumInput.setAttribute(\"step\", step.toString());\n  myNumInput.setAttribute(\"value\", val.toString());\n  return myNumInput;\n}\n\nfunction createTextInput(\n  id: string,\n  parent: HTMLElement | undefined = undefined,\n  classList: string[] = [],\n  textContent: string = \"\",\n  idGenerator: () => number = getPolarRowId,\n) {\n  const myNumInput = document.createElement(\"input\");\n  configureHTMLElement(\n    myNumInput,\n    id,\n    parent,\n    [\"form-input\", \"input-sm\", ...classList],\n    textContent,\n    idGenerator,\n  );\n  myNumInput.setAttribute(\"type\", \"text\");\n  return myNumInput;\n}\n\nfunction createSpan(\n  id: string,\n  parent: HTMLElement | undefined = undefined,\n  classList: string[] = [],\n  textContent: string = \"\",\n  idGenerator: () => number = getPolarRowId,\n) {\n  const mySpan = document.createElement(\"span\");\n  configureHTMLElement(mySpan, id, parent, classList, textContent, idGenerator);\n  return mySpan;\n}\n\nfunction createSlider(\n  id: string,\n  min: number,\n  max: number,\n  value: number,\n  parent: HTMLElement | undefined = undefined,\n  classList: string[] = [],\n  textContent: string = \"\",\n  idGenerator: () => number = getPolarRowId,\n) {\n  const mySlider = document.createElement(\"input\");\n  mySlider.setAttribute(\"type\", \"range\");\n  const minStr = min.toString();\n  const maxStr = max.toString();\n  mySlider.setAttribute(\"min\", minStr);\n  mySlider.setAttribute(\"max\", maxStr);\n  mySlider.setAttribute(\"value\", value.toString());\n  mySlider.setAttribute(\"data-tooltip\", value.toString());\n  createSpan(`${id}Min`, parent, [\"padright-5px\"], minStr);\n  configureHTMLElement(\n    mySlider,\n    id,\n    parent,\n    [\"slider\", \"tooltip\", ...classList],\n    textContent,\n    idGenerator,\n  );\n  createSpan(`${id}Max`, parent, [\"padleft-5px\", \"padright-5px\"], maxStr);\n  return mySlider;\n}\n\nfunction createCanvas(\n  id: string,\n  parent: HTMLElement | undefined = undefined,\n  classList: string[] = [],\n  textContent: string = \"\",\n  idGenerator: () => number = getPolarRowId,\n) {\n  const myCanvas = document.createElement(\"canvas\");\n  configureHTMLElement(\n    myCanvas,\n    id,\n    parent,\n    classList,\n    textContent,\n    idGenerator,\n  );\n  return myCanvas;\n}\n\nfunction configureHTMLElement(\n  e: HTMLElement,\n  id: string,\n  parent: HTMLElement | undefined = undefined,\n  classList: string[] = [],\n  textContent: string = \"\",\n  idGenerator: () => number = getPolarRowId,\n) {\n  e.id = `${id}-${idGenerator()}`;\n  if (parent) {\n    parent.appendChild(e);\n  }\n  if (classList.length > 0) {\n    e.classList.add(...classList);\n  }\n  if (textContent.length > 0) {\n    e.textContent = textContent;\n  }\n  return e;\n}\n\nfunction getPolarRowId() {\n  return PolarVisRow.polarRowID;\n}\n\nfunction ECGIsOn(row: PolarVisRow) {\n  return row.ECGDiv !== undefined;\n}\n\nfunction ACCIsOn(row: PolarVisRow) {\n  return row.ACCDiv !== undefined;\n}\n\ntype TPDir = \"top\" | \"right\" | \"bottom\" | \"left\";\n\nfunction addTooltip(e: HTMLElement, tooltip: string, dir: TPDir = \"top\") {\n  e.setAttribute(\"data-tooltip\", tooltip);\n  e.classList.add(\"tooltip\", `tooltip-${dir}`);\n}\n\nexport function createButtonIcon(\n  type: string,\n  id: string | undefined = undefined,\n  parent: HTMLElement | undefined = undefined,\n  isMaterialIcon: boolean = false,\n  onclick: GlobalEventHandlers[\"onclick\"] | undefined = undefined,\n  classList: string[] = [],\n  idGenerator: () => number | undefined = getPolarRowId,\n) {\n  const btn = document.createElement(\"button\");\n  if (id) {\n    const id_suffix = idGenerator();\n    if (id_suffix !== undefined) {\n      btn.id = `${id}-${id_suffix}`;\n    } else {\n      btn.id = id;\n    }\n  }\n  btn.classList.add(\"flexbox\", \"center\");\n  const icon = document.createElement(\"i\");\n  if (isMaterialIcon) {\n    icon.classList.add(\"material-icons\");\n    icon.textContent = type;\n  } else {\n    icon.classList.add(\"icon\", `icon-${type}`);\n  }\n\n  btn.appendChild(icon);\n  if (classList.length > 0) {\n    btn.classList.add(...classList);\n  }\n  if (onclick) {\n    btn.onclick = onclick;\n  }\n  if (parent) {\n    parent.appendChild(btn);\n  }\n  return btn;\n}\n\nfunction capitalizeFirstLetter(str) {\n  if (typeof str !== \"string\" || str.length === 0) {\n    return str; // Handle non-string or empty inputs\n  }\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction prettyPrintFilter(filterInfo: FilterInfo, cap: boolean = true) {\n  let str: string = \"\";\n  if (filterInfo.type === \"lowpass\" || filterInfo.type === \"highpass\") {\n    str = `${filterInfo.type} (${Number.isInteger(filterInfo.Fc) ? filterInfo.Fc : filterInfo.Fc?.toFixed(1)}Hz ${filterInfo.order} order ${capitalizeFirstLetter(filterInfo.characteristic)})`;\n  } else {\n    str = `bandpass (${Number.isInteger(filterInfo.Fl) ? filterInfo.Fl : filterInfo.Fl?.toFixed(1)}-${Number.isInteger(filterInfo.Fh) ? filterInfo.Fh : filterInfo.Fh?.toFixed(1)}Hz ${filterInfo.order} order ${capitalizeFirstLetter(filterInfo.characteristic)})`;\n  }\n  if (cap) {\n    str = capitalizeFirstLetter(str);\n  }\n  return str;\n}\n\nfunction compactPrettyPrintFilter(filterInfo: FilterInfo) {\n  let str: string = \"\";\n  if (filterInfo.type === \"lowpass\" || filterInfo.type === \"highpass\") {\n    str = `${Number.isInteger(filterInfo.Fc) ? filterInfo.Fc : filterInfo.Fc?.toFixed(1)}Hz ${filterInfo.type}`;\n  } else {\n    str = `${Number.isInteger(filterInfo.Fl) ? filterInfo.Fl : filterInfo.Fl?.toFixed(1)}-${Number.isInteger(filterInfo.Fh) ? filterInfo.Fh : filterInfo.Fh?.toFixed(1)}Hz ${filterInfo.type}`;\n  }\n  return str;\n}\n\nexport function download(\n  filename: string,\n  content: string,\n  mimeType: string = \"application/json\",\n) {\n  const a = document.createElement(\"a\"); // Create \"a\" element\n  const blob = new Blob([content], { type: mimeType }); // Create a blob (file-like object)\n  const url = URL.createObjectURL(blob); // Create an object URL from blob\n  a.setAttribute(\"href\", url); // Set \"a\" element link\n  a.setAttribute(\"download\", filename); // Set download filename\n  a.click(); // Start downloading\n}\n", "import { PolarH10 } from \"polar-h10\";\nimport {\n  SmoothieChart,\n  IChartOptions,\n  TimeSeries,\n  ITimeSeriesPresentationOptions,\n} from \"smoothie\";\n\nconst DEFAULT_ENABLE_COLOR = \"#ebebebcc\";\nconst DEFAULT_DISABLE_COLOR = \"#5f5f5fcc\";\nconst DEFAULT_LEGEND_FONT = \"14px Arial\";\n\nfunction extractHeightFromFont(fontStr) {\n  return parseFloat(fontStr.split(\"px\")[0]);\n}\nexport class SmoothieTSInfo {\n  timeseries: TimeSeries | undefined;\n  tsPresOpts: ITimeSeriesPresentationOptions | undefined;\n  text: string;\n  x: number = 0;\n  y: number = 0;\n  fillStyle: string;\n  textBaseline: CanvasTextBaseline = \"top\";\n  textAlign: CanvasTextAlign = \"start\";\n  font: string = DEFAULT_LEGEND_FONT;\n  on: boolean = true;\n  on_fillStyle: string;\n  off_fillStyle: string = DEFAULT_DISABLE_COLOR;\n  width: number | undefined = undefined;\n  height: number | undefined = undefined;\n\n  constructor(\n    timeseries: TimeSeries | undefined,\n    tsPresOpts: ITimeSeriesPresentationOptions | undefined,\n    text: string,\n    textAlign: CanvasTextAlign = \"start\",\n    x: number = 0,\n    y: number = 0,\n    on: boolean = true,\n    textBaseline: CanvasTextBaseline = \"top\",\n    font: string = DEFAULT_LEGEND_FONT,\n    on_fillStyle: string | undefined = undefined,\n    off_fillStyle: string | undefined = undefined,\n  ) {\n    this.timeseries = timeseries;\n    this.tsPresOpts = tsPresOpts;\n    this.text = text;\n    this.textAlign = textAlign;\n    this.x = x;\n    this.y = y;\n    this.on = on;\n    this.fillStyle =\n      tsPresOpts?.strokeStyle ||\n      (on ? DEFAULT_ENABLE_COLOR : DEFAULT_DISABLE_COLOR);\n    this.textBaseline = textBaseline;\n    this.font = font;\n    if (on_fillStyle !== undefined) {\n      this.on_fillStyle = on_fillStyle;\n    } else if (this.on) {\n      this.on_fillStyle = this.fillStyle;\n    }\n    if (off_fillStyle !== undefined) {\n      this.off_fillStyle = off_fillStyle;\n    } else if (!this.on) {\n      this.off_fillStyle = this.fillStyle;\n    }\n    this.enable(on);\n  }\n\n  getHeight() {\n    this.height = extractHeightFromFont(this.font);\n    return this.height;\n  }\n\n  getWidth(canvas: HTMLCanvasElement) {\n    const ctx = canvas.getContext(\"2d\");\n    if (ctx) {\n      ctx.save();\n      ctx.textBaseline = this.textBaseline;\n      ctx.textAlign = this.textAlign;\n      ctx.font = this.font;\n      ctx.fillStyle = this.fillStyle;\n      this.width = ctx.measureText(this.text).width;\n      ctx.restore();\n    }\n    return this.width;\n  }\n\n  enable(on: boolean = true) {\n    this.on = on;\n    this.fillStyle = this.on ? this.on_fillStyle : this.off_fillStyle;\n  }\n\n  onclick() {\n    this.on = !this.on;\n    this.enable(this.on);\n  }\n}\n\nfunction inRect(\n  x: number,\n  y: number,\n  rx: number,\n  rw: number,\n  ry: number,\n  rh: number,\n) {\n  return x > rx && x < rx + rw && y > ry && y < ry + rh;\n}\n\nexport class CustomSmoothie extends SmoothieChart {\n  smoothieTSInfos: SmoothieTSInfo[];\n  isRow: boolean = true;\n  enableRenderLegend: boolean = true;\n  allowToggleTooltip: boolean = true;\n  allowToggleLegend: boolean = true;\n  allowToggleLabelAuto: boolean = true;\n  ctrlFont: string = DEFAULT_LEGEND_FONT;\n  ctrlFontHeight: number = 0;\n  enableTooltipText: string = \"[Tooltip]\";\n  enableTooltipTextX: number = 0;\n  enableTooltipTextY: number = 0;\n  enableTooltipTextWidth: number = 0;\n  yAutoScaleText: string = \"[Auto Y scale]\";\n  yAutoScaleTextX: number = 0;\n  yAutoScaleTextY: number = 0;\n  yAutoScaleTextWidth: number = 0;\n  defaultXSpacing: number = 10;\n  defaultYSpacing: number = 0;\n  renderOffset: number = 0;\n  prevMinValue: number | undefined = undefined;\n  prevMaxValue: number | undefined = undefined;\n  scrollable: boolean = false;\n\n  constructor(\n    option?: IChartOptions,\n    isRow: boolean = true,\n    enableRenderLegend: boolean = true,\n    allowToggleTooltip: boolean = true,\n    allowToggleLegend: boolean = true,\n    allowToggleLabelAuto: boolean = true,\n    ctrlFont: string = DEFAULT_LEGEND_FONT,\n    defaultXSpacing: number = 10,\n    defaultYSpacing: number = 0,\n    scrollable: boolean = false,\n  ) {\n    super(option);\n    this.smoothieTSInfos = [];\n    this.isRow = isRow;\n    this.enableRenderLegend = enableRenderLegend;\n    this.allowToggleTooltip = allowToggleTooltip;\n    this.allowToggleLegend = allowToggleLegend;\n    this.allowToggleLabelAuto = allowToggleLabelAuto;\n    this.ctrlFont = ctrlFont;\n    this.defaultXSpacing = defaultXSpacing;\n    this.defaultYSpacing = defaultYSpacing;\n    this.ctrlFontHeight = extractHeightFromFont(this.ctrlFont);\n    this.scrollable = scrollable;\n  }\n\n  canvasOnClick = (ev: any) => {\n    // console.log(`Click coordinate: ${ev.offsetX} ${ev.offsetY}`);\n    if (this.allowToggleLegend && \"canvas\" in this) {\n      const canvas: HTMLCanvasElement = this.canvas as HTMLCanvasElement;\n\n      if (this.allowToggleTooltip && this.options.tooltip !== undefined) {\n        if (\n          inRect(\n            ev.offsetX,\n            ev.offsetY,\n            this.enableTooltipTextX,\n            this.enableTooltipTextWidth,\n            this.enableTooltipTextY,\n            this.ctrlFontHeight,\n          )\n        ) {\n          if (this.options.tooltip) {\n            this.options.tooltip = false;\n            if (\"tooltipEl\" in this) {\n              (this.tooltipEl as HTMLElement).style.display = \"none\";\n            }\n          } else {\n            this.options.tooltip = true;\n          }\n        }\n      }\n      if (this.allowToggleLabelAuto) {\n        if (\n          inRect(\n            ev.offsetX,\n            ev.offsetY,\n            this.yAutoScaleTextX,\n            this.yAutoScaleTextWidth,\n            this.yAutoScaleTextY,\n            this.ctrlFontHeight,\n          )\n        ) {\n          if (this.yScaleIsAuto()) {\n            this.options.minValue =\n              this.prevMinValue || (this as any)?.valueRange?.min || 20;\n            this.options.maxValue =\n              this.prevMaxValue || (this as any)?.valueRange?.max || -20;\n            this.updateValueRange();\n            this.showScrollMessage();\n          } else {\n            this.prevMinValue = this.options.minValue;\n            this.prevMaxValue = this.options.maxValue;\n            this.options.minValue = undefined;\n            this.options.maxValue = undefined;\n            this.updateValueRange();\n          }\n        }\n      }\n\n      for (let i = 0; i < this.smoothieTSInfos.length; i++) {\n        const info = this.smoothieTSInfos[i];\n        const width = info.width || info.getWidth(canvas) || 0;\n        const height = info.height || info.getHeight() || 0;\n        if (width > 0 && height > 0) {\n          if (\n            ev.offsetX - this.renderOffset > info.x &&\n            ev.offsetX - this.renderOffset < info.x + width &&\n            ev.offsetY > info.y &&\n            ev.offsetY < info.y + height\n          ) {\n            info.onclick();\n            if (info.on) {\n              if (info.timeseries !== undefined) {\n                this.addTimeSeries(info.timeseries, info.tsPresOpts);\n              }\n            } else {\n              if (info.timeseries !== undefined) {\n                this.removeTimeSeries(info.timeseries);\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  yScaleIsAuto() {\n    return (\n      this.options.minValue === undefined || this.options.maxValue === undefined\n    );\n  }\n\n  override streamTo(canvas: HTMLCanvasElement, delayMillis?: number): void {\n    super.streamTo(canvas, delayMillis);\n    if (\"canvas\" in this) {\n      const canvas = this.canvas as HTMLCanvasElement;\n      canvas.removeEventListener(\"click\", this.canvasOnClick);\n      canvas.addEventListener(\"click\", this.canvasOnClick);\n    }\n  }\n\n  override render(canvas: HTMLCanvasElement, time: number) {\n    super.render(canvas, time);\n    if (this.enableRenderLegend && this.smoothieTSInfos.length) {\n      const last_render_time = (this as any).lastRenderTimeMillis;\n      const timeDelta = Date.now() - last_render_time;\n      if (timeDelta < 3) {\n        this.renderLegend(canvas);\n      }\n    }\n  }\n\n  // modifyStreamDelayMs(delayMs: number) {\n  //   this.stop();\n  //   if (\"delay\" in this) {\n  //     this.delay = delayMs;\n  //   }\n  //   this.start();\n  // }\n\n  renderLegend(canvas: HTMLCanvasElement) {\n    const ctx = canvas.getContext(\"2d\");\n    if (ctx) {\n      ctx.save();\n      let infos = this.smoothieTSInfos;\n      let renderOffset = this.defaultXSpacing;\n      if (this.allowToggleTooltip) {\n        ctx.textBaseline = \"top\";\n        ctx.textAlign = \"start\";\n        ctx.font = this.ctrlFont;\n        ctx.fillStyle = this.options.tooltip\n          ? DEFAULT_ENABLE_COLOR\n          : DEFAULT_DISABLE_COLOR;\n        ctx.fillText(\n          this.enableTooltipText,\n          renderOffset,\n          this.defaultYSpacing,\n        );\n        this.enableTooltipTextX = renderOffset;\n        this.enableTooltipTextY = this.defaultYSpacing;\n        this.enableTooltipTextWidth = ctx.measureText(\n          this.enableTooltipText,\n        ).width;\n        renderOffset += this.enableTooltipTextWidth + this.defaultXSpacing;\n      }\n\n      if (this.allowToggleLabelAuto) {\n        ctx.textBaseline = \"top\";\n        ctx.textAlign = \"start\";\n        ctx.font = this.ctrlFont;\n        ctx.fillStyle = DEFAULT_ENABLE_COLOR;\n        ctx.fillStyle = this.yScaleIsAuto()\n          ? DEFAULT_ENABLE_COLOR\n          : DEFAULT_DISABLE_COLOR;\n        ctx.fillText(this.yAutoScaleText, renderOffset, this.defaultYSpacing);\n        this.yAutoScaleTextX = renderOffset;\n        this.yAutoScaleTextY = this.defaultYSpacing;\n        this.yAutoScaleTextWidth = ctx.measureText(this.yAutoScaleText).width;\n        renderOffset += this.yAutoScaleTextWidth + this.defaultXSpacing;\n      }\n      this.renderOffset = renderOffset;\n\n      let prev_text_width: number = 0;\n      for (let i = 0; i < infos.length; i++) {\n        if (i > 0) {\n          if (this.isRow && infos[i].x === infos[0].x) {\n            infos[i].x =\n              infos[i - 1].x + prev_text_width + this.defaultXSpacing;\n          } else if (!this.isRow && infos[i].y === infos[0].y) {\n            const textHeight = parseFloat(infos[i].font.split(\"px\")[0]);\n            infos[i].y = infos[i - 1].y + textHeight + 2;\n          }\n        }\n        const info = infos[i];\n        ctx.textBaseline = info.textBaseline;\n        ctx.textAlign = info.textAlign;\n        ctx.font = info.font;\n        ctx.fillStyle = info.fillStyle;\n        if (info.timeseries === undefined && info.tsPresOpts === undefined) {\n          ctx.fillText(info.text, info.x, info.y);\n        } else {\n          ctx.fillText(info.text, renderOffset + info.x, info.y);\n        }\n\n        prev_text_width = ctx.measureText(info.text).width;\n      }\n      ctx.restore();\n    }\n  }\n\n  addSmoothieTSInfo(info: SmoothieTSInfo) {\n    const i = this.smoothieTSInfos.indexOf(info);\n    if (i < 0) {\n      this.smoothieTSInfos.push(info);\n      if (info.timeseries !== undefined && info.tsPresOpts !== undefined) {\n        this.addTimeSeries(info.timeseries, info.tsPresOpts);\n      }\n    }\n  }\n\n  removeLegendTSInfo(info: SmoothieTSInfo) {\n    const i = this.smoothieTSInfos.indexOf(info);\n    if (i > -1) {\n      if (info.timeseries !== undefined) {\n        this.removeTimeSeries(info.timeseries);\n      }\n      return this.smoothieTSInfos.splice(i, 1);\n    } else {\n      return [];\n    }\n  }\n\n  clearLegendTSInfos() {\n    for (let i = 0; i < this.smoothieTSInfos.length; i++) {\n      const info = this.smoothieTSInfos[i];\n      if (info.timeseries !== undefined) {\n        this.removeTimeSeries(info.timeseries);\n      }\n    }\n    this.smoothieTSInfos = [];\n  }\n\n  configureTimeSeries(\n    timeserieses: TimeSeries[],\n    timeserieOptions: ITimeSeriesPresentationOptions[],\n    legendInfos: SmoothieLegendInfo[],\n    scrollable: boolean = false,\n    minValue: number | undefined = undefined,\n    maxValue: number | undefined = undefined,\n    minValueScale: number = 1,\n    maxValueScale: number = 1,\n    titleText: string = \"\",\n    disableLabel: boolean = false,\n    horizontalLines: any[] = [],\n    allowToggleLegend: boolean = true,\n    allowToggleLabelAuto: boolean = false,\n    allowToggleTooltip: boolean = true,\n  ) {\n    this.clearLegendTSInfos();\n    for (let i = 0; i < timeserieses.length; i++) {\n      const info = new SmoothieTSInfo(\n        timeserieses[i],\n        timeserieOptions[i],\n        legendInfos[i].legend,\n        legendInfos[i].textAlign,\n        legendInfos[i].x,\n        legendInfos[i].y,\n        true,\n        legendInfos[i].textBaseline,\n        legendInfos[i].font,\n      );\n      this.addSmoothieTSInfo(info);\n    }\n    this.scrollable = scrollable;\n    this.showScrollMessage();\n\n    this.options.minValue = minValue;\n    this.options.maxValue = maxValue;\n    this.options.minValueScale = minValueScale;\n    this.options.maxValueScale = maxValueScale;\n    this.updateValueRange();\n    if (titleText.length > 0 && this.options.title !== undefined) {\n      this.options.title.text = titleText;\n    }\n    if (this.options.labels !== undefined) {\n      this.options.labels.disabled = disableLabel;\n    }\n    this.options.horizontalLines = horizontalLines;\n    this.allowToggleLegend = allowToggleLegend;\n    this.allowToggleLabelAuto = allowToggleLabelAuto;\n    this.allowToggleTooltip = allowToggleTooltip;\n  }\n\n  showScrollMessage() {\n    if (this.scrollable && \"canvas\" in this) {\n      const canvas = this.canvas as HTMLCanvasElement;\n      const scrollTSInfo = new SmoothieTSInfo(\n        undefined,\n        undefined,\n        \"Scroll to change y-range\",\n        \"center\",\n        canvas.width / window.devicePixelRatio / 2,\n        30,\n        true,\n        \"top\",\n        \"16px Arial\",\n        \"#fbfbfb\",\n      );\n      this.addSmoothieTSInfo(scrollTSInfo);\n      setTimeout(() => {\n        this.removeLegendTSInfo(scrollTSInfo);\n      }, 1500);\n    }\n  }\n}\n\nexport interface SmoothieLegendInfo {\n  legend: string;\n  x: number;\n  y: number;\n  textBaseline: CanvasTextBaseline;\n  textAlign: CanvasTextAlign;\n  font: string;\n}\n\nexport function genSmoothieLegendInfo(\n  legend: string,\n  x: number = 10,\n  y: number = 5,\n  textBaseline: CanvasTextBaseline = \"top\",\n  textAlign: CanvasTextAlign = \"start\",\n  font: string = DEFAULT_LEGEND_FONT,\n): SmoothieLegendInfo {\n  const info = {\n    legend: legend,\n    x: x,\n    y: y,\n    textBaseline: textBaseline,\n    textAlign: textAlign,\n    font: font,\n  };\n  return info;\n}\n", "export enum PolarSettingType {\n  SAMPLE_RATE = 0,\n  RESOLUTION = 1,\n  RANGE_PN_UNIT = 2,\n  RANGE_MILI_UNIT = 3,\n  NUM_CHANNELS = 4,\n  CONVERSION_FACTOR = 5,\n}\n\nfunction parseUint16(\n  d: DataView,\n  offset: number,\n  little_endian: boolean = true,\n) {\n  return d.getUint16(offset, little_endian);\n}\n\nfunction parseFloat32(\n  d: DataView,\n  offset: number,\n  little_endian: boolean = true,\n) {\n  return d.getFloat32(offset, little_endian);\n}\n\nfunction parse4xUint16(\n  d: DataView,\n  offset: number,\n  little_endian: boolean = true,\n) {\n  return [\n    d.getUint16(offset, little_endian),\n    d.getUint16(offset + 2, little_endian),\n    d.getUint16(offset + 4, little_endian),\n    d.getUint16(offset + 6, little_endian),\n  ];\n}\n\nexport const setting_parsers = {\n  SAMPLE_RATE: parseUint16,\n  RESOLUTION: parseUint16,\n  RANGE_PN_UNIT: parseUint16,\n  RANGE_MILI_UNIT: parse4xUint16,\n  CONVERSION_FACTOR: parseFloat32,\n};\n\ninterface SettingOffset {\n  [key: string]: number;\n}\n\nexport const setting_parser_offsets: SettingOffset = {\n  SAMPLE_RATE: 2,\n  RESOLUTION: 2,\n  RANGE_PN_UNIT: 2,\n  RANGE_MILI_UNIT: 8,\n  NUM_CHANNELS: 1,\n  CONVERSION_FACTOR: 4,\n};\n\nexport enum PolarPMDCommand {\n  GET_MEASUREMENT_SETTINGS = 0x01,\n  REQUEST_MEASUREMENT_START = 0x02,\n  REQUEST_MEASUREMENT_STOP = 0x03,\n}\n\nexport const ERROR_MSGS = [\n  \"SUCCESS\",\n  \"INVALID OP CODE\",\n  \"INVALID MEASUREMENT TYPE\",\n  \"NOT SUPPORTED\",\n  \"INVALID LENGTH\",\n  \"INVALID PARAMETER\",\n  \"ALREADY IN STATE\",\n  \"INVALID RESOLUTION\",\n  \"INVALID SAMPLE RATE\",\n  \"INVALID RANGE\",\n  \"INVALID MTU\",\n  \"INVALID NUMBER OF CHANNELS\",\n  \"INVALID STATE\",\n  \"DEVICE IN CHARGER\",\n];\n", "import {\n  PolarPMDCommand,\n  setting_parsers,\n  setting_parser_offsets,\n  PolarSettingType,\n  ERROR_MSGS,\n} from \"./consts\";\n\nexport const PMD_SERVICE_ID = \"fb005c80-02e7-f387-1cad-8acd2d8df0c8\";\nexport const PMD_CTRL_CHAR = \"fb005c81-02e7-f387-1cad-8acd2d8df0c8\";\nexport const PMD_DATA_CHAR = \"fb005c82-02e7-f387-1cad-8acd2d8df0c8\";\n\nexport const HEART_RATE_SERVICE_UUID = \"0000180d-0000-1000-8000-00805f9b34fb\"; // or '0x180D'\nexport const HEART_RATE_MEASUREMENT_CHARACTERISTIC_UUID =\n  \"00002a37-0000-1000-8000-00805f9b34fb\"; // or '0x2A37'\n\nexport const SERVICES = [\n  PMD_SERVICE_ID,\n  HEART_RATE_SERVICE_UUID,\n  \"battery_service\",\n];\n\nexport enum PolarSensorType {\n  ECG = 0,\n  PPG = 1,\n  ACC = 2,\n  PPI = 3,\n  GYRO = 5,\n  MAGNETOMETER = 6,\n  SDK_MODE = 9,\n  LOCATION = 10,\n  PRESSURE = 11,\n  TEMPERATURE = 12,\n}\n\nexport type PolarH10Data = {\n  type: (typeof PolarSensorNames)[number];\n  samples?: Int16Array | Int32Array;\n  sample_timestamp_ms: number;\n  prev_sample_timestamp_ms: number;\n  recv_epoch_time_ms: number;\n  event_time_offset_ms: number;\n  epoch_timestamps_ms?: Float64Array;\n};\n\nexport type PolarSensorHandlerFunc = (data: PolarH10Data) => void;\nexport type HeartRateHandlerFunc = (data: HeartRateInfo) => void;\nexport type BattLevelHandlerFunc = (data: number) => void;\n\nexport interface DataHandlerDict {\n  [key: (typeof PolarSensorNames)[number]]: PolarSensorHandlerFunc[];\n}\n\nexport interface HeartRateInfo {\n  heart_rate_bpm: number;\n  rr_intervals_ms: number[];\n  recv_epoch_time_ms: number;\n}\n\nexport type HeartRateHandlers = HeartRateHandlerFunc[];\nexport type BattLevelHandlers = BattLevelHandlerFunc[];\n\nexport const PolarSettingNames = Object.keys(PolarSettingType).filter((t) =>\n  isNaN(Number(t)),\n);\n\nexport const PolarSensorNames = Object.keys(PolarSensorType).filter((t) =>\n  isNaN(Number(t)),\n);\n\nexport const PolarPMDCommandNames = Object.keys(PolarPMDCommand).filter((t) =>\n  isNaN(Number(t)),\n);\n\ntype PolarSettingNameKeys = (typeof PolarSettingNames)[number];\n\nexport interface PolarSensorInfo {\n  type: (typeof PolarPMDCommandNames)[number];\n  error: (typeof ERROR_MSGS)[number];\n  more_frames: number;\n  settings: Record<PolarSettingNameKeys, number[] | number[][]>;\n}\n\nexport interface PMDCtrlReply {\n  type: (typeof PolarPMDCommandNames)[number];\n  sensor: (typeof PolarSensorNames)[number];\n  error: (typeof ERROR_MSGS)[number];\n  more_frames: number;\n  reserved?: number;\n}\n\nexport class PolarH10 {\n  device: BluetoothDevice;\n  server: BluetoothRemoteGATTServer | undefined = undefined;\n  PMDService: BluetoothRemoteGATTService | undefined = undefined;\n  PMDCtrlChar: BluetoothRemoteGATTCharacteristic | undefined = undefined;\n  PMDDataChar: BluetoothRemoteGATTCharacteristic | undefined = undefined;\n  BattService: BluetoothRemoteGATTService | undefined = undefined;\n  BattLvlChar: BluetoothRemoteGATTCharacteristic | undefined = undefined;\n  HeartRateService: BluetoothRemoteGATTService | undefined = undefined;\n  HeartRateChar: BluetoothRemoteGATTCharacteristic | undefined = undefined;\n  streaming: boolean = false;\n  verbose: boolean = true;\n  dataHandleDict: DataHandlerDict = {};\n  heartRateHandleList: HeartRateHandlers = [];\n  battLevelHandleList: BattLevelHandlers = [];\n  timeOffset: bigint = BigInt(0);\n  eventTimeOffset: number;\n  lastECGTimestamp: number;\n  lastACCTimestamp: number;\n  ACCStarted: boolean = false;\n  ECGStarted: boolean = false;\n  battLvl: number;\n\n  constructor(device: BluetoothDevice, verbose: boolean = true) {\n    this.device = device;\n    this.verbose = verbose;\n    this.lastECGTimestamp = 0;\n    this.lastACCTimestamp = 0;\n    this.ACCStarted = false;\n    this.ECGStarted = false;\n    for (let i = 0; i < PolarSensorNames.length; i++) {\n      this.dataHandleDict[PolarSensorNames[i]] = [];\n    }\n  }\n\n  addEventListener(\n    type: (typeof PolarSensorNames)[number],\n    handler: PolarSensorHandlerFunc,\n  ) {\n    if (!this.dataHandleDict[type].includes(handler)) {\n      this.dataHandleDict[type].push(handler);\n    }\n  }\n\n  addHeartRateEventListener(handler: HeartRateHandlerFunc) {\n    if (!this.heartRateHandleList.includes(handler)) {\n      this.heartRateHandleList.push(handler);\n    }\n  }\n\n  addBatteryLevelEventListener(handler: BattLevelHandlerFunc) {\n    if (!this.battLevelHandleList.includes(handler)) {\n      this.battLevelHandleList.push(handler);\n    }\n  }\n\n  removeEventListener(\n    type: (typeof PolarSensorNames)[number],\n    handler: PolarSensorHandlerFunc,\n  ) {\n    let index = this.dataHandleDict[type].indexOf(handler);\n    if (index > -1) {\n      this.dataHandleDict[type].splice(index, 1);\n    }\n    return index;\n  }\n\n  removeHeartRateEventListener(handler: HeartRateHandlerFunc) {\n    let index = this.heartRateHandleList.indexOf(handler);\n    if (index > -1) {\n      this.heartRateHandleList.splice(index, 1);\n    }\n    return index;\n  }\n\n  clearEventListner(type: (typeof PolarSensorNames)[number]) {\n    delete this.dataHandleDict[type];\n    this.dataHandleDict[type] = [];\n  }\n\n  log(...o: any[]) {\n    if (this.verbose) {\n      console.log(...o);\n    }\n  }\n\n  async init() {\n    this.server = await this.device.gatt?.connect();\n    this.log(`Connecting to ${this.device.name} GATT server...`);\n    this.PMDService = await this.server?.getPrimaryService(PMD_SERVICE_ID);\n    this.log(`  Got PMD Service`);\n    this.PMDCtrlChar = await this.PMDService?.getCharacteristic(PMD_CTRL_CHAR);\n    this.log(`    Got PMD control characteristic`);\n    await this.PMDCtrlChar?.startNotifications();\n    this.log(`    Start notification`);\n    this.PMDDataChar = await this.PMDService?.getCharacteristic(PMD_DATA_CHAR);\n    this.log(`    Got PMD data characteristic`);\n    await this.PMDDataChar?.startNotifications();\n    this.log(`    Start notification`);\n    this.streaming = false;\n    this.BattService = await this.server?.getPrimaryService(\"battery_service\");\n    this.log(`  Got battery Service`);\n    this.BattLvlChar =\n      await this.BattService?.getCharacteristic(\"battery_level\");\n    this.log(`    Got battery level characteristic`);\n    await this.BattLvlChar?.startNotifications();\n    this.log(`    Start notification`);\n\n    this.HeartRateService = await this.server?.getPrimaryService(\n      HEART_RATE_SERVICE_UUID,\n    );\n    this.log(`  Got heart rate Service`);\n    this.HeartRateChar = await this.HeartRateService?.getCharacteristic(\n      HEART_RATE_MEASUREMENT_CHARACTERISTIC_UUID,\n    );\n    await this.HeartRateChar?.startNotifications();\n    this.log(`    Start notification`);\n\n    this.PMDDataChar?.addEventListener(\n      \"characteristicvaluechanged\",\n      this.PMDDataHandle.bind(this),\n    );\n\n    this.HeartRateChar?.addEventListener(\n      \"characteristicvaluechanged\",\n      this.HearRateHandle.bind(this),\n    );\n\n    this.BattLvlChar?.addEventListener(\n      \"characteristicvaluechanged\",\n      this.BatteryLevelHandle.bind(this),\n    );\n  }\n\n  PMDCtrlCharHandle(event: any) {\n    this.log(event);\n  }\n\n  PMDCtrlDataHandle(event: Event) {\n    this.log(event);\n  }\n\n  async getBatteryLevel(): Promise<number> {\n    let battRead = await this.BattLvlChar?.readValue();\n    if (battRead) {\n      return battRead.getUint8(0);\n    } else {\n      return 0;\n    }\n  }\n\n  async getPMDFeatures(): Promise<typeof PolarSensorNames> {\n    const PMEFeatures: DataView | undefined =\n      await this.PMDCtrlChar?.readValue();\n    const featureList: typeof PolarSensorNames = [];\n    if (PMEFeatures !== undefined) {\n      if (PMEFeatures.byteLength === 17) {\n        if (PMEFeatures.getUint8(0) === 0xf) {\n          const feature_num = PMEFeatures.getUint8(1);\n          for (let i = 0; i < PolarSensorNames.length; i++) {\n            const sensor_name = PolarSensorNames[i];\n            if ((feature_num >> PolarSensorType[sensor_name]) & 0x01) {\n              featureList.push(sensor_name);\n            }\n          }\n        }\n      }\n    }\n\n    return featureList;\n  }\n\n  async getSensorSettingsFromName(\n    sensorName: keyof typeof PolarSensorType,\n  ): Promise<PolarSensorInfo | undefined> {\n    return this.getSensorSettingsFromId(PolarSensorType[sensorName]);\n  }\n\n  parseSensorSettings(val: DataView) {\n    if (\n      val.getUint8(0) == 0xf0 &&\n      val.getUint8(1) == PolarPMDCommand.GET_MEASUREMENT_SETTINGS\n    ) {\n      const info: PolarSensorInfo = {\n        type: PolarSensorType[val.getUint8(2)],\n        error: ERROR_MSGS[val.getUint8(3)],\n        more_frames: val.getUint8(4),\n        settings: {},\n      };\n      let i = 5;\n      while (i < val.byteLength) {\n        const setting_type = val.getUint8(i);\n        i += 1;\n        const arr_len = val.getUint8(i);\n        i += 1;\n        const setting_name = PolarSettingType[setting_type];\n        info.settings[setting_name] = [];\n        for (let arr_i = 0; arr_i < arr_len; arr_i++) {\n          info.settings[setting_name].push(\n            setting_parsers[setting_name](val, i),\n          );\n          i += setting_parser_offsets[setting_name];\n        }\n      }\n      return info;\n    }\n  }\n\n  async getSensorSettingsFromId(\n    sensorId: PolarSensorType,\n  ): Promise<PolarSensorInfo | undefined> {\n    if (!this.streaming) {\n      let sensorSettingPromiseRSLV: (value: any | PromiseLike<any>) => void;\n      const sensorSettingPromise: Promise<PolarSensorInfo | undefined> =\n        new Promise((rslv, rjct) => {\n          sensorSettingPromiseRSLV = rslv;\n        });\n      const PMDSensorSettingHandle = (event: any) => {\n        const val: DataView = event?.target?.value;\n        sensorSettingPromiseRSLV(this.parseSensorSettings(val));\n      };\n      this.PMDCtrlChar?.addEventListener(\n        \"characteristicvaluechanged\",\n        PMDSensorSettingHandle,\n        { once: true },\n      );\n      const cmd_buf = new Uint8Array([\n        PolarPMDCommand.GET_MEASUREMENT_SETTINGS,\n        sensorId,\n      ]);\n      await this.PMDCtrlChar?.writeValue(cmd_buf);\n      return await sensorSettingPromise;\n    }\n  }\n\n  HearRateHandle(event: any) {\n    if (this.heartRateHandleList.length > 0) {\n      const val: DataView = event.target.value;\n\n      const hear_rate_info: HeartRateInfo = {\n        heart_rate_bpm: -1,\n        rr_intervals_ms: [],\n        recv_epoch_time_ms: event.timeStamp + performance.timeOrigin,\n      };\n      const flags = val.getUint8(0);\n      let offset = 1;\n\n      // Determine if HR format is 8-bit (0) or 16-bit (1) based on the first flag bit\n      const heartRateFormat = flags & 0x01;\n\n      if (heartRateFormat === 1) {\n        hear_rate_info.heart_rate_bpm = val.getUint16(offset, true); // 16-bit, little-endian\n        offset += 2;\n      } else {\n        hear_rate_info.heart_rate_bpm = val.getUint8(offset); // 8-bit\n        offset += 1;\n      }\n\n      // Check if R-R intervals are present (Bit 4, val 16)\n      const rrIntervalPresent = (flags & 0x10) !== 0;\n      // const rrIntervals = [];\n\n      if (rrIntervalPresent) {\n        // Read 16-bit R-R intervals until the end of the data view\n        while (offset < val.byteLength) {\n          const rawRrInterval = val.getUint16(offset, true);\n          // Convert raw 1/1024 second units to milliseconds\n          const rrIntervalMs = (rawRrInterval / 1024.0) * 1000.0;\n          hear_rate_info.rr_intervals_ms.push(rrIntervalMs); // Format to 2 decimal places\n          offset += 2;\n        }\n      }\n\n      for (const handler of this.heartRateHandleList) {\n        handler(hear_rate_info);\n      }\n    }\n  }\n\n  BatteryLevelHandle(event: any) {\n    this.battLvl = event.target.value.getUint8();\n    if (this.battLevelHandleList.length > 0) {\n      for (const handler of this.battLevelHandleList) {\n        handler(this.battLvl);\n      }\n    }\n  }\n\n  PMDDataHandle(event: any) {\n    const val: DataView = event.target.value;\n    const dataTimeStamp = val.getBigUint64(1, true);\n    if (this.timeOffset === BigInt(0)) {\n      this.timeOffset = dataTimeStamp;\n      this.eventTimeOffset = event.timeStamp + performance.timeOrigin;\n    }\n    const offset_timestamp = Number(dataTimeStamp - this.timeOffset) / 1e6;\n    const type = val.getUint8(0);\n    const frame_type = val.getUint8(9);\n\n    const dataFrame: PolarH10Data = {\n      type: PolarSensorType[type],\n      sample_timestamp_ms: offset_timestamp,\n      prev_sample_timestamp_ms: 0,\n      recv_epoch_time_ms: event.timeStamp + performance.timeOrigin,\n      event_time_offset_ms: this.eventTimeOffset,\n    };\n    let estimated_sample_interval = 0;\n    let s_i_delta = 1;\n    switch (type) {\n      case PolarSensorType.ACC:\n        if (frame_type == 1) {\n          dataFrame.samples = new Int16Array(val.buffer.slice(10));\n          dataFrame.prev_sample_timestamp_ms = this.lastACCTimestamp;\n          this.lastACCTimestamp = offset_timestamp;\n          s_i_delta = 3;\n        }\n\n        break;\n      case PolarSensorType.ECG:\n        if (frame_type === 0) {\n          const numFrames = Math.floor((val.byteLength - 10) / 3);\n          dataFrame.samples = new Int32Array(numFrames);\n          for (let i = 10; i < val.byteLength; i += 3) {\n            let d =\n              (val.getUint8(i + 2) << 16) |\n              (val.getUint8(i + 1) << 8) |\n              val.getUint8(i);\n            if (d & 0x800000) {\n              d |= 0xff000000;\n            }\n            dataFrame.samples[Math.floor((i - 10) / 3)] = d;\n          }\n          dataFrame.prev_sample_timestamp_ms = this.lastECGTimestamp;\n          this.lastECGTimestamp = offset_timestamp;\n          s_i_delta = 1;\n        }\n        break;\n    }\n    if (\n      dataFrame.samples !== undefined &&\n      this.dataHandleDict[PolarSensorType[type]].length > 0\n    ) {\n      estimated_sample_interval =\n        (dataFrame.sample_timestamp_ms - dataFrame.prev_sample_timestamp_ms) /\n        (dataFrame.samples.length / s_i_delta);\n      if (estimated_sample_interval > 0) {\n        let timeOffset =\n          dataFrame.event_time_offset_ms + dataFrame.prev_sample_timestamp_ms;\n        const numFrame = Math.floor(dataFrame.samples.length / s_i_delta);\n        dataFrame.epoch_timestamps_ms = new Float64Array(numFrame);\n        for (let i = 0; i < numFrame; i++) {\n          timeOffset += estimated_sample_interval;\n          dataFrame.epoch_timestamps_ms[i] = timeOffset;\n        }\n        for (const handler of this.dataHandleDict[PolarSensorType[type]]) {\n          handler(dataFrame);\n        }\n      }\n    }\n  }\n\n  parseCtrlReply(val: DataView): PMDCtrlReply | undefined {\n    if (val.getUint8(0) === 0xf0) {\n      const polar_cmd = val.getUint8(1);\n      if (\n        polar_cmd === PolarPMDCommand.REQUEST_MEASUREMENT_START ||\n        polar_cmd === PolarPMDCommand.REQUEST_MEASUREMENT_STOP\n      ) {\n        const startReply: PMDCtrlReply = {\n          type: PolarPMDCommand[polar_cmd],\n          sensor: PolarSensorType[val.getUint8(2)],\n          error: ERROR_MSGS[val.getUint8(3)],\n          more_frames: val.getUint8(4),\n        };\n        if (val.byteLength > 5) {\n          startReply.reserved = val.getUint8(5);\n        }\n        return startReply;\n      }\n    }\n  }\n\n  async startHeartRate() {\n    await this.HeartRateChar?.startNotifications();\n  }\n\n  async stopheartRate() {\n    await this.HeartRateChar?.stopNotifications();\n  }\n\n  async startACC(\n    rangeG: number = 4,\n    sample_rate: number = 100,\n    resolution: number = 16,\n  ): Promise<PMDCtrlReply | undefined> {\n    if (this.ACCStarted) {\n      return;\n    }\n\n    let startACCRSLV: (value: any | PromiseLike<any>) => void;\n    const startACCPromise: Promise<PMDCtrlReply | undefined> = new Promise(\n      (rslv, rjct) => {\n        startACCRSLV = rslv;\n      },\n    );\n    const PMDSensorSettingHandle = (event: any) => {\n      this.log(\"PMDSensorSettingHandle\");\n      const val: DataView = event?.target?.value;\n      startACCRSLV(this.parseCtrlReply(val));\n    };\n    this.PMDCtrlChar?.addEventListener(\n      \"characteristicvaluechanged\",\n      PMDSensorSettingHandle,\n      { once: true },\n    );\n\n    const cmd_buf = new Uint8Array(14);\n    const cmd_buf_dataview = new DataView(cmd_buf.buffer);\n    cmd_buf[0] = PolarPMDCommand.REQUEST_MEASUREMENT_START;\n    cmd_buf[1] = PolarSensorType.ACC;\n\n    cmd_buf[2] = PolarSettingType.RANGE_PN_UNIT;\n    cmd_buf[3] = 1;\n    cmd_buf_dataview.setUint16(4, rangeG, true);\n\n    cmd_buf[6] = PolarSettingType.SAMPLE_RATE;\n    cmd_buf[7] = 1;\n    cmd_buf_dataview.setUint16(8, sample_rate, true);\n\n    cmd_buf[10] = PolarSettingType.RESOLUTION;\n    cmd_buf[11] = 1;\n    cmd_buf_dataview.setUint16(12, resolution, true);\n\n    await this.PMDCtrlChar?.writeValue(cmd_buf);\n    const startReply: PMDCtrlReply | undefined = await startACCPromise;\n    if (startReply?.error === ERROR_MSGS[0]) {\n      this.ACCStarted = true;\n    }\n    return startReply;\n  }\n\n  async startECG(\n    sample_rate: number = 130,\n    resolution: number = 14,\n  ): Promise<PMDCtrlReply | undefined> {\n    if (this.ECGStarted) {\n      return;\n    }\n    let startECGRSLV: (value: any | PromiseLike<any>) => void;\n    const startECGPromise: Promise<PMDCtrlReply | undefined> = new Promise(\n      (rslv, rjct) => {\n        startECGRSLV = rslv;\n      },\n    );\n    const PMDSensorSettingHandle = (event: any) => {\n      this.log(\"PMDSensorSettingHandle\");\n      const val: DataView = event?.target?.value;\n      startECGRSLV(this.parseCtrlReply(val));\n    };\n    this.PMDCtrlChar?.addEventListener(\n      \"characteristicvaluechanged\",\n      PMDSensorSettingHandle,\n      { once: true },\n    );\n\n    const cmd_buf = new Uint8Array(10);\n    const cmd_buf_dataview = new DataView(cmd_buf.buffer);\n    cmd_buf[0] = PolarPMDCommand.REQUEST_MEASUREMENT_START;\n    cmd_buf[1] = PolarSensorType.ECG;\n\n    cmd_buf[2] = PolarSettingType.RESOLUTION;\n    cmd_buf[3] = 1;\n    cmd_buf_dataview.setUint16(4, resolution, true);\n\n    cmd_buf[6] = PolarSettingType.SAMPLE_RATE;\n    cmd_buf[7] = 1;\n    cmd_buf_dataview.setUint16(8, sample_rate, true);\n\n    await this.PMDCtrlChar?.writeValue(cmd_buf);\n    const startReply: PMDCtrlReply | undefined = await startECGPromise;\n    if (startReply?.error === ERROR_MSGS[0]) {\n      this.ECGStarted = true;\n    }\n    return startReply;\n  }\n\n  async stopECG() {\n    if (!this.ECGStarted) {\n      return;\n    }\n    const endReply: PMDCtrlReply | undefined = await this.stopSensor(\n      PolarSensorType.ECG,\n    );\n    if (endReply?.error === ERROR_MSGS[0]) {\n      this.ECGStarted = false;\n    }\n    return endReply;\n  }\n\n  async stopACC() {\n    if (!this.ACCStarted) {\n      return;\n    }\n    const endReply: PMDCtrlReply | undefined = await this.stopSensor(\n      PolarSensorType.ACC,\n    );\n    if (endReply?.error === ERROR_MSGS[0]) {\n      this.ACCStarted = false;\n    }\n    return endReply;\n  }\n\n  async stopSensor(sensorType: PolarSensorType) {\n    let endSensorRSLV: (value: any | PromiseLike<any>) => void;\n    const endACCPromise: Promise<PMDCtrlReply | undefined> = new Promise(\n      (rslv, rjct) => {\n        endSensorRSLV = rslv;\n      },\n    );\n    const PMDSensorSettingHandle = (event: any) => {\n      const val: DataView = event?.target?.value;\n      endSensorRSLV(this.parseCtrlReply(val));\n    };\n\n    this.PMDCtrlChar?.addEventListener(\n      \"characteristicvaluechanged\",\n      PMDSensorSettingHandle,\n      { once: true },\n    );\n\n    const cmd_buf = new Uint8Array(2);\n    cmd_buf[0] = PolarPMDCommand.REQUEST_MEASUREMENT_STOP;\n    cmd_buf[1] = sensorType;\n    await this.PMDCtrlChar?.writeValue(cmd_buf);\n    return await endACCPromise;\n  }\n}\n", "import { IChartOptions, ITimeSeriesPresentationOptions } from \"smoothie\";\n\n// export const HEART_RATE_SERVICE_UUID = \"0000180d-0000-1000-8000-00805f9b34fb\";\n// export const HEART_RATE_MEASUREMENT_CHARACTERISTIC_UUID =\n//   \"00002a37-0000-1000-8000-00805f9b34fb\";\n\nexport const BODY_PARTS = [\n  \"\",\n  \"LShoulder\",\n  \"RShoulder\",\n  \"LUpperArm\",\n  \"RUpperArm\",\n  \"LLowerArm\",\n  \"RLowerArm\",\n  \"Chest\",\n  \"Heart\",\n  \"MiddleSpine\",\n  \"LowerSpine\",\n  \"Hip\",\n  \"LThigh\",\n  \"RThigh\",\n];\n\nexport const HEART_INDEX = BODY_PARTS.indexOf(\"Heart\");\nconst date2000 = new Date(\"2000-01-01T00:00:00Z\");\nconst date2018 = new Date(\"2018-01-01T00:00:00Z\");\nexport const EPOCH2000_OFFSET_MS = date2000.valueOf();\nexport const EPOCH2000_OFFSET_NS = BigInt(EPOCH2000_OFFSET_MS) * BigInt(1e6);\nexport const EPOCH2018_OFFSET_MS = date2018.valueOf();\nexport const EPOCH2018_OFFSET_NS = BigInt(EPOCH2018_OFFSET_MS) * BigInt(1e6);\nexport const EXTRA_OFFSET_NS = EPOCH2018_OFFSET_NS - EPOCH2000_OFFSET_NS;\nconst EXTRA_OFFSET_MS_WHOLE = EXTRA_OFFSET_NS / BigInt(1e6);\nconst EXTRA_OFFSET_MS_DECIMAL =\n  Number(EXTRA_OFFSET_NS - EXTRA_OFFSET_MS_WHOLE * BigInt(1e6)) / 1e6;\nexport const EXTRA_OFFSET_MS =\n  EXTRA_OFFSET_MS_DECIMAL + Number(EXTRA_OFFSET_MS_DECIMAL);\n\nexport const ERROR_MSGS = [\n  \"SUCCESS\",\n  \"INVALID OP CODE\",\n  \"INVALID MEASUREMENT TYPE\",\n  \"NOT SUPPORTED\",\n  \"INVALID LENGTH\",\n  \"INVALID PARAMETER\",\n  \"ALREADY IN STATE\",\n  \"INVALID RESOLUTION\",\n  \"INVALID SAMPLE RATE\",\n  \"INVALID RANGE\",\n  \"INVALID MTU\",\n  \"INVALID NUMBER OF CHANNELS\",\n  \"INVALID STATE\",\n  \"DEVICE IN CHARGER\",\n];\n\nexport const SCROLL_MAX_LIMIT_FACTOR = 5;\nexport const LOW_BATT_LVL = 35;\n\nexport const ECG_STREAM_DELAY_MS = 600;\nexport const ECG_FILTER_MIN = -120;\nexport const ECG_FILTER_MAX = 120;\nexport const ECG_RMS_MIN = 0;\nexport const ECG_RMS_MAX = 120;\nexport const ECG_HIGHLOWPASS_CUTOFF_HZ = 25;\nexport const ECG_BANDPASS_LOW_CUT_HZ = 1;\nexport const ECG_BANDPASS_HIGH_CUT_HZ = 20;\nexport const ECG_FILTER_ORDER = 4;\nexport const ECG_SAMPLE_RATE_HZ = 130;\nexport const ECG_FILTER_SCROLL_MIN = 5;\nexport const ECG_RMS_SCROLL_MIN = 5;\nexport const ECG_DELTA = 1;\nexport const ECG_RMS_WIN_MIN_MS = 20;\nexport const ECG_RMS_WIN_MAX_MS = 800;\nexport const ECG_RMS_WIN_STEP_MS = 10;\nexport const ECG_RMS_WINDOW_MS = 200;\nexport const ECG_RMS_WINDOW_SIZE = Math.round(\n  ECG_SAMPLE_RATE_HZ / (1000 / ECG_RMS_WINDOW_MS),\n);\nexport const ECG_BAND_LOW_MIN_HZ = 0.7;\nexport const ECG_BAND_HIGH_MAX_HZ = 40;\nexport const ECG_BAND_HIGH_STEP_HZ = 0.1;\n\nexport const ACC_BAND_LOW_MIN_HZ = 0.1;\nexport const ACC_BAND_HIGH_MAX_HZ = 100;\nexport const ACC_BAND_HIGH_STEP_HZ = 0.1;\n\nexport const ACC_STREAM_DELAY_MS = 600;\nexport const ACC_RANGE_OPTIONS = [2, 4, 8];\nexport const ACC_SAMPLE_RATE_OPTIONS = [25, 50, 100, 200];\nexport const ACC_SAMPLE_RATE_HZ = 100;\nexport const ACC_RANGE_G = 4;\nexport const ACC_MIN = -2000;\nexport const ACC_MAX = 2000;\nexport const AAC_LOWPASS_CUTOFF_HZ = 10;\nexport const AAC_LOWPASS_ORDER = 4;\nexport const SCROLL_LEGENT_DISP_TIME_MS = 1500;\nexport const ACC_DELTA = 10;\nexport const ACC_SCROLL_MIN = 100;\n\nexport const AAC_FILTER_BANDPASS_HIGH_CUT_HZ = 2.5;\nexport const AAC_FILTER_BANDPASS_LOW_CUT_HZ = 0.1;\nexport const ACC_FILTER_HIGHLOWPASS_CUTOFF_HZ = AAC_FILTER_BANDPASS_HIGH_CUT_HZ;\nexport const AAC_FILTER_ORDER = 4;\nexport const ACC_FILTER_MIN = -1000;\nexport const ACC_FILTER_MAX = 1000;\nexport const ACC_MAG_DELTA = 1;\nexport const ACC_MAG_SCROLL_MIN = 1;\nexport const DEFAULT_MILLIS_PER_PX = 8;\n\nexport const ECG_STREAM_DELAY_MIN_MS = 0;\nexport const ECG_STREAM_DELAY_MAX_MS = 800;\nexport const ECG_STREAM_DELAY_STEP_MS = 1;\nexport const ECG_MS_PER_PX_MIN = 1;\nexport const ECG_MS_PER_PX_MAX = 30;\nexport const ECG_MS_PER_PX_STEP = 0.1;\nexport const ACC_STREAM_DELAY_MIN_MS = 0;\nexport const ACC_STREAM_DELAY_MAX_MS = 800;\nexport const ACC_STREAM_DELAY_STEP_MS = 1;\nexport const ACC_MS_PER_PX_MIN = 1;\nexport const ACC_MS_PER_PX_MAX = 30;\nexport const ACC_MS_PER_PX_STEP = 0.1;\n\nexport const DEFAULT_ECG_LINE_CHART_OPTION: IChartOptions = {\n  limitFPS: 60,\n  grid: {\n    strokeStyle: \"#484f58\",\n    fillStyle: \"#000000\",\n    lineWidth: 1,\n    millisPerLine: 1000,\n    borderVisible: false,\n  },\n  title: {\n    text: \"EXG raw voltage (0.7\u201340 Hz)\",\n    fontFamily: \"Arial\",\n    verticalAlign: \"bottom\",\n    fillStyle: \"#ffffff80\",\n    fontSize: 14,\n  },\n  responsive: false,\n  nonRealtimeData: true,\n  millisPerPixel: DEFAULT_MILLIS_PER_PX,\n  scaleSmoothing: 0.1,\n  tooltip: false,\n  minValueScale: 1,\n  maxValueScale: 1,\n};\n\nexport const DEFAULT_ACC_LINE_CHART_OPTION: IChartOptions = {\n  limitFPS: 60,\n  minValue: ACC_MIN,\n  maxValue: ACC_MAX,\n  grid: {\n    strokeStyle: \"#484f58\",\n    fillStyle: \"#000000\",\n    lineWidth: 1,\n    millisPerLine: 1000,\n    borderVisible: false,\n  },\n  title: {\n    text: \"Accelerometer raw\",\n    fontFamily: \"Arial\",\n    verticalAlign: \"bottom\",\n    fillStyle: \"#ffffff80\",\n    fontSize: 14,\n  },\n  labels: {\n    disabled: false,\n  },\n  responsive: false,\n  nonRealtimeData: true,\n  millisPerPixel: DEFAULT_MILLIS_PER_PX,\n  scaleSmoothing: 0.1,\n  tooltip: false,\n  minValueScale: 1,\n  maxValueScale: 1,\n};\n\nexport const ECG_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#fbfbfbcc\",\n};\n\nexport const ECG_FILTER_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#ffdcaacc\",\n};\n\nexport const ECG_RMS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#dcaaffcc\",\n  fillStyle: \"#f0beff99\",\n};\n\nexport const X_AXIS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#ff453acc\",\n};\n\nexport const Y_AXIS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#32ff4bcc\",\n};\n\nexport const Z_AXIS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#0a84ffcc\",\n};\n\nexport const X_LP_AXIS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#ff776ccc\",\n};\n\nexport const Y_LP_AXIS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#64ff7dcc\",\n};\n\nexport const Z_LP_AXIS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#3cb6ffcc\",\n};\n\nexport const RHO_AXIS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#6effffcc\",\n};\n\nexport const PHI_AXIS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#ff70ffcc\",\n};\n\nexport const THETA_AXIS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#ffff78cc\",\n};\n\nexport const MAG_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#fbfbfbcc\",\n};\n\nexport const MAG_LP_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#ffdcaacc\",\n};\n\nexport const X_FILTER_AXIS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions =\n  {\n    lineWidth: 2,\n    interpolation: \"linear\",\n    strokeStyle: \"#f0883e\",\n  };\n\nexport const Y_FILTER_AXIS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions =\n  {\n    lineWidth: 2,\n    interpolation: \"linear\",\n    strokeStyle: \"#f778ba\",\n  };\n\nexport const Z_FILTER_AXIS_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions =\n  {\n    lineWidth: 2,\n    interpolation: \"linear\",\n    strokeStyle: \"#388afd\",\n  };\n\nexport const MAG_FILTER_PRESENTATION_OPTIONS: ITimeSeriesPresentationOptions = {\n  lineWidth: 2,\n  interpolation: \"linear\",\n  strokeStyle: \"#aadcffcc\",\n};\n\nexport enum PolarSensorType {\n  ECG = 0,\n  PPG = 1,\n  ACC = 2,\n  PPI = 3,\n  GYRO = 5,\n  MAGNETOMETER = 6,\n  SDK_MODE = 9,\n  LOCATION = 10,\n  PRESSURE = 11,\n  TEMPERATURE = 12,\n}\n\nexport const PolarSensorNames = Object.keys(PolarSensorType).filter((t) =>\n  isNaN(Number(t)),\n);\n\n// export interface PolarH10Data {\n//   epoch_timestamps_ms: any;\n//   type: (typeof PolarSensorNames)[number];\n//   samples?: Int16Array | Int32Array;\n//   sample_timestamp_ms: number;\n//   prev_sample_timestamp_ms: number;\n//   recv_epoch_time_ms: number;\n//   event_time_offset_ms: number;\n// }\n\nexport const FILTER_TYPES = [\"lowpass\", \"highpass\", \"bandpass\"];\nexport const FILTER_CHARACTERISTICS = [\"butterworth\", \"bessel\"];\nexport interface FilterInfo {\n  type: (typeof FILTER_TYPES)[number];\n  order: 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12;\n  characteristic: (typeof FILTER_CHARACTERISTICS)[number];\n  Fs: number;\n  Fc?: number;\n  Fl?: number;\n  Fh?: number;\n  BW?: number;\n  gain?: number;\n  preGain: boolean | number;\n}\n", "import {\n  createPolarVisRow,\n  PolarVisRow,\n  startRecording,\n  stopRecording,\n  createButtonIcon,\n} from \"./PolarH10VisualizerRow\";\n\n// import { HEART_RATE_SERVICE_UUID } from \"./consts\";\nimport { SERVICES } from \"polar-h10\";\n\nconst webapp_container = document.createElement(\"div\");\nwebapp_container.id = \"webapp_container\";\nwebapp_container.classList.add(\"container\");\ndocument.body.appendChild(webapp_container);\n\nconst top_bar_div = document.createElement(\"div\");\ntop_bar_div.id = \"top_bar_div\";\nwebapp_container.appendChild(top_bar_div);\n\nconst title = document.createElement(\"h3\");\ntitle.textContent = \"Polar H10 raw data visualizer\";\ntitle.classList.add(\"title\");\ntop_bar_div.appendChild(title);\ntop_bar_div.classList.add(\"center\");\n\nfunction no_suffix() {\n  return undefined;\n}\n\nconst ble_conn_btn = createButtonIcon(\n  \"plus\",\n  \"ble_connect_btn\",\n  top_bar_div,\n  false,\n  bleConnectHandle,\n  [\n    \"btn\",\n    \"btn-primary\",\n    \"btn-action\",\n    \"s-circle\",\n    \"ble-conn\",\n    \"tooltip\",\n    \"tooltip-right\",\n  ],\n  no_suffix,\n);\nble_conn_btn.setAttribute(\"data-tooltip\", \"Connect new Polar H10\");\n\nconst ble_disconnect_btn = createButtonIcon(\n  \"cross\",\n  \"ble_disconnect_btn\",\n  top_bar_div,\n  false,\n  stopStreamExit,\n  [\n    \"btn\",\n    \"btn-error\",\n    \"btn-action\",\n    \"s-circle\",\n    \"ble-conn\",\n    \"tooltip\",\n    \"tooltip-right\",\n  ],\n  no_suffix,\n);\nble_disconnect_btn.setAttribute(\n  \"data-tooltip\",\n  \"Stop all streams and disconnect\",\n);\nble_disconnect_btn.disabled = true;\n\nconst content = document.createElement(\"div\");\ncontent.id = \"content_div\";\ncontent.classList.add(\"flexbox\", \"content\");\nwebapp_container.appendChild(content);\n\nif (navigator.bluetooth === undefined) {\n  const debug_message = document.createElement(\"p\");\n\n  debug_message.innerHTML =\n    \"Web Bluetooth API is not present!<br>\\n\" +\n    \"Please make sure you are using the latest chrome/chromium based browser.<br>\\n\" +\n    'Also make sure to enable experimental-web-platform-features in your browser <a href=\"chrome://flags/#enable-experimental-web-platform-features\">chrome://flags/#enable-experimental-web-platform-features</a> ';\n  debug_message.setAttribute(\"style\", \"margin:5% 20%;font-size:1.4em;\");\n  content.appendChild(debug_message);\n\n  window.stop();\n}\n\nlet is_recording = false;\n\nconst record_btn = createButtonIcon(\n  \"radio_button_unchecked\",\n  \"record_btn\",\n  top_bar_div,\n  true,\n  onRecordClicked,\n  [\n    \"btn\",\n    \"btn-primary\",\n    \"btn-action\",\n    \"s-circle\",\n    \"record-conn\",\n    \"center\",\n    \"tooltip\",\n    \"tooltip-left\",\n  ],\n  no_suffix,\n);\n\nconst recording_icon = document.createElement(\"i\");\nrecording_icon.classList.add(\"material-icons\", \"hide\", \"red\");\nrecording_icon.textContent = \"radio_button_checked\";\nconst record_icon = record_btn.children[0];\n\nrecord_btn.appendChild(recording_icon);\nrecord_btn.disabled = true;\n\nfunction onRecordClicked(ev: any) {\n  if (is_recording) {\n    is_recording = false;\n    ble_conn_btn.disabled = false;\n    recording_icon.classList.add(\"hide\");\n    record_icon.classList.remove(\"hide\");\n    record_btn.setAttribute(\"data-tooltip\", \"Start recording\");\n    stopRecording();\n  } else {\n    is_recording = true;\n    ble_conn_btn.disabled = true;\n    record_icon.classList.add(\"hide\");\n    recording_icon.classList.remove(\"hide\");\n    record_btn.setAttribute(\"data-tooltip\", \"Stop recording\");\n    startRecording();\n  }\n}\n\nasync function bleConnectHandle() {\n  let device: BluetoothDevice;\n  try {\n    device = await navigator.bluetooth.requestDevice({\n      filters: [{ namePrefix: \"Polar\" }],\n      optionalServices: SERVICES,\n    });\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n  await createPolarVisRow(content, device);\n}\n\nasync function stopStreamExit() {\n  await PolarVisRow.disconnectAllPolarH10();\n  ble_disconnect_btn.disabled = true;\n  record_btn.disabled = true;\n}\n\nwindow.onbeforeunload = function (event) {\n  if (PolarVisRow.hasAnyActiveStream()) {\n    event.preventDefault();\n    event.returnValue = \"\";\n  } else {\n    window.close();\n  }\n};\n\nfunction location_reload() {\n  location.reload();\n  console.log(\"Page reloaded\");\n}\nif (!(window as any).IS_PRODUCTION) {\n  new EventSource(\"/esbuild\").addEventListener(\"change\", location_reload);\n}\n"],
  "mappings": "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c,aAAa,cAAc,cAAc,aAAa,cAAc,aAAa,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,aAAa,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,cAAc,aAAa,CAAC,EAAE,KAAK,CAAC,CAAC,aAAa,EAAE,CAAC,cAAc,aAAa,EAAE,CAAC,aAAa,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,aAAa,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,aAAa,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,aAAa,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,YAAY,CAAC,EAAE,KAAK,CAAC,CAAC,aAAa,EAAE,CAAC,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,aAAa,aAAa,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,aAAa,cAAc,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,cAAc,cAAc,aAAa,EAAE,CAAC,cAAc,cAAc,aAAa,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,cAAc,aAAa,CAAC,CAAC,CAAC,EAAEE,EAAE,CAAC,OAAO,CA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",
  "names": ["require_smoothie", "__commonJSMin", "exports", "Util", "i", "key", "data", "value", "low", "high", "mid", "position", "lineWidth", "TimeSeries", "options", "timestamp", "sumRepeatedTimeStampValues", "lastI", "iThData", "oldestValidTime", "maxDataSetLength", "removeCount", "SmoothieChart", "timestampFormatter", "elements", "label", "dataEl", "min", "precision", "max", "intermediate", "requestAnimationFrame", "callback", "element", "cancelAnimationFrame", "id", "timeSeries", "numSeries", "set", "canvas", "delayMillis", "el", "time", "t", "d", "closeIdx", "evt", "dpr", "width", "height", "animate", "dateZero", "maxTimeStamp", "series", "dataSet", "indexToCheck", "lastDataTimeStamp", "chartOptions", "chartMaxValue", "chartMinValue", "range", "targetValueRange", "valueRangeDiff", "minValueDiff", "nowMillis", "sameTime", "needToRenderInCaseCanvasResized", "context", "dimensions", "valueToYPosition", "offset", "unsnapped", "timeToXPosition", "gx", "v", "gy", "hl", "line", "hly", "seriesOptions", "drawStroke", "lineWidthMaybeZero", "firstX", "firstY", "lastX", "lastY", "draw", "x", "y", "labelsOptions", "maxValueString", "minValueString", "maxLabelPos", "minLabelPos", "step", "stepPixels", "yValue", "intermediateLabelPos", "textUntilX", "tx", "ts", "tsWidth", "titleXPos", "titleYPos", "date", "pad2", "number", "require_fili_min", "__commonJSMin", "exports", "module", "r", "t", "e", "n", "a", "i", "s", "__require", "u", "c", "o", "f", "l", "h", "p", "v", "b", "m", "d", "M", "g", "import_smoothie", "import_smoothie", "DEFAULT_ENABLE_COLOR", "DEFAULT_DISABLE_COLOR", "DEFAULT_LEGEND_FONT", "extractHeightFromFont", "fontStr", "SmoothieTSInfo", "timeseries", "tsPresOpts", "text", "textAlign", "x", "y", "on", "textBaseline", "font", "on_fillStyle", "off_fillStyle", "canvas", "ctx", "inRect", "rx", "rw", "ry", "rh", "CustomSmoothie", "option", "isRow", "enableRenderLegend", "allowToggleTooltip", "allowToggleLegend", "allowToggleLabelAuto", "ctrlFont", "defaultXSpacing", "defaultYSpacing", "scrollable", "ev", "i", "info", "width", "height", "delayMillis", "time", "last_render_time", "infos", "renderOffset", "prev_text_width", "textHeight", "timeserieses", "timeserieOptions", "legendInfos", "minValue", "maxValue", "minValueScale", "maxValueScale", "titleText", "disableLabel", "horizontalLines", "scrollTSInfo", "genSmoothieLegendInfo", "legend", "import_fili", "PolarSettingType", "parseUint16", "d", "offset", "little_endian", "parseFloat32", "parse4xUint16", "setting_parsers", "setting_parser_offsets", "PolarPMDCommand", "ERROR_MSGS", "PMD_SERVICE_ID", "PMD_CTRL_CHAR", "PMD_DATA_CHAR", "HEART_RATE_SERVICE_UUID", "HEART_RATE_MEASUREMENT_CHARACTERISTIC_UUID", "SERVICES", "PolarSensorType", "PolarSettingNames", "t", "PolarSensorNames", "PolarPMDCommandNames", "PolarH10", "device", "verbose", "i", "type", "handler", "index", "o", "event", "battRead", "PMEFeatures", "featureList", "feature_num", "sensor_name", "sensorName", "val", "info", "setting_type", "arr_len", "setting_name", "arr_i", "sensorId", "sensorSettingPromiseRSLV", "sensorSettingPromise", "rslv", "rjct", "PMDSensorSettingHandle", "cmd_buf", "hear_rate_info", "flags", "rrIntervalMs", "dataTimeStamp", "offset_timestamp", "frame_type", "dataFrame", "estimated_sample_interval", "s_i_delta", "numFrames", "timeOffset", "numFrame", "polar_cmd", "startReply", "rangeG", "sample_rate", "resolution", "startACCRSLV", "startACCPromise", "cmd_buf_dataview", "startECGRSLV", "startECGPromise", "endReply", "sensorType", "endSensorRSLV", "endACCPromise", "BODY_PARTS", "HEART_INDEX", "date2000", "date2018", "EPOCH2000_OFFSET_MS", "EPOCH2000_OFFSET_NS", "EPOCH2018_OFFSET_MS", "EPOCH2018_OFFSET_NS", "EXTRA_OFFSET_NS", "EXTRA_OFFSET_MS_WHOLE", "EXTRA_OFFSET_MS_DECIMAL", "EXTRA_OFFSET_MS", "SCROLL_MAX_LIMIT_FACTOR", "LOW_BATT_LVL", "ECG_STREAM_DELAY_MS", "ECG_FILTER_MIN", "ECG_FILTER_MAX", "ECG_RMS_MIN", "ECG_RMS_MAX", "ECG_HIGHLOWPASS_CUTOFF_HZ", "ECG_BANDPASS_LOW_CUT_HZ", "ECG_BANDPASS_HIGH_CUT_HZ", "ECG_FILTER_ORDER", "ECG_SAMPLE_RATE_HZ", "ECG_FILTER_SCROLL_MIN", "ECG_RMS_SCROLL_MIN", "ECG_DELTA", "ECG_RMS_WIN_MIN_MS", "ECG_RMS_WIN_MAX_MS", "ECG_RMS_WIN_STEP_MS", "ECG_RMS_WINDOW_MS", "ECG_RMS_WINDOW_SIZE", "ECG_BAND_LOW_MIN_HZ", "ECG_BAND_HIGH_MAX_HZ", "ECG_BAND_HIGH_STEP_HZ", "ACC_BAND_LOW_MIN_HZ", "ACC_BAND_HIGH_MAX_HZ", "ACC_BAND_HIGH_STEP_HZ", "ACC_STREAM_DELAY_MS", "ACC_RANGE_OPTIONS", "ACC_SAMPLE_RATE_OPTIONS", "ACC_SAMPLE_RATE_HZ", "ACC_RANGE_G", "ACC_MIN", "ACC_MAX", "AAC_LOWPASS_CUTOFF_HZ", "AAC_LOWPASS_ORDER", "ACC_DELTA", "ACC_SCROLL_MIN", "AAC_FILTER_BANDPASS_HIGH_CUT_HZ", "AAC_FILTER_BANDPASS_LOW_CUT_HZ", "AAC_FILTER_ORDER", "ACC_FILTER_MIN", "ACC_FILTER_MAX", "ACC_MAG_DELTA", "ACC_MAG_SCROLL_MIN", "DEFAULT_MILLIS_PER_PX", "ECG_STREAM_DELAY_MIN_MS", "ECG_STREAM_DELAY_MAX_MS", "ECG_STREAM_DELAY_STEP_MS", "ECG_MS_PER_PX_MIN", "ECG_MS_PER_PX_MAX", "ECG_MS_PER_PX_STEP", "ACC_STREAM_DELAY_MIN_MS", "ACC_STREAM_DELAY_MAX_MS", "ACC_STREAM_DELAY_STEP_MS", "ACC_MS_PER_PX_MIN", "ACC_MS_PER_PX_MAX", "ACC_MS_PER_PX_STEP", "DEFAULT_ECG_LINE_CHART_OPTION", "DEFAULT_ACC_LINE_CHART_OPTION", "ACC_MIN", "ACC_MAX", "ECG_PRESENTATION_OPTIONS", "ECG_FILTER_PRESENTATION_OPTIONS", "ECG_RMS_PRESENTATION_OPTIONS", "X_AXIS_PRESENTATION_OPTIONS", "Y_AXIS_PRESENTATION_OPTIONS", "Z_AXIS_PRESENTATION_OPTIONS", "X_LP_AXIS_PRESENTATION_OPTIONS", "Y_LP_AXIS_PRESENTATION_OPTIONS", "Z_LP_AXIS_PRESENTATION_OPTIONS", "RHO_AXIS_PRESENTATION_OPTIONS", "PHI_AXIS_PRESENTATION_OPTIONS", "THETA_AXIS_PRESENTATION_OPTIONS", "MAG_PRESENTATION_OPTIONS", "MAG_LP_PRESENTATION_OPTIONS", "X_FILTER_AXIS_PRESENTATION_OPTIONS", "Y_FILTER_AXIS_PRESENTATION_OPTIONS", "Z_FILTER_AXIS_PRESENTATION_OPTIONS", "MAG_FILTER_PRESENTATION_OPTIONS", "PolarSensorType", "PolarSensorNames", "t", "FILTER_TYPES", "FILTER_CHARACTERISTICS", "url_config", "IIRCalc", "createPolarVisRow", "content", "device", "PolarVisRow", "startRecording", "polarNameDict", "row_i", "row", "polarName", "stopRecording", "polar", "download", "getCurrentTime", "updateRecordBtn", "date", "year", "month", "day", "hours", "minutes", "seconds", "record_btn", "updateDisconnectBtn", "ble_disconnect_btn", "updateSearchURL", "config", "curr_url_search_string", "url_params", "key", "val", "new_url", "_PolarVisRow", "ECG_FILTER_MIN", "ECG_FILTER_MAX", "ECG_RMS_MIN", "ECG_RMS_MAX", "ACC_MIN", "ACC_MAX", "ACC_FILTER_MIN", "ACC_FILTER_MAX", "ECG_RMS_WINDOW_MS", "ECG_RMS_WINDOW_SIZE", "ECG_STREAM_DELAY_MS", "ACC_STREAM_DELAY_MS", "DEFAULT_MILLIS_PER_PX", "ACC_RANGE_G", "ACC_SAMPLE_RATE_HZ", "promises", "i", "has_active_stream", "alternative_name", "BODY_PARTS", "ECG_SAMPLE_RATE_HZ", "ECG_FILTER_ORDER", "ECG_HIGHLOWPASS_CUTOFF_HZ", "ECG_BANDPASS_LOW_CUT_HZ", "ECG_BANDPASS_HIGH_CUT_HZ", "AAC_LOWPASS_ORDER", "AAC_LOWPASS_CUTOFF_HZ", "AAC_FILTER_ORDER", "AAC_FILTER_BANDPASS_LOW_CUT_HZ", "AAC_FILTER_BANDPASS_HIGH_CUT_HZ", "filter_info", "data", "s_i", "sample_i", "timestamp", "frameNum", "y_d", "x_d", "z_d", "ev", "id_val", "duplicateInd", "duplicateRow", "customBodyPart", "err", "prevRow", "nextRow", "plotDelay", "filtered_sample_i", "filtered_sample_squared_n_i", "data_rms_i", "x_lp_d", "y_lp_d", "z_lp_d", "x_lp_d_2", "y_lp_d_2", "z_lp_d_2", "rho", "phi", "theta", "acc_mag", "mag_lp_d", "x_filter_d", "y_filter_d", "z_filter_d", "mag_filter_d", "HEART_INDEX", "evt", "selected", "ECG_PRESENTATION_OPTIONS", "genSmoothieLegendInfo", "DEFAULT_ECG_LINE_CHART_OPTION", "ECG_FILTER_PRESENTATION_OPTIONS", "prettyPrintFilter", "ECG_RMS_PRESENTATION_OPTIONS", "title", "X_AXIS_PRESENTATION_OPTIONS", "Y_AXIS_PRESENTATION_OPTIONS", "Z_AXIS_PRESENTATION_OPTIONS", "MAG_PRESENTATION_OPTIONS", "DEFAULT_ACC_LINE_CHART_OPTION", "X_LP_AXIS_PRESENTATION_OPTIONS", "Y_LP_AXIS_PRESENTATION_OPTIONS", "Z_LP_AXIS_PRESENTATION_OPTIONS", "MAG_LP_PRESENTATION_OPTIONS", "RHO_AXIS_PRESENTATION_OPTIONS", "PHI_AXIS_PRESENTATION_OPTIONS", "THETA_AXIS_PRESENTATION_OPTIONS", "X_FILTER_AXIS_PRESENTATION_OPTIONS", "Y_FILTER_AXIS_PRESENTATION_OPTIONS", "Z_FILTER_AXIS_PRESENTATION_OPTIONS", "MAG_FILTER_PRESENTATION_OPTIONS", "delta", "ECG_DELTA", "ECG_FILTER_SCROLL_MIN", "SCROLL_MAX_LIMIT_FACTOR", "ECG_RMS_SCROLL_MIN", "ACC_DELTA", "ACC_SCROLL_MIN", "ACC_MAG_DELTA", "ACC_MAG_SCROLL_MIN", "width_class", "createDiv", "createCanvas", "CustomSmoothie", "resizeSmoothieGen", "entries", "entry", "myInd", "conditionCallback", "self", "PolarH10", "acc_settings", "PolarSensorType", "selectedInd", "url_need_update", "SmoothieTSInfo", "hr_info", "new_hr_text", "rr", "rr_s", "new_hrv_text", "customBodyPartStr", "body_part_ind", "batt_lvl", "battStr", "LOW_BATT_LVL", "createButtonIcon", "addTooltip", "createSelect", "getPolarRowId", "createSpan", "ECG_STREAM_DELAY_MIN_MS", "ECG_STREAM_DELAY_MAX_MS", "rms_input", "ECG_RMS_WIN_MIN_MS", "ECG_RMS_WIN_MAX_MS", "ACC_STREAM_DELAY_MIN_MS", "ACC_STREAM_DELAY_MAX_MS", "ECG_MS_PER_PX_MIN", "ECG_MS_PER_PX_MAX", "ACC_MS_PER_PX_MIN", "ACC_MS_PER_PX_MAX", "ACCRange", "ACC_RANGE_OPTIONS", "ACCSampleRate", "ACC_SAMPLE_RATE_OPTIONS", "ECGFilterType", "FILTER_TYPES", "ACCFilterType", "newOrder", "ECGFilterChar", "FILTER_CHARACTERISTICS", "ACCFilterChar", "ACCLPChar", "cutOff", "ECG_BAND_LOW_MIN_HZ", "ECG_BAND_HIGH_MAX_HZ", "ACC_BAND_LOW_MIN_HZ", "ACC_BAND_HIGH_MAX_HZ", "ECG_BAND_HIGH_STEP_HZ", "ACC_BAND_HIGH_STEP_HZ", "preSelected", "preDisabled", "target", "ACCOnRows", "ECGTitleRow", "customBodypartInputDiv", "customBodypartSpan", "createTextInput", "ECGstreamDelayDiv", "createNumInput", "ECG_STREAM_DELAY_STEP_MS", "ECG_MS_PER_PX_STEP", "ECG_RMS_WIN_STEP_MS", "ACCTitleRow", "ACCSampleRateRange", "ACCSampleRateSpan", "ACCRangeSpan", "ACCDisplaySettingsDiv", "ACC_STREAM_DELAY_STEP_MS", "ACC_MS_PER_PX_STEP", "ECG_switch", "createSwitch", "ACC_switch", "disabled", "compactPrettyPrintFilter", "sampleRate", "addCallback", "ECGIsOn", "startECGReply", "e", "stopECGReply", "range", "ACCIsOn", "startACCReply", "stopACCReply", "chart", "widthRatio", "heightRatio", "verbose", "canvas", "parent", "width", "height", "new_width", "new_height", "labeltext", "eventHandler", "idGenerator", "label", "input", "icon", "id", "classList", "textContent", "options", "select", "configureHTMLElement", "addOptionsToSelect", "option_str", "option", "myDiv", "min", "max", "step", "myNumInput", "mySpan", "createCanvas", "id", "parent", "classList", "textContent", "idGenerator", "getPolarRowId", "myCanvas", "configureHTMLElement", "e", "PolarVisRow", "ECGIsOn", "row", "ACCIsOn", "addTooltip", "tooltip", "dir", "createButtonIcon", "type", "isMaterialIcon", "onclick", "btn", "id_suffix", "icon", "capitalizeFirstLetter", "str", "prettyPrintFilter", "filterInfo", "cap", "compactPrettyPrintFilter", "download", "filename", "content", "mimeType", "a", "blob", "url", "webapp_container", "top_bar_div", "title", "no_suffix", "ble_conn_btn", "createButtonIcon", "bleConnectHandle", "ble_disconnect_btn", "stopStreamExit", "content", "debug_message", "is_recording", "record_btn", "onRecordClicked", "recording_icon", "record_icon", "ev", "stopRecording", "startRecording", "device", "SERVICES", "err", "createPolarVisRow", "PolarVisRow", "event"]
}
